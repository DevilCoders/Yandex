# -*- coding: utf-8 -*-

from __future__ import print_function, absolute_import, division

from library.python import spack


def test_roundtrip():
    sensors = {
        'sensors': [{
            'labels': {
                'group': 'MSK_IVA_YABS_FRONTEND_SERVER_YABS_PRESTABLE',
                'role': 'metasearch',
                'sensor': 'uptime',
            },
            'timeseries': [
                {'ts': '2018-04-14T11:26:22Z', 'value': 19207},
                {'ts': '2018-04-14T11:26:23Z', 'value': 19208},
                {'ts': '2018-04-14T11:26:24Z', 'value': 19209},
                {'ts': '2018-04-14T11:26:26Z', 'value': 19210},
                {'ts': '2018-04-14T11:26:27Z', 'value': 19211},
                {'ts': '2018-04-14T11:26:28Z', 'value': 19212},
                {'ts': '2018-04-14T11:26:29Z', 'value': 19213},
                {'ts': '2018-04-14T11:26:30Z', 'value': 19214},
                {'ts': '2018-04-14T11:26:31Z', 'value': 19216},
                {'ts': '2018-04-14T11:26:32Z', 'value': 19217},
                {'ts': '2018-04-14T11:26:33Z', 'value': 19218},
                {'ts': '2018-04-14T11:26:34Z', 'value': 19219},
                {'ts': '2018-04-14T11:26:35Z', 'value': 19220},
                {'ts': '2018-04-14T11:26:36Z', 'value': 19221},
                {'ts': '2018-04-14T11:26:37Z', 'value': 19222},
                {'ts': '2018-04-14T11:26:38Z', 'value': 19223},
                {'ts': '2018-04-14T11:26:39Z', 'value': 19224},
                {'ts': '2018-04-14T11:26:40Z', 'value': 19225},
                {'ts': '2018-04-14T11:26:41Z', 'value': 19226},
                {'ts': '2018-04-14T11:26:42Z', 'value': 19227},
                {'ts': '2018-04-14T11:26:43Z', 'value': 19228},
                {'ts': '2018-04-14T11:26:44Z', 'value': 19229},
                {'ts': '2018-04-14T11:26:45Z', 'value': 19230},
                {'ts': '2018-04-14T11:26:46Z', 'value': 19231},
                {'ts': '2018-04-14T11:26:47Z', 'value': 19232},
                {'ts': '2018-04-14T11:26:48Z', 'value': 19233},
                {'ts': '2018-04-14T11:26:49Z', 'value': 19234},
                {'ts': '2018-04-14T11:26:50Z', 'value': 19235},
                {'ts': '2018-04-14T11:26:51Z', 'value': 19236},
                {'ts': '2018-04-14T11:26:52Z', 'value': 19237},
            ],
        }, {
            'labels': {
                'group': 'MSK_IVA_YABS_FRONTEND_SERVER_YABS_PRESTABLE',
                'role': 'stat07',
                'sensor': 'uptime',
            },
            'timeseries': [
                {'ts': '2018-04-14T11:26:22Z', 'value': 19207},
                {'ts': '2018-04-14T11:26:23Z', 'value': 19208},
                {'ts': '2018-04-14T11:26:25Z', 'value': 19210},
                {'ts': '2018-04-14T11:26:26Z', 'value': 19211},
                {'ts': '2018-04-14T11:26:27Z', 'value': 19212},
                {'ts': '2018-04-14T11:26:28Z', 'value': 19213},
                {'ts': '2018-04-14T11:26:29Z', 'value': 19214},
                {'ts': '2018-04-14T11:26:30Z', 'value': 19215},
                {'ts': '2018-04-14T11:26:31Z', 'value': 19216},
                {'ts': '2018-04-14T11:26:32Z', 'value': 19217},
                {'ts': '2018-04-14T11:26:33Z', 'value': 19218},
                {'ts': '2018-04-14T11:26:34Z', 'value': 19219},
                {'ts': '2018-04-14T11:26:35Z', 'value': 19220},
                {'ts': '2018-04-14T11:26:36Z', 'value': 19221},
                {'ts': '2018-04-14T11:26:37Z', 'value': 19222},
                {'ts': '2018-04-14T11:26:38Z', 'value': 19223},
                {'ts': '2018-04-14T11:26:39Z', 'value': 19224},
                {'ts': '2018-04-14T11:26:40Z', 'value': 19225},
                {'ts': '2018-04-14T11:26:41Z', 'value': 19226},
                {'ts': '2018-04-14T11:26:42Z', 'value': 19227},
                {'ts': '2018-04-14T11:26:43Z', 'value': 19228},
                {'ts': '2018-04-14T11:26:44Z', 'value': 19229},
                {'ts': '2018-04-14T11:26:45Z', 'value': 19230},
                {'ts': '2018-04-14T11:26:46Z', 'value': 19231},
                {'ts': '2018-04-14T11:26:47Z', 'value': 19232},
                {'ts': '2018-04-14T11:26:48Z', 'value': 19233},
                {'ts': '2018-04-14T11:26:49Z', 'value': 19234},
                {'ts': '2018-04-14T11:26:50Z', 'value': 19235},
                {'ts': '2018-04-14T11:26:51Z', 'value': 19236},
                {'ts': '2018-04-14T11:26:52Z', 'value': 19237},
            ],
        }],
    }

    return spack.loads(spack.dumps(sensors))
