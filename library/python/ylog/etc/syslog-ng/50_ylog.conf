# all known message sources
source s_50_ylog {
    udp(ip(127.0.0.1) port(514));
    tcp(ip(127.0.0.1) port(514));
};

template t_50_ylog {
    template("$MSGONLY\n"); template_escape(no);
};

destination df_50_ylog {
    file("/var/log/$PROGRAM.log"
    perm(0644)
    dir_perm(0755)
    owner(www-data)
    dir_owner(www-data)
    template(t_50_ylog));
};

filter f_50_ylog {
    (program("^yandex/[a-zA-Z0-9_/-]*$"));
};

log {
    source(s_50_ylog); source(s_src);
    filter(f_50_ylog);
    destination(df_50_ylog);
    flags(final);
};
