{
  "opts": {
    "name": "commercial",
    "domain": "*",
    "rr": true,
    "connect_timeout": "40ms",
    "backend_timeout": "50ms",
    "stats_attr_balancer": "commercial_balancer",
    "stats_attr_backend": "commercial_backend",
    "http": {
        "maxlen": 65536,
        "maxreq": 65536
    }
  },
  "index_types": {
    "main": {
      "name": "commercial",
      "regexp": [
        {
          "match": "url",
          "template": "/commercial\\\\?(.*)?docid=([a-fA-F0-9]+)(&.*)?"
        }
      ],
      "id_regexp": "docid=([a-fA-F0-9]+)",
      "stats_attr": "main",
      "shardFunc": "consistent_hashing",
      "weight_file": "heavy.weight",
      "sharded": true
    },
    "schema_org": {
      "name": "schema_org",
      "regexp": [
        {
          "match": "url",
          "template": "/schema-org\\\\?(.*)?product=([a-fA-F0-9]+)(&.*)?"
        }
      ],
      "id_regexp": "product=([a-fA-F0-9]+)",
      "stats_attr": "schema_org",
      "shardFunc": "consistent_hashing",
      "weight_file": "heavy.weight",
      "sharded": true
    }
  },
  "instances": {
    "balancers": {
      "man": {
        "enable": true,
        "group": ["MAN_IMGS_COMMERCIAL_BALANCER_HAMSTER"]
      },
      "sas": {
        "enable": true,
        "group": ["SAS_IMGS_COMMERCIAL_BALANCER_HAMSTER"]
      }
    },
    "backends": {
      "main": {
        "prod": {
          "sas": {
            "enable": true,
            "rr": true,
            "name": ["SAS_IMGS_COMMERCIAL_HAMSTER"]
          },
          "man": {
            "enable": true,
            "rr": true,
            "name": ["MAN_IMGS_COMMERCIAL_HAMSTER"]
          }
        }
      },
      "schema_org": {
        "prod": {
          "sas": {
            "enable": true,
            "rr": true,
            "name": ["SAS_IMGS_COMMERCIAL_HAMSTER"]
          },
          "man": {
            "enable": true,
            "rr": true,
            "name": ["MAN_IMGS_COMMERCIAL_HAMSTER"]
          }
        }
      }
    }
  }
}
