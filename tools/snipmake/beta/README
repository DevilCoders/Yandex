

1. down.sh
    Убивает процессы базовых поисков и стирает папку на всех машинах из current.txt (создается автоматически при подъеме беты - см. up.sh)
    Если curent.txt нет - то на всех машинах из testws-production-replica
    
    Параметры:
        ME=mark4                            - имя беты
        BS=httpsearch_$ME                   - имя базового поиска (по нему будут grep'атся процессы для kill -9)
        MY_PATH=/var/tmp/sky_snippets_$ME   - папка с содержимым беты (стирается после остановки базовых)

2. up.sh
    Получает актуальный список машин и баз на них
    Раскладывает бинарник, конфиг и нужные файлы по нужным машинам.
    Запускае базовые.

    Параметры:
        ME=mark4                            - имя беты
        BS=httpsearch_$ME                   - имя файла базового поиска (с таким именем он должен лежать в директории скрипта)
        BP=8909                             - начало диапазона портов (в случае с несколькими базами на машине порты будут $BP, $BP+1, $BP+2
                                              соответсвие порт - база соответсвет порядку в current.txt)
        CF=$ME.cfg                          - имя файла конфига
        MY_PATH=/var/tmp/sky_snippets_$ME   - путь к папке, где все будет лежать на кластере
        TB=$ME.tar.gz                       - имя tarball загружаемого на машинки
        TIERS="stag=RusTier0"               - список небходимых груп шардов (если пусто - то на всю testws-production-replica)

3. hosts.sh
    Получает список машин (каждая машина встречается столько раз, сколько баз на ней есть)
    
    Параметры:
        TIERS="stag=RusTier0"               - список необходимых груп шардов

4. gen_middle.py
    Генерирует конфиг среднего - на stdin ожидает stdot host.sh

5. run.sh
    Вспомогательный скрипт. Запускает базовые на машинке.

6. kill.sh
    Вспомогательный скрипт. Убивает базовые на машинке

7. middle_down.sh
    Убивает процесс среднего поиска и стирает папку на $HOST
    
    Параметры:
        ME=mark4                            - имя беты
        BS=middlesearch_$ME                 - имя среднего поиска (по нему будут grep'атся процессы для kill -9)
        HOST=scrooge.yandex.ru              - хост, на котором запущен средний
        MY_PATH=/var/tmp/sky_snippets_$ME   - папка с содержимым беты (стирается после остановки среднего)

8. middle_up.sh
    Раскладывает бинарник, конфиг и нужные файлы на хосте

    Параметры:
        ME=mark4                                - имя беты
        HOST=scrooge.yandex.ru                  - имя хоста, на котором будет раскладываться средний поиск

        MS_BINARY_PATH=/place/home/alivshits/SHARED/middlesearch_data/middlesearch_mark4    - путь к бинарнику среднего поиска
                        последний стабильный бинарник среднего обычно можно взять по этой ссылке:
                        http://quentao.yandex-team.ru/sandbox/releases/list?resource_type=MIDDLESEARCH_EXECUTABLE&task_type=&release_status=&current_releases=on&refresh_params=true
        
        MS=middlesearch_$ME                     - имя файла, который будет скопирован на хост для запуска
        CFG=$MS.cfg                             - имя файла конфига
        TB=$MS"_tar".tar.gz                     - имя tarball загружаемого на хост
        MY_PATH=/var/tmp/sky_snippets_$ME       - путь к папке, где все будет лежать на хосте

