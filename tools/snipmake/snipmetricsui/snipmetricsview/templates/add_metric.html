{% extends "base_template.html" %}

{% block title %} 
   Добавить новую метрику
{% endblock %}

{% block styles %}
<style>
  ul.errors li{
     color: red;
     file-size: 12px;
  }
</style>
{% endblock %}

{% block menu %}
{% endblock %}

{% block body %}
<h1>{% if editMetricId %}Редактировать {% else %}Добавить новую {% endif %} метрику</h1>
<form action="add_metric.html" method="POST" name="add_metric" enctype="multipart/form-data">
{% if editMetricId %}<input type="hidden" name="editMetricId" value="{{ editMetricId }}" />{% endif %}
<table>
<tr><td class="fieldWrapper">
 <label for="id_name">Описание:</label></td><td>
 {{ metricForm.name }} {{ metricForm.name.errors }}
</td></tr>
<tr><td class="fieldWrapper">
 <label for="id_shortName">Название:</label></td><td>
 {{ metricForm.shortName }} {{ metricForm.shortName.errors }}
</td></tr>
<tr><td class="fieldWrapper">
 <label for="id_shortName">Описание:</label></td><td>
 {{ metricForm.description }} {{ metricForm.description.errors }}
</td></tr>
<tr><td class="fieldWrapper">
 <label for="id_calculatorExePath">Программа/скрипт для подсчета метрики:</label></td><td>
  {{ metricForm.calculatorExePath }} {{ metricForm.calculatorExePath.errors }}
</td></tr>
<tr><td class="fieldWrapper">
 <label for="id_calculatorExeFile">Загрузить новую программу/скрипт:</label></td><td>
 {{ metricForm.calculatorExeFile }} {{ metricForm.calculatorExeFile.errors }}
</td></tr>
<tr><td class="fieldWrapper">
 <label for="id_commandLineParams">Параметры командной строки:</label></td><td>
 {{ metricForm.commandLineParams }} {{ metricForm.commandLineParams.errors }}
 <br ><a href="add_metric_category.html">Добавить новую категорию метрик</a>
</td></tr>

<tr><td class="fieldWrapper">
 <label for="id_categories">Категории:</label></td><td>
 {{ metricForm.categories }} {{ metricForm.categories.errors }}
 <br ><a href="add_metric_category.html">Добавить новую категорию метрик</a>
</td></tr>


<tr><td colspan="2">
{% if errors %}
   <ul class="errors">
   {% for error in errors %}
      <li>{{ error }}</li>
   {% endfor %}
   </ul>
{% endif %}
</td></tr></table>
<input type="submit" name="add" value="Добавить" />
</form>

{% endblock %}