title: Сборка пакетов direct
# творческая copy-paste c common/arcadia/ya_package_2.yaml
# тип ресурса передавать при вызове
description: Собирает таску DIRECT_YA_PACKAGE
maintainers: direct

sandbox-task:
  name: DIRECT_YA_PACKAGE
  required-parameters:
    - build_system
    - build_type
    - checkout_arcadia_from_url
    - package_type
    - publish_package
    - resource_type
    - run_tests

parameters:
  build_system: ya
  build_type: release
  checkout_arcadia_from_url: "arcadia-arc:/#${context.target_revision.hash}"
  package_type: tarball
  publish_package: true
  resource_type: YA_PACKAGE
  run_tests: false
  use_aapi_fuse: true
  use_arc_instead_of_aapi: true
  release_to_ya_deploy: true
  arc_secret: "${context.secret_uid}#ci.token"
  ya_yt_token_yav_secret: "${context.secret_uid}#ci.token"

