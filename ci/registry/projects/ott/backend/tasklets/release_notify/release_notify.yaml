title: ReleaseNotify
description: Release notifications
maintainers: ott-backend
sources: ott/backend/tasklets/ci/release_notify
auto-rollback-mode: SKIP

tasklet:
  runtime: sandbox
  implementation: ReleaseNotify

versions:
  stable: 3141474879

parameters:
  config:
    type: FROM_PREVIOUS_STABLE
  startrek:
    template: |
      $service version $version, including ~$issue (commit r$revision), deployed to $environment ($yd_env) by [CI flow]($ci_url)
  jns:
    template: |
      \#release \#backend \#$service \#$environment
      $service version $version deployed to $environment \($yd_env\) by [CI flow]($ci_url)
      Issues: $tickets
      Changelog:
      $changelog
    project_id: OTT
    target_project_id: OTT
    template_id: simple-text-template
    channel_id: ${flow-vars.jns-channel-id}

attempts: 1

requirements:
  disk: 1 GB
  cores: 1
  ram: 1 GB

  sandbox:
    client_tags: SSD
