title: Ya Make
description: Собирает проект используя ya make
maintainers: g:logos

sandbox-task:
  name: YA_MAKE_2
  required-parameters:
    - build_system
    - build_type
    - checkout_arcadia_from_url
    - targets
  badges-configs:
    - id: build_report
      module: SANDBOX

parameters:
  build_system: semi_distbuild
  build_type: release
  checkout_arcadia_from_url: arcadia-arc:/#${context.target_revision.hash}
  use_aapi_fuse: true
  use_arc_instead_of_aapi: false
  result_single_file: true
  ya_yt_store: true
  strip_binaries: true
  result_rd: "CI: ${context.title}\nCommit by ${context.flow_triggered_by}.\n<b>Revision:</b> <a href=\"https://a.yandex-team.ru/arc/commit/${context.target_revision.number}\">r${context.target_revision.number}</a>"
  arc_secret: "${context.secret_uid}#ci.token"

requirements:
  sandbox:
    client_tags: "GENERIC & ~INTEL_E5645"
    priority:
      class: SERVICE
      subclass: HIGH
