title: TplatformDeployClownductor
description: Deploy clownductor
maintainers: automation_group_backend_mlu
sources: /taxi/tasklets/tplatform/deploy_clownductor

tasklet:
  runtime: sandbox
  implementation: deploy_clownductor

versions:
  stable: 3280094978

parameters:
  config:
    robot:
      secret:
        clownductor_token_key: clownductor.token # (str)
    project:
      arc_branch: # need (str: arcadia/<arc_branch>)
      arc_project_path: ${context.config_info.dir} # (str)
    clownductor:
      # need (str: registry.yandex.net/docker_image_prefix/service_name/environment(production|unstable|testing):version)
      # example: registry.yandex.net/taxi/tplatform-test-service/testing:4.0.22
      docker_image:
      deploy_type: release # (str: (rebuild, hotfix, release))
      deploy_branch: testing # (str)
      release_ticket_url: # (str: https://st.yandex-team.ru/<ticket-ID>)
    enable_release_without_changelog: false # (bool)
    check_dockerfile: false # (bool)
    dry_run: ${not_null(flow-vars.dry_run, `false`)} # (bool)
