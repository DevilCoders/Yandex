title: KiKiMRRollingRestart
description: Run KiKiMR Rolling Restart on provided host.
maintainers: kikimr

sandbox-task:
    template: kikimr_rolling_restart_base
    required-parameters:
        - addr # address of configuration management system for concrete YDB cluster.
        - availability_mode
        - service
        - token_vault_key
        - token_vault_owner
        - drain_via_api
        - drain_time_limit
        - ssh_key_vault_owner
        - ssh_key_vault_entry
        - ssh_user
    accept-resource-states:
        - READY

parameters:
  availability_mode: keep
  service: kikimr
  token_vault_key: 'robot-logbroker-lb-token'
  token_vault_owner: 'LOGBROKER'
  drain_via_api: false
  ssh_key_vault_owner: LOGBROKER
  ssh_key_vault_entry: robot-logbroker-ssh
  ssh_user: robot-logbroker


attempts: 1
