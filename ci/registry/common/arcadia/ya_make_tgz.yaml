title: Сборка проекта в архив
description: Собирает проект используя ya make и пакует артефакты в tar.gz
maintainers: ci

sandbox-task:
  name: YA_MAKE_TGZ
  required-parameters:
    - build_system
    - build_type
    - checkout_arcadia_from_url
    - targets

parameters:
  build_system: ya
  build_type: release
  checkout_arcadia_from_url: arcadia-arc:/#${context.target_revision.hash}
  use_aapi_fuse: true
  use_arc_instead_of_aapi: true
  arc_secret: "${context.secret_uid}#ci.token"
  ya_yt_token_yav_secret: "${context.secret_uid}#ci.token"
  junit_report: false  # enabled by default
  resource_compress: true

requirements:
  sandbox:
    client_tags: "GENERIC & LINUX"
