title: Сборка проекта
description: Собирает проект используя ya make
maintainers: ci

sandbox-task:
  name: YA_MAKE_2
  required-parameters:
    - build_system
    - build_type
    - checkout_arcadia_from_url
    - targets
  badges-configs:
    - id: build_report
      module: SANDBOX
    - id: allure_report
      module: ALLURE

parameters:
  build_system: ya
  build_type: release
  checkout_arcadia_from_url: arcadia-arc:/#${context.target_revision.hash}
  use_aapi_fuse: true
  use_arc_instead_of_aapi: true
  arc_secret: "${context.secret_uid}#ci.token"
  ya_yt_token_yav_secret: "${context.secret_uid}#ci.token"
  # Запускаем как бинарную задачу по умолчанию
  binary_executor_release_type: stable

requirements:
  sandbox:
    client_tags: "GENERIC & LINUX"
