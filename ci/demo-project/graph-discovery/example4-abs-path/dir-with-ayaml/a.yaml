# comment
service: cidemo
title: "Yandex CI Demo Projects [graph discovery]"

ci:
  secret: sec-01e8agdtdcs61v6emr05h5q1ek
  runtime:
    sandbox-owner: CI

  releases:
    demo-sawmill-release-graph-discovery:
      title: "Graph discovery demo (example4: abs-paths)"
      description: |
        В релизе хотим видеть все коммиты, затрагивающие [program](/arcadia/ci/demo-project/graph-discovery/example4-abs-path/program), который зависит от [lib](/arcadia/ci/demo-project/graph-discovery/example4-abs-path/lib)
        - Файл [dir-with-ayaml/a.yaml](/arcadia/ci/demo-project/graph-discovery/example4-abs-path/dir-with-ayaml/a.yaml) с фильтром abs-paths

        Стоит понимать, что если внутри `lib` меняется файл, не участвующий в системе сборки (например, README.md, который просто лежит), то коммит не будет виден в таймлайне

        Код: [demo-project/graph-discovery/example4-abs-path](/arcadia/ci/demo-project/graph-discovery/example4-abs-path)
      flow: sawmill
      filters:
        - discovery: graph
          abs-paths: [ ci/demo-project/graph-discovery/example4-abs-path/program/** ]
      tags: [ demo, sawmill ]

  flows:
    sawmill:
      title: Flow with dummy job
      jobs:
        dummy:
          title: dummy
          task: dummy
