Configuration:
  status: debug

  Appenders:
    RollingFile:

      - name: Calculation
        fileName: "${baseDir}/calculation.log"
        filePattern: "${baseDir}/calculation.%d{yyyy-MM-dd}.%i.log.gz"
        PatternLayout:
          Pattern: "%d %-5p [%c{1} %t] %m%n"
        Policies:
          SizeBasedTriggeringPolicy:
            size: 1 GB
          TimeBasedTriggeringPolicy:
            interval: 1
        DefaultRolloverStrategy:
          max: 99
          Delete:
            basePath: ${baseDir}
            maxDepth: 1
            IfFileName:
              glob: calculation.*.log*
            IfLastModified:
              age: 3d

  Loggers:
    Logger:
      - name: ru.yandex.ci.storage.shard.CalculationLogger
        level: info
        additivity: false
        AppenderRef:
          - ref: Calculation
            level: info
