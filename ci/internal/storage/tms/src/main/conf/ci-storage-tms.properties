# Spring
server.port=${storage.bazingaAdminAddressResolver.httpPort}

# Bazinga
bazinga.amazonS3.endpoint=http://s3.mds.yandex.net
bazinga.amazonS3.region=eu-west-1
bazinga.amazonS3.accessKeyId=${ci.bazinga.s3.aws_access_key_id}
bazinga.amazonS3.secretAccessKeyId=${ci.bazinga.s3.aws_secret_access_key}

bazinga.logStorageS3.workdir=${log.dir:./logs}
bazinga.logStorageS3.s3Bucket=ci-storage-bazinga-testing
bazinga.logStorageS3.s3Env=testing

bazinga.bazingaCleanup.cleanupOlderThan=4h
bazinga.bazingaTaskLoggerS3.uploadThreads=4
bazinga.bazingaTaskLoggerS3.immediateFlush=true

bazinga.BazingaCleanupService.cleanupSeconds=600
bazinga.OnetimeJobRetries.runSeconds=30

storage.BazingaMonitoringSchedule.updateBazingaScheduledMetricsSeconds=30

storage.zkConfiguration.zkHosts=sandbox-server03.search.yandex.net,\
  sandbox-server11.search.yandex.net:2181,\
  sandbox-server25.search.yandex.net:2181

# Deprecated configs
storage.workerLogConfiguration.logDir=${log.dir:./logs}/bazinga
storage.workerLogConfiguration.onetimeLogRotation=90d

storage.typedServer.bazingaPort=4211

storage.bazingaWorkerConfiguration.bazingaThreadCount=100
storage.bazingaWorkerConfiguration.bazingaQueueSize=10000

storage.bazingaWorkerConfiguration.bazingaExportThreadCount=6
storage.bazingaWorkerConfiguration.bazingaExportQueueSize=10000

storage.bazingaWorkerConfiguration.chExportThreadCount=4
storage.bazingaWorkerConfiguration.chExportQueueSize=10000

storage.bazingaWorkerConfiguration.archiveThreadCount=64
storage.bazingaWorkerConfiguration.archiveQueueSize=10000

storage.bazingaAdminAddressResolver.httpPort=8080

# Clickhouse exporter
storage.clickHouseExportService.batchSize=100000

# Statistics
storage.statisticsCronTask.period=15s
storage.iterationTimeoutCronTask.cancelOlderThan=7d
storage.iterationTimeoutCronTask.period=60s
storage.cronTasksFailurePercent.failureCountToWarn=5

# Arcanum
storage.arcanumHttpClientProperties.arcanumUrl=${storage.arcanum.address}
storage.arcanumTvmClientId.tvmId=2000683
# Cache
storage.tmsChecksCache.size=${storage.shared.cache.checks.size}
storage.tmsIterationsCache.size=${storage.shared.cache.iterations.size}
storage.tmsCheckTasksCache.size=${storage.shared.cache.check_tasks.size}
storage.tmsLargeTasksCache.size=${storage.shared.cache.large_tasks.size}
storage.storageTmsCache.maxNumberOfWrites=10000
