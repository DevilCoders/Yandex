Configuration:
  status: debug

  Appenders:
    RollingFile:
      - name: Logbroker
        fileName: "${baseDir}/logbroker.log"
        filePattern: "${baseDir}/logbroker.%d{yyyy-MM-dd}.%i.log.gz"
        PatternLayout:
          Pattern: "${logPattern}"
        Policies:
          SizeBasedTriggeringPolicy:
            size: 1 GB
          TimeBasedTriggeringPolicy:
            interval: 1
        DefaultRolloverStrategy:
          max: 99
          Delete:
            basePath: ${baseDir}
            maxDepth: 1
            IfFileName:
              glob: logbroker.*.log*
            IfLastModified:
              age: 7d

  Loggers:
    Logger:
      - name: ru.yandex.ci.storage.core.logbroker.LogbrokerLogger
        level: info
        additivity: false
        AppenderRef:
          - ref: Logbroker
            level: info
