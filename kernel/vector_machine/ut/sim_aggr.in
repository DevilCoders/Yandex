CalcerConfigs {
    ClassName: "TSimAggrTestCalcer"
    Type: CT_SIM_AGGR

    Similarity {
        Type: ST_COS
        Transforms {
            Type: TT_LINEAR
            Multiplier: 1.0
            Bias: 1.0
        }
        Transforms {
            Type: TT_LINEAR,
            Multiplier: 0.5
            Bias: 0.0
        }
    }

    AggregatorLists {
        Name: "WeightName"

        Aggregators {
            Type: AT_AVG_TOP_SCORE
            Params: 0
            Params: 4
            Params: 0.1
            Params: 0.2
            Params: 0.4
            Params: 1
        }

        Aggregators {
            Type: AT_AVG_TOP_SCORE_WEIGHTED
            Params: 0
            Params: 4
            Params: 0.1
            Params: 0.2
            Params: 0.4
            Params: 1
        }

        Aggregators {
            Type: AT_MIN_TOP_SCORE
            Params: 0
            Params: 4
            Params: 0.1
            Params: 0.2
            Params: 0.4
            Params: 1
        }

        Aggregators {
            Type: AT_MIN_TOP_SCORE_WEIGHTED
            Params: 0
            Params: 4
            Params: 0.1
            Params: 0.2
            Params: 0.4
            Params: 1
        }

        Aggregators {
            Type: AT_SCORE_THRESHOLD
            Params: 0.55
            Params: 0.95
            ThresholdStats: TST_MAX_WEIGHT
            ThresholdStats: TST_AVG_WEIGHT
            ThresholdStats: TST_REL_COUNT
            ThresholdStats: TST_COUNT
            ThresholdStats: TST_SATURATED_WEIGHT_SUM
        }

        Aggregators {
            Type: AT_AVG_TOP_SCORE_X_WEIGHT
            Params: 0
            Params: 0.1
            Params: 1
            Params: 2
        }

        Aggregators {
            Type: AT_IDENTITY
            Params: 1
            Params: 2
        }
    }
}

CalcerConfigs {
    ClassName: "TSimAggrAnotherTestCalcer"
    Type: CT_SIM_AGGR

    Similarity {
        Type: ST_DOT_NO_SIZE_CHECK
        Transforms {
            Type: TT_LINEAR
            Multiplier: 0.5
        }
    }

    AggregatorLists {
        Name: "Weight0"
        WeightsIndex: 0

        Slicer {
            Type: ST_LESS
            ThresholdValue: 5
        }

        Aggregators {
            Type: AT_AVG_TOP_SCORE
            Params: 0
            Params: 4
            Params: 0.1
            Params: 0.2
            Params: 0.4
            Params: 1
        }

        Aggregators {
            Type: AT_AVG_TOP_SCORE_WEIGHTED
            Params: 0
            Params: 4
            Params: 0.1
            Params: 0.2
            Params: 0.4
            Params: 1
        }

        Aggregators {
            Type: AT_MIN_TOP_SCORE
            Params: 0
            Params: 4
            Params: 0.1
            Params: 0.2
            Params: 0.4
            Params: 1
        }
    }

    AggregatorLists {
        Name: "Weight2"
        WeightsIndex: 2

        Slicer {
            Type: ST_GREATER_EQUAL
            ThresholdValue: 4
        }

        Aggregators {
            Type: AT_MIN_TOP_SCORE_WEIGHTED
            Params: 0
            Params: 4
            Params: 0.1
            Params: 0.2
            Params: 0.4
            Params: 1
        }

        Aggregators {
            Type: AT_SCORE_THRESHOLD
            Params: 0.25
            Params: 0.40
            ThresholdStats: TST_MAX_WEIGHT
            ThresholdStats: TST_AVG_WEIGHT
            ThresholdStats: TST_REL_COUNT
            ThresholdStats: TST_COUNT
            ThresholdStats: TST_SATURATED_WEIGHT_SUM
        }

        Aggregators {
            Type: AT_AVG_TOP_SCORE_X_WEIGHT
            Params: 0
            Params: 0.1
            Params: 0.5
            Params: 1
            Params: 2
        }
    }
}
