##
## When adding new keywords here,
## don't forget to update performance
## filters in calcer.cpp
##

def all = [*все all];
def new = [*новый последний new last];
def number = [?reg="^\d{1,3}$"];
def predlog = ([?gram=PR] | [й ий ый я ая st nd rd th]);
def numbers = ($predlog? $number)+ $predlog?;

def episode =  [*серия серія выпуск випуск эпизод эпізод episode series bölüm];
def season =  [*сезон season sezon saison];
def class = [*класс];

rule episode_numbers_left (1.0) = (<number_left> $numbers) (<episode> $episode);
rule episode_numbers_right (2.0) = (<episode> $episode) (<number_right> $numbers);
rule episode_numbers_both (3.5) = (<number_left> $numbers) (<episode> $episode) (<number_right> $numbers);
rule episode_all (5.0) = (<all_left> $all) (<episode> $episode);
rule episode_new (5.0) = (<new_left> $new) (<episode> $episode);

rule season_numbers_left (1.0) = (<number_left> $numbers) (<season> $season);
rule season_numbers_right (2.0) = (<season> $season) (<number_right> $numbers);
rule season_all (3.0) = (<all_left> $all) (<season> $season);
rule season_new (3.0) = (<new_left> $new) (<season> $season);

rule class_numbers_left = (<number_left> $numbers) (<class> $class);
rule class_numbers_right = (<class> $class) (<number_right> $numbers);
rule class_all = (<all_left> $all) (<class> $class);
