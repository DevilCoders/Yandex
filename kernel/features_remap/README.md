## Features remap
Библиотека для выполнения скриптов над factor-storage в рантайм.

Осноная цель: проверять на разных приборах утверждения вида (+подбирать под них параметры)
1. На сколько поедет оффлайн-метрика X если заменить фактор Y на константу
2. На выражение от других факторов
3. Проверять это в скачках и абт

## Концепция

* Вход: factor-storage + config преобразования
* Выход: изменённый factor-storage
* Конфиг:
    * Инициализация: маппинг факторов в переменные
    * Вычисление: выражнеия от переменных, которые будут подставлены в заданные факторы

Порядок выполнения:
* Вычисления всех Let выражений в порядке указания
* Вычисления всех Set выражений в порядке указания
* Вычисления всех If выражений в порядке указания

Что тут важно: вычисления не меняют стейта, сначала выполняются все вычисления, и только потом применяются изменения.

## Форматы конфигов:

1. Основной: прототекст + задание факторов через slice-id + имя фактора
2. Портативный: base64 от бинарного протобуфа, где все факторы представлены парами slice-id + смещение фактора

## Как пользоваться: пулы
В proto_pool udf есть функции для работы, см примеры в тестах (файл FeatureRemap.sql)


## Как пользоваться: скачки и абт

Применние происходит через параметр:

Он раскрывается на среднем в переранжировании ## и уходит на l2/l3 

