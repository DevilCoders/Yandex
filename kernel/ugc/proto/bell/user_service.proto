syntax = "proto3";

package NUgc.NSchema.NBell;

import "kernel/ugc/proto/bell/block.proto";
import "kernel/ugc/schema/proto/schema.proto";

message TUserService {
    // key
    string Id = 1 [json_name = "id"];

    // fields
    message TShowGroup {
        string Text = 1 [json_name = "text"];   // not stored in db
        bool Enabled = 2 [json_name = "enabled"];
    }
    map<string, TShowGroup> ShowGroup = 6 [json_name = "show_group"];

    // not stored in db
    string IconSrc = 4 [json_name = "icon_src"];
    map<string, string> Name = 5 [json_name = "name"];

    // nested tables
    repeated TBlock Blocks = 3 [json_name = "blocks"];

    // schema
    option (NUgc.NSchema.schema) = {
        Table: {
            Name: "blocks"
            Field: "Blocks"
            Key: "Id"
        }
    };
}
