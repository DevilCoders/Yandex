enabled: False
service: redis-server
user: redis
group: redis
config: salt://{{ slspath }}/files/etc/redis/redis.conf
params:
  daemonize: 'yes'
  port: 6379
  dir: '"/var/lib/redis"'
  pidfile: '"/var/run/redis/redis-server.pid"'
  logfile: '"/var/log/redis/redis-server.log"'
  slowlog-log-slower-than: 100000
  slowlog-max-len: 128
monitoring:
  graphite:
    info:
      - instantaneous_ops_per_sec
      - instantaneous_input_kbps
      - instantaneous_output_kbps
      - used_memory
      - used_memory_peak
      - total_commands_processed
      - mem_fragmentation_ratio
      - blocked_clients
      - connected_clients
      - rejected_connections
      - expired_keys
      - evicted_keys
      - keyspace_hits
    commandstats:
      - ALL
    keyspace:
      - ALL
    ping: True
  monrun:
    ping: True
