logformat tskv timestamp=%{%Y-%m-%dT%H:%M:%S}tl	timezone=%{%z}tl	\
	request_time=%tr	upstream_time=%<tt	client_ip=%>a	\
	upstream_ip=%<a	client_size=%<sH	upstream_size=%<sS	\
	client_raw_size=%<st	request=%>ru	content_type=%mt	\
	client_status=%>Hs	upstream_status=%<Hs	user=%[un	\
	squid_hier_status=%Sh	squid_request_status=%Ss	\
	protocol=%rv	method=%rm

access_log daemon:/var/log/squid3/access.log tskv
logfile_rotate 0

coredump_dir /var/tmp/squid3

http_port 3128

acl Safe_ports port 80          # http
acl Safe_ports port 443         # https

acl SSL_ports port 443
acl CONNECT method CONNECT

# sources
acl localhost src 127.0.0.1 ::1

# URLs
acl manager url_regex -i ^cache_object:// /squid-internal-mgr/

# disable caching
cache deny all

# allow manager only from localhost
http_access allow manager localhost
http_access deny manager

# allow all
http_access allow localhost
http_access allow all
