#!/bin/bash
if ! [ -d DONE ]
then 
	mkdir DONE
fi
echo "Исходный файл содержит потоки:"
for v in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.mp4 *.AVI *.MXF
do
	fs_proxy=$(ffprobe -v error -select_streams v:0 -show_entries stream=width -of default=noprint_wrappers=1:nokey=1 $v);
	fs=`echo ${fs_proxy} | awk '{print $1}'`
	if [[ $fs -gt "0" ]]
	then
		ffprobe -v error -show_entries stream=index,codec_type,codec_name,channels $v
		break
	fi
done
if [[ $fs -lt "769" ]] #Если исходник SD
then 
	echo "Работаем с SD $fs"
elif [[ $fs -gt "768" && $fs -lt "1921" ]] #Если исходник HD
then 
	echo "Работаем с HD $fs"
elif [[ $fs -gt "1920" ]] #Если исходник HD
then 
	echo "Работаем с 4K $fs"
fi

echo 'Кроп нужен? (y/n)'
read crop
if [[ $crop = "y" ]]
then
	echo 'Для SD-исходников кроп выполняется для обрезки черных полей исходника. После кропа всегда применяется апскейл до 768 пикселей по ширине!'
	echo 'Выполнить кроп автоматически? (y/n)'
	read autocrop
	if [[ $autocrop = "y" ]]
	then
		echo 'Интервал расчета кропа по умолчанию - 30 секунд, начиная с пятой минуты. Изменить?  (y/n)'
		read crop_dialog
		if [[ $crop_dialog = "y" ]]
		then
			echo 'введите -ss в формате HH:MM:SS'
			read crop_ss
			echo 'введите -t в формате HH:MM:SS, либо S...(S)'
			read crop_t
		elif [[ $crop_dialog != "y" ]]
		then
			crop_ss='00:05:00'
			crop_t='30'
		fi
	echo 'Изменить допуски границ черного для кропдетекта? (y/n)'
	read crop_threshold_dialog 
	if [[ $crop_threshold_dialog = "y" ]]
	then 
		echo 'введите допуски в формате в формате XX:YY:Z'
		read crop_threshold_proxy
		crop_threshold="=$crop_threshold_proxy"
	elif [[ $crop_threshold_dialog != "y" ]]
	then 
		crop_threshold=""
	fi
	elif [[ $autocrop != "y" ]]
	then 
		echo 'введите величину кропа в формате XX:YY:ZZ:WW, либо XX:YY'
		read cdresult_kor
		cdresult_suf="crop="
		cdresult=$cdresult_suf$cdresult_kor
	fi
fi

echo 'отрезать начало нужно? (y/n)'
read ss
if [[ $ss = "y" ]]
then
	echo 'введите виличину отреза в формате ЧЧ:ММ:СС'
	read ss_value
fi
#сбор параметров русской дорожки
echo 'в исходнике есть стерепоток или 5.1-поток с русским звуком? (2/6/n)'
read stereo_str
if [[ $stereo_str = "2" || $stereo_str = "6" ]]
then
	echo 'введите его номер в исходнике'
	read stereo_value
elif [[ $stereo_str = "n" ]]
then
	echo 'из скольки каналов собираем русскую звуковую дорожку: 2, 5.1 или другое? (2/6/e)'
	read dub_sound_ch
	if [[ $dub_sound_ch = "2" ]]
	then 
		echo 'укажите номер левого канала'
		read st_left
		echo 'укажите номер правого канала'
		read st_right
	elif [[ $dub_sound_ch = "6" ]]
	then 
		echo 'укажите номер левого канала'
		read sur_left
		echo 'укажите номер правого канала'
		read sur_right
		echo 'укажите номер центрального канала'
		read sur_centr
		echo 'укажите номер низкочастотного канала'
		read sur_lfe
		echo 'укажите номер левого заднего канала'
		read sur_left_sur
		echo 'укажите номер правого заднего канала'
		read sur_right_sur
	elif [[ $dub_sound_ch = "e" ]] 
	then 
		echo 'собрать псевдостерео из одного моно-аудиопотока? (номер потока или n)'
		read pseudo_st_ch
		if [[ $pseudo_st_ch = "n" ]] 
		then
			echo 'собрать псевдостерео из одного моно-канала внутри аудиопотока? (номер потока или n)'
			read pseudo_st_str
			if [[ $pseudo_st_str = "n" ]]
			then 
				echo 'Мы еще не придумали обработку других вариантов!'
				exit
			elif [[ $pseudo_st_str != "n" ]]
			then
				echo 'укажите номер канала внутри потока. Нумерация каналов ничинается с 0!'
				read pseudo_st_str_ch
			fi
		fi
	fi
fi

#сбор параметров английской дорожки
echo 'нужна вторая аудиодорожка? (y/n)'
read eng_str
if [[ $eng_str = "y" ]]
then 
	echo "введите 3х-символьное обозначение языка второй дорожки в соответствие с ISO 639-1 (https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes)"
	read iso_lang_2
	echo 'в исходнике есть стерепоток или 5.1-поток для второй дорожки? (2/6/n)'
	read stereo_str_2
	if [[ $stereo_str_2 = "2" || $stereo_str_2 = "6" ]]
	then 
		echo 'введите его номер в исходнике'
		read stereo_value_2
	elif [[ $stereo_str_2 = "n" ]]
	then
		echo 'Из скольки каналов собираем английскую звуковую дорожку: 2, 5.1 или другое? (2/6/e)'
		read dub_sound_ch_2
		if [[ $dub_sound_ch_2 = "2" ]]
		then 
			echo 'укажите номер левого канала'
			read st_left_2
			echo 'укажите номер правого канала'
			read st_right_2
		elif [[ $dub_sound_ch_2 = "6" ]]
		then 
			echo 'укажите номер левого канала'
			read sur_left_2
			echo 'укажите номер правого канала'
			read sur_right_2
			echo 'укажите номер центрального канала'
			read sur_centr_2
			echo 'укажите номер низкочастотного канала'
			read sur_lfe_2
			echo 'укажите номер левого заднего канала'
			read sur_left_sur_2
			echo 'укажите номер правого заднего канала'
			read sur_right_sur_2
		elif [[ $dub_sound_ch_2 = "e" ]] 
		then 
			echo 'собрать псевдостерео из одного моно-аудиопотока? (номер потока или n)'
			read pseudo_st_ch_2
			if [[ $pseudo_st_ch_2 = "n" ]] 
			then
				echo 'собрать псевдостерео из одного моно-канала внутри аудиопотока? (номер потока или n)'
				read pseudo_st_str_2
				if [[ $pseudo_st_str_2 = "n" ]]
				then 
					echo 'Мы еще не придумали обработку других вариантов!'
					exit
				elif [[ $pseudo_st_str_2 != "n" ]]
				then
					echo 'укажите номер канала внутри потока. Нумерация каналов ничинается с 0!'
					read pseudo_st_str_ch_2
				fi
			fi
		fi
	fi
fi
#Дополнительные переменные
echo 'Указать номер видеоптока принудительно? (для случаев, когда второй поток даннных сбивает автоматику) (y/n)'
read videostream
if [[ $videostream = "y" ]] #Если видеопоток надо указать принудительно
then 
	echo 'введите номер видеопотока в исходнике'
	read videostream_value
elif [[ $videostream != "y" ]] #Если видеопоток определяется автоматически
then
	videostream_value="v"
fi

if [[ $fs -gt "768" ]] #Если исходник HD или 4K
then
	echo 'активировать деинтерлейс? (y/n)'
	read deinterlace_dialog
	if [[ $deinterlace_dialog = "y" ]]
	then 
		deinterlace=",yadif,setsar=1,scale=interl=1,format=pix_fmts=yuv420p"
		deinterlace_cropless=(-vf 'yadif,setsar=1,scale=interl=1,format=pix_fmts=yuv420p')
		deinterlace_4k=(-vf 'yadif,scale=1920:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p')
	elif [[ $deinterlace_dialog != "y" ]]
	then
		deinterlace=""
		deinterlace_cropless=( )
		deinterlace_4k=(-vf 'scale=1920:-2,setsar=1')
	fi
fi
	
if [[ $fs -lt "769" ]] #Если исходник SD
then 
#Дополнительные переменные только для SD
	scale="scale=iw:trunc(iw/dar/2)*2" 
	echo "Задать соотношение сторон принудительно? Для 4х3 нажмите 4, для 16х9 нажмите 1, отказаться  - n)"
	read dar_dialog
	if [[ $dar_dialog = "4" ]]
	then 
		scale="scale=768:trunc(768/1.333333333333333/2)*2"
	elif [[ $dar_dialog = "1" ]]
	then 
		scale="scale=768:trunc(768/1.777777777777778/2)*2"
	fi


	#Пересчет
	if [[ $crop = "y" ]] 
	then #кроп нужен
		if [[ $ss = "y" ]]
		then #обрезка начала выполняется
			if [[ $eng_str = "y" ]] 
			then #две звуковые дорожки
				if [ $stereo_str = "2" ] 
				then #русская дорожка из стерео
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV 
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -map 0:$stereo_value_2  -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done; 
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio_2.wav -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					fi
				elif [ $stereo_str = "6" ] 
				then #русская дорожка из 5.1
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -map 0:$stereo_value_2  -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1  -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1  -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio_2.wav -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					fi
				elif [[ $stereo_str = "n" && $dub_sound_ch = "2" ]]
				then #русский из двух моно каналов
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -map 0:$stereo_value_2 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно потока
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio_2.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -filter_complex "[1:a][1:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					fi
				elif [[ $stereo_str = "n" && $dub_sound_ch = "6" ]]
				then #русский из 5.1 моно-каналов
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -map 0:$stereo_value_2 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно потока
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio_2.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -filter_complex "[1:a][1:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					fi
				elif [[ $stereo_str = "n" && $dub_sound_ch = "e" && $pseudo_st_ch != "n" ]]
				then #русская псеводостерео дорожка из одного моно стрима
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -map 0:$stereo_value_2 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно потока
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio_2.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -filter_complex "[1:a][1:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					fi
				elif [[ $stereo_str = "n" && $dub_sound_ch = "e" && $pseudo_st_ch = "n" ]]
				then #русская псеводостерео дорожка из одного моно канала внутри моно потока
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -map 0:$stereo_value_2 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -i temp_audio_2.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -filter_complex "[2:a][2:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					fi
				fi
			elif [[ $eng_str = "n" ]] 
			then #одна звуковая дорожка
				if [ $stereo_str = "2" ] 
				then #русская дорожка из стерео
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
					ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
					-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
					-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				elif [ $stereo_str = "6" ] 
				then #русская дорожка из 5.1
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
					ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
					-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
					-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;	
				elif [[ $stereo_str = "n" && $dub_sound_ch = "2" ]]
				then #русский из двух моно каналов
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
					ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
					-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
					-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -map_chapters -1 -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -y DONE/"${f%.*}".mp4;
					done;
				elif [[ $stereo_str = "n" && $dub_sound_ch = "6" ]]
				then #русский из 5.1 моно-каналов
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
					ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
					-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
					-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				elif [[ $stereo_str = "n" && $dub_sound_ch = "e" && $pseudo_st_ch != "n" ]]
				then #русская псеводостерео дорожка из одного моно стрима
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
					ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
					-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
					-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				elif [[ $stereo_str = "n" && $dub_sound_ch = "e" && $pseudo_st_ch = "n" ]]
				then #русская псеводостерео дорожка из одного моно канала внутри моно потока
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
					ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
					ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
					-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
					-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -metadata:s:a:0 language=rus -map_chapters -1 -ss $ss_value -y DONE/"${f%.*}".mp4;
					done;
				fi
			fi
		elif [[ $ss = "n" ]]
		then #обрезка начала не выполняется
			if [[ $eng_str = "y" ]]
			then #две звуковые дорожки
				if [ $stereo_str = "2" ]
				then #русская дорожка из стерео
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -map 0:$stereo_value_2  -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio_2.wav -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					fi
				elif [ $stereo_str = "6" ] 
				then #русская дорожка из 5.1
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -map 0:$stereo_value_2  -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio_2.wav -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					fi
				elif [[ $stereo_str = "n" && $dub_sound_ch = "2" ]]
				then #русский из двух моно каналов
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -map 0:$stereo_value_2 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно потока
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio_2.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -filter_complex "[1:a][1:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					fi
				elif [[ $stereo_str = "n" && $dub_sound_ch = "6" ]]
				then #русский из 5.1 моно-каналов
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -map 0:$stereo_value_2 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно потока
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio_2.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -filter_complex "[1:a][1:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					fi
				elif [[ $stereo_str = "n" && $dub_sound_ch = "e" && $pseudo_st_ch != "n" ]]
				then #русская псеводостерео дорожка из одного моно стрима
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -map 0:$stereo_value_2 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно потока
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio_2.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -filter_complex "[1:a][1:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					fi
				elif [[ $stereo_str = "n" && $dub_sound_ch = "e" && $pseudo_st_ch = "n" ]]
				then #русская псеводостерео дорожка из одного моно канала внутри моно потока
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -map 0:$stereo_value_2 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $crop_ss -t $crop_t -i "$f" -i temp_audio.wav -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4;
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $crop_ss -t $crop_t -i "$f" -i temp_audio.wav -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4;
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $crop_ss -t $crop_t -i "$f" -i temp_audio.wav -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4;
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -i temp_audio_2.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -filter_complex "[2:a][2:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					fi
				fi
			elif [[ $eng_str = "n" ]] 
			then #одна звуковая дорожка
				if [ $stereo_str = "2" ] 
				then #русская дорожка из стерео
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
					ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
					-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
					-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				elif [ $stereo_str = "6" ] 
				then #русская дорожка из 5.1
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
					ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
					-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
					-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				elif [[ $stereo_str = "n" && $dub_sound_ch = "2" ]]
				then #русский из двух моно каналов
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
					ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
					-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
					-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -metadata:s:a:0 language=rus -map_chapters -1  -y DONE/"${f%.*}".mp4;
					done;
				elif [[ $stereo_str = "n" && $dub_sound_ch = "6" ]]
				then #русский из 5.1 моно-каналов
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
					ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
					-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
					-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				elif [[ $stereo_str = "n" && $dub_sound_ch = "e" && $pseudo_st_ch != "n" ]]
				then #русская псеводостерео дорожка из одного моно стрима
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					
					if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
					ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
					-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
					-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				elif [[ $stereo_str = "n" && $dub_sound_ch = "e" && $pseudo_st_ch = "n" ]]
				then #русская псеводостерео дорожка из одного моно канала внутри моно потока
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
					ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
					ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
					-vf "yadif,"$cdresult",$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
					-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				fi
			fi
		fi
	elif [[ $crop = "n" ]] 
	then #кроп не нужен
		if [[ $ss = "y" ]]
		then #обрезка начала выполняется
			if [[ $eng_str = "y" ]] 
			then #две звуковые дорожки
				if [ $stereo_str = "2" ] 
				then #русская дорожка из стерео
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -map 0:$stereo_value_2  -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio_2.wav -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					fi
				elif [ $stereo_str = "6" ] 
				then #русская дорожка из 5.1
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -map 0:$stereo_value_2  -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio_2.wav -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					fi
				elif [[ $stereo_str = "n" && $dub_sound_ch = "2" ]]
				then #русский из двух моно каналов
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -map 0:$stereo_value_2 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно потока
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio_2.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -filter_complex "[1:a][1:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					fi
				elif [[ $stereo_str = "n" && $dub_sound_ch = "6" ]]
				then #русский из 5.1 моно-каналов
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -map 0:$stereo_value_2 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно потока
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio_2.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -filter_complex "[1:a][1:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					fi
				elif [[ $stereo_str = "n" && $dub_sound_ch = "e" && $pseudo_st_ch != "n" ]]
				then #русская псеводостерео дорожка из одного моно стрима
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -map 0:$stereo_value_2 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно потока
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio_2.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -filter_complex "[1:a][1:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					fi
				elif [[ $stereo_str = "n" && $dub_sound_ch = "e" && $pseudo_st_ch = "n" ]]
				then #русская псеводостерео дорожка из одного моно канала внутри моно потока
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -map 0:$stereo_value_2 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -i temp_audio_2.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -filter_complex "[2:a][2:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					fi
				fi
			elif [[ $eng_str = "n" ]] 
			then #одна звуковая дорожка
				echo 'одна звуковая дорожка'
				if [ $stereo_str = "2" ] 
				then #русская дорожка из стерео
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
					-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
					-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				elif [ $stereo_str = "6" ] 
				then #русская дорожка из 5.1
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
					-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
					-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				elif [[ $stereo_str = "n" && $dub_sound_ch = "2" ]]
				then #русский из двух моно каналов
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
					-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
					-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				elif [[ $stereo_str = "n" && $dub_sound_ch = "6" ]]
				then #русский из 5.1 моно-каналов
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
					-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
					-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				elif [[ $stereo_str = "n" && $dub_sound_ch = "e" && $pseudo_st_ch != "n" ]]
				then #русская псеводостерео дорожка из одного моно стрима
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
					-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
					-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				elif [[ $stereo_str = "n" && $dub_sound_ch = "e" && $pseudo_st_ch = "n" ]]
				then #русская псеводостерео дорожка из одного моно канала внутри моно потока
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
					ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
					-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
					-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -metadata:s:a:0 language=rus -map_chapters -1 -ss $ss_value -y DONE/"${f%.*}".mp4;
					done;
				fi
			fi
		elif [[ $ss = "n" ]]
		then #обрезка начала не выполняется
			if [[ $eng_str = "y" ]] 
			then #две звуковые дорожки
				if [ $stereo_str = "2" ] 
				then #русская дорожка из стерео
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -map 0:$stereo_value_2  -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio_2.wav -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					fi
				elif [ $stereo_str = "2" ] 
				then #русская дорожка из стерео
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						
						ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -map 0:$stereo_value_2  -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio_2.wav -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					fi
				elif [[ $stereo_str = "n" && $dub_sound_ch = "2" ]]
				then #русский из двух моно каналов
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -map 0:$stereo_value_2 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно потока
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio_2.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -filter_complex "[1:a][1:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					fi
				elif [[ $stereo_str = "n" && $dub_sound_ch = "6" ]]
				then #русский из 5.1 моно-каналов
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -map 0:$stereo_value_2 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно потока
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio_2.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -filter_complex "[1:a][1:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					fi
				elif [[ $stereo_str = "n" && $dub_sound_ch = "e" && $pseudo_st_ch != "n" ]]
				then #русская псеводостерео дорожка из одного моно стрима
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -map 0:$stereo_value_2 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно потока
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio_2.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -filter_complex "[1:a][1:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					fi
				elif [[ $stereo_str = "n" && $dub_sound_ch = "e" && $pseudo_st_ch = "n" ]]
				then #русская псеводостерео дорожка из одного моно канала внутри моно потока
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -map 0:$stereo_value_2 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -i temp_audio_2.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -filter_complex "[2:a][2:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					fi
				fi
			elif [[ $eng_str = "n" ]] 
			then #одна звуковая дорожка
				if [ $stereo_str = "2" ] 
				then #русская дорожка из стерео
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
					-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
					-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				elif [ $stereo_str = "6" ] 
				then #русская дорожка из 5.1
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
					-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
					-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				elif [[ $stereo_str = "n" && $dub_sound_ch = "2" ]]
				then #русский из двух моно каналов
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
					-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
					-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				elif [[ $stereo_str = "n" && $dub_sound_ch = "6" ]]
				then #русский из 5.1 моно-каналов
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
					-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
					-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				elif [[ $stereo_str = "n" && $dub_sound_ch = "e" && $pseudo_st_ch != "n" ]]
				then #русская псеводостерео дорожка из одного моно стрима
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
					-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
					-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				elif [[ $stereo_str = "n" && $dub_sound_ch = "e" && $pseudo_st_ch = "n" ]]
				then #русская псеводостерео дорожка из одного моно канала внутри моно потока
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
					ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
					-vf "yadif,$scale,scale=768:-2,setsar=1,scale=interl=1,format=pix_fmts=yuv420p" \
					-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				fi
			fi
		fi
	fi
elif [[ $fs -gt "768" && $fs -lt "1921" ]] #Если исходник HD
then

	#Пересчет
	if [[ $crop = "y" ]] 
	then #кроп нужен
		if [[ $ss = "y" ]]
		then #обрезка начала выполняется
			if [[ $eng_str = "y" ]] 
			then #две звуковые дорожки
				if [ $stereo_str = "2" ] 
				then #русская дорожка из стерео
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -map 0:$stereo_value_2  -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio_2.wav -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					fi
				elif [ $stereo_str = "6" ] 
				then #русская дорожка из стерео
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -map 0:$stereo_value_2  -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio_2.wav -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					fi
				elif [[ $stereo_str = "n" && $dub_sound_ch = "2" ]]
				then #русский из двух моно каналов
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -map 0:$stereo_value_2 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно потока
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio_2.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -filter_complex "[1:a][1:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					fi
				elif [[ $stereo_str = "n" && $dub_sound_ch = "6" ]]
				then #русский из 5.1 моно-каналов
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -map 0:$stereo_value_2 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно потока
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio_2.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -filter_complex "[1:a][1:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					fi
				elif [[ $stereo_str = "n" && $dub_sound_ch = "e" && $pseudo_st_ch != "n" ]]
				then #русская псеводостерео дорожка из одного моно стрима
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -map 0:$stereo_value_2 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно потока
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio_2.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -filter_complex "[1:a][1:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					fi
				elif [[ $stereo_str = "n" && $dub_sound_ch = "e" && $pseudo_st_ch = "n" ]]
				then #русская псеводостерео дорожка из одного моно канала внутри моно потока
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -map 0:$stereo_value_2 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -i temp_audio_2.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -filter_complex "[2:a][2:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					fi
				fi
			elif [[ $eng_str = "n" ]] 
			then #одна звуковая дорожка
				if [ $stereo_str = "2" ] 
				then #русская дорожка из стерео
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
					ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
					-vf "$cdresult$deinterlace" \
					-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				elif [ $stereo_str = "6" ] 
				then #русская дорожка из стерео
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
					ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
					-vf "$cdresult$deinterlace" \
					-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				elif [[ $stereo_str = "n" && $dub_sound_ch = "2" ]]
				then #русский из двух моно каналов
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
					ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
					-vf "$cdresult$deinterlace" \
					-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				elif [[ $stereo_str = "n" && $dub_sound_ch = "6" ]]
				then #русский из 5.1 моно-каналов
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
					ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
					-vf "$cdresult$deinterlace" \
					-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				elif [[ $stereo_str = "n" && $dub_sound_ch = "e" && $pseudo_st_ch != "n" ]]
				then #русская псеводостерео дорожка из одного моно стрима
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
					ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
					-vf "$cdresult$deinterlace" \
					-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				elif [[ $stereo_str = "n" && $dub_sound_ch = "e" && $pseudo_st_ch = "n" ]]
				then #русская псеводостерео дорожка из одного моно канала внутри моно потока
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
					ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
					ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
					-vf "$cdresult$deinterlace" \
					-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -metadata:s:a:0 language=rus -map_chapters -1 -ss $ss_value -y DONE/"${f%.*}".mp4;
					done;
				fi
			fi
		elif [[ $ss = "n" ]]
		then #обрезка начала не выполняется
			if [[ $eng_str = "y" ]] 
			then #две звуковые дорожки
				if [ $stereo_str = "2" ] 
				then #русская дорожка из стерео
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -map 0:$stereo_value_2  -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio_2.wav -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					fi
				elif [ $stereo_str = "6" ] 
				then #русская дорожка из 5.1
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -map 0:$stereo_value_2  -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio_2.wav -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					fi
				elif [[ $stereo_str = "n" && $dub_sound_ch = "2" ]]
				then #русский из двух моно каналов
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -map 0:$stereo_value_2 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно потока
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio_2.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -filter_complex "[1:a][1:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					fi
				elif [[ $stereo_str = "n" && $dub_sound_ch = "6" ]]
				then #русский из 5.1 моно-каналов
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -map 0:$stereo_value_2 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно потока
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio_2.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -filter_complex "[1:a][1:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					fi
				elif [[ $stereo_str = "n" && $dub_sound_ch = "e" && $pseudo_st_ch != "n" ]]
				then #русская псеводостерео дорожка из одного моно стрима
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -map 0:$stereo_value_2 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно потока
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio_2.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -filter_complex "[1:a][1:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					fi
				elif [[ $stereo_str = "n" && $dub_sound_ch = "e" && $pseudo_st_ch = "n" ]]
				then #русская псеводостерео дорожка из одного моно канала внутри моно потока
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -map 0:$stereo_value_2 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -i temp_audio_2.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf "$cdresult$deinterlace" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -filter_complex "[2:a][2:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					fi
				fi
			elif [[ $eng_str = "n" ]] 
			then #одна звуковая дорожка
				if [ $stereo_str = "2" ] 
				then #русская дорожка из стерео
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
					ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
					-vf "$cdresult$deinterlace" \
					-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				elif [ $stereo_str = "6" ] 
				then #русская дорожка из 5.1
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
					ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
					-vf "$cdresult$deinterlace" \
					-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				elif [[ $stereo_str = "n" && $dub_sound_ch = "2" ]]
				then #русский из двух моно каналов
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
					ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
					-vf "$cdresult$deinterlace" \
					-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				elif [[ $stereo_str = "n" && $dub_sound_ch = "6" ]]
				then #русский из 5.1 моно-каналов
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
					ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
					-vf "$cdresult$deinterlace" \
					-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				elif [[ $stereo_str = "n" && $dub_sound_ch = "e" && $pseudo_st_ch != "n" ]]
				then #русская псеводостерео дорожка из одного моно стрима
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
					ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
					-vf "$cdresult$deinterlace" \
					-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				elif [[ $stereo_str = "n" && $dub_sound_ch = "e" && $pseudo_st_ch = "n" ]]
				then #русская псеводостерео дорожка из одного моно канала внутри моно потока
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
					ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
					ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
					-vf "$cdresult$deinterlace" \
					-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				fi
			fi
		fi
	elif [[ $crop = "n" ]] 
	then #кроп не нужен
		if [[ $ss = "y" ]]
		then #обрезка начала выполняется
			if [[ $eng_str = "y" ]] 
			then #две звуковые дорожки
				if [ $stereo_str = "2" ] 
				then #русская дорожка из стерео
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -map 0:$stereo_value_2 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus -acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio_2.wav -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					fi
				elif [ $stereo_str = "6" ] 
				then #русская дорожка из 5.1
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -map 0:$stereo_value_2  -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio_2.wav -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					fi
				elif [[ $stereo_str = "n" && $dub_sound_ch = "2" ]]
				then #русский из двух моно каналов
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -map 0:$stereo_value_2 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно потока
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio_2.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -filter_complex "[1:a][1:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					fi
				elif [[ $stereo_str = "n" && $dub_sound_ch = "6" ]]
				then #русский из 5.1 моно-каналов
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -map 0:$stereo_value_2 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно потока
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio_2.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -filter_complex "[1:a][1:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					fi
				elif [[ $stereo_str = "n" && $dub_sound_ch = "e" && $pseudo_st_ch != "n" ]]
				then #русская псеводостерео дорожка из одного моно стрима
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -map 0:$stereo_value_2 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно потока
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio_2.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -filter_complex "[1:a][1:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					fi
				elif [[ $stereo_str = "n" && $dub_sound_ch = "e" && $pseudo_st_ch = "n" ]]
				then #русская псеводостерео дорожка из одного моно канала внутри моно потока
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -map 0:$stereo_value_2 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -i temp_audio_2.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -filter_complex "[2:a][2:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					fi
				fi
			elif [[ $eng_str = "n" ]] 
			then #одна звуковая дорожка
				echo 'одна звуковая дорожка'
				if [ $stereo_str = "2" ] 
				then #русская дорожка из стерео
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
					-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				elif [ $stereo_str = "6" ] 
				then #русская дорожка из 5.1
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
					-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				elif [[ $stereo_str = "n" && $dub_sound_ch = "2" ]]
				then #русский из двух моно каналов
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
					-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				elif [[ $stereo_str = "n" && $dub_sound_ch = "6" ]]
				then #русский из 5.1 моно-каналов
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
					-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				elif [[ $stereo_str = "n" && $dub_sound_ch = "e" && $pseudo_st_ch != "n" ]]
				then #русская псеводостерео дорожка из одного моно стрима
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
					-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				elif [[ $stereo_str = "n" && $dub_sound_ch = "e" && $pseudo_st_ch = "n" ]]
				then #русская псеводостерео дорожка из одного моно канала внутри моно потока
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
					ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
					-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -metadata:s:a:0 language=rus -map_chapters -1 -ss $ss_value -y DONE/"${f%.*}".mp4;
					done;
				fi
			fi
		elif [[ $ss = "n" ]]
		then #обрезка начала не выполняется
			echo 'обрезка начала не выполняется'
			if [[ $eng_str = "y" ]] 
			then #две звуковые дорожки
				if [ $stereo_str = "2" ] 
				then #русская дорожка из стерео
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -map 0:$stereo_value_2  -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio_2.wav -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					fi
				elif [ $stereo_str = "6" ] 
				then #русская дорожка из 5.1
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -map 0:$stereo_value_2  -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio_2.wav -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					fi
				elif [[ $stereo_str = "n" && $dub_sound_ch = "2" ]]
				then #русский из двух моно каналов
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -map 0:$stereo_value_2 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно потока
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio_2.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -filter_complex "[1:a][1:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					fi
				elif [[ $stereo_str = "n" && $dub_sound_ch = "6" ]]
				then #русский из 5.1 моно-каналов
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -map 0:$stereo_value_2 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно потока
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio_2.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -filter_complex "[1:a][1:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					fi
				elif [[ $stereo_str = "n" && $dub_sound_ch = "e" && $pseudo_st_ch != "n" ]]
				then #русская псеводостерео дорожка из одного моно стрима
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -map 0:$stereo_value_2 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно потока
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio_2.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -filter_complex "[1:a][1:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					fi
				elif [[ $stereo_str = "n" && $dub_sound_ch = "e" && $pseudo_st_ch = "n" ]]
				then #русская псеводостерео дорожка из одного моно канала внутри моно потока
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -map 0:$stereo_value_2 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -i temp_audio_2.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
						
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -filter_complex "[2:a][2:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					fi
				fi
			elif [[ $eng_str = "n" ]] 
			then #одна звуковая дорожка
				if [ $stereo_str = "2" ] 
				then #русская дорожка из стерео
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
					-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				elif [ $stereo_str = "6" ] 
				then #русская дорожка из стерео
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
					-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				elif [[ $stereo_str = "n" && $dub_sound_ch = "2" ]]
				then #русский из двух моно каналов
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
					-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				elif [[ $stereo_str = "n" && $dub_sound_ch = "6" ]]
				then #русский из 5.1 моно-каналов
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
					-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				elif [[ $stereo_str = "n" && $dub_sound_ch = "e" && $pseudo_st_ch != "n" ]]
				then #русская псеводостерео дорожка из одного моно стрима
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
					-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				elif [[ $stereo_str = "n" && $dub_sound_ch = "e" && $pseudo_st_ch = "n" ]]
				then #русская псеводостерео дорожка из одного моно канала внутри моно потока
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					
					ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
					ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 "${deinterlace_cropless[@]}" -map_metadata -1 -metadata:s:v:0 language=rus \
					-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				fi
			fi
		fi
	fi
elif [[ $fs -gt "1920" ]] #Если исходник 4K
then 

	#Пересчет
	if [[ $crop = "y" ]] 
	then #кроп нужен
		if [[ $ss = "y" ]]
		then #обрезка начала выполняется
			if [[ $eng_str = "y" ]] 
			then #две звуковые дорожки
				if [ $stereo_str = "2" ] 
				then #русская дорожка из стерео
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -map 0:$stereo_value_2  -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done; 
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio_2.wav -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					fi
				elif [ $stereo_str = "6" ] 
				then #русская дорожка из 5.1
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -map 0:$stereo_value_2  -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1  -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1  -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio_2.wav -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					fi
				elif [[ $stereo_str = "n" && $dub_sound_ch = "2" ]]
				then #русский из двух моно каналов
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -map 0:$stereo_value_2 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно потока
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio_2.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -filter_complex "[1:a][1:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					fi
				elif [[ $stereo_str = "n" && $dub_sound_ch = "6" ]]
				then #русский из 5.1 моно-каналов
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -map 0:$stereo_value_2 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно потока
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio_2.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -filter_complex "[1:a][1:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					fi
				elif [[ $stereo_str = "n" && $dub_sound_ch = "e" && $pseudo_st_ch != "n" ]]
				then #русская псеводостерео дорожка из одного моно стрима
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -map 0:$stereo_value_2 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно потока
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio_2.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -filter_complex "[1:a][1:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					fi
				elif [[ $stereo_str = "n" && $dub_sound_ch = "e" && $pseudo_st_ch = "n" ]]
				then #русская псеводостерео дорожка из одного моно канала внутри моно потока
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -map 0:$stereo_value_2 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -i temp_audio_2.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -filter_complex "[2:a][2:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					fi
				fi
			elif [[ $eng_str = "n" ]] 
			then #одна звуковая дорожка
				if [ $stereo_str = "2" ] 
				then #русская дорожка из стерео
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
					ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
					-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
					-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				elif [ $stereo_str = "6" ] 
				then #русская дорожка из 5.1
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
					ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
					-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
					-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;	
				elif [[ $stereo_str = "n" && $dub_sound_ch = "2" ]]
				then #русский из двух моно каналов
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
					ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
					-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
					-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -map_chapters -1 -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -y DONE/"${f%.*}".mp4;
					done;
				elif [[ $stereo_str = "n" && $dub_sound_ch = "6" ]]
				then #русский из 5.1 моно-каналов
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
					ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
					-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
					-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				elif [[ $stereo_str = "n" && $dub_sound_ch = "e" && $pseudo_st_ch != "n" ]]
				then #русская псеводостерео дорожка из одного моно стрима
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
					ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
					-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
					-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				elif [[ $stereo_str = "n" && $dub_sound_ch = "e" && $pseudo_st_ch = "n" ]]
				then #русская псеводостерео дорожка из одного моно канала внутри моно потока
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
					ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
					ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
					-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
					-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -metadata:s:a:0 language=rus -map_chapters -1 -ss $ss_value -y DONE/"${f%.*}".mp4;
					done;
				fi
			fi
		elif [[ $ss = "n" ]]
		then #обрезка начала не выполняется
			if [[ $eng_str = "y" ]] 
			then #две звуковые дорожки
				if [ $stereo_str = "2" ] 
				then #русская дорожка из стерео
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -map 0:$stereo_value_2  -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio_2.wav -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					fi
				elif [ $stereo_str = "6" ] 
				then #русская дорожка из 5.1
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -map 0:$stereo_value_2  -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio_2.wav -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					fi
				elif [[ $stereo_str = "n" && $dub_sound_ch = "2" ]]
				then #русский из двух моно каналов
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -map 0:$stereo_value_2 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно потока
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio_2.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -filter_complex "[1:a][1:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					fi
				elif [[ $stereo_str = "n" && $dub_sound_ch = "6" ]]
				then #русский из 5.1 моно-каналов
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -map 0:$stereo_value_2 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно потока
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio_2.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -filter_complex "[1:a][1:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					fi
				elif [[ $stereo_str = "n" && $dub_sound_ch = "e" && $pseudo_st_ch != "n" ]]
				then #русская псеводостерео дорожка из одного моно стрима
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -map 0:$stereo_value_2 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно потока
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio_2.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -filter_complex "[1:a][1:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					fi
				elif [[ $stereo_str = "n" && $dub_sound_ch = "e" && $pseudo_st_ch = "n" ]]
				then #русская псеводостерео дорожка из одного моно канала внутри моно потока
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -map 0:$stereo_value_2 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $crop_ss -t $crop_t -i "$f" -i temp_audio.wav -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4;
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $crop_ss -t $crop_t -i "$f" -i temp_audio.wav -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4;
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $crop_ss -t $crop_t -i "$f" -i temp_audio.wav -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4;
						if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -i temp_audio_2.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
						-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -filter_complex "[2:a][2:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					fi
				fi
			elif [[ $eng_str = "n" ]] 
			then #одна звуковая дорожка
				if [ $stereo_str = "2" ] 
				then #русская дорожка из стерео
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
					ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
					-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
					-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				elif [ $stereo_str = "6" ] 
				then #русская дорожка из 5.1
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
					ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
					-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
					-acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				elif [[ $stereo_str = "n" && $dub_sound_ch = "2" ]]
				then #русский из двух моно каналов
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
					ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
					-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
					-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				elif [[ $stereo_str = "n" && $dub_sound_ch = "6" ]]
				then #русский из 5.1 моно-каналов
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
					ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
					-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
					-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				elif [[ $stereo_str = "n" && $dub_sound_ch = "e" && $pseudo_st_ch != "n" ]]
				then #русская псеводостерео дорожка из одного моно стрима
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					
					if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
					ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
					-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
					-acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				elif [[ $stereo_str = "n" && $dub_sound_ch = "e" && $pseudo_st_ch = "n" ]]
				then #русская псеводостерео дорожка из одного моно канала внутри моно потока
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					if [[ $autocrop = "y" ]]; then ffmpeg -ss $crop_ss -t $crop_t -i "$f" -map 0:$videostream_value -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -y temp.mp4; cdresult=$(ffmpeg -i temp.mp4 -vf cropdetect$crop_threshold -f null - 2>&1 | awk '/crop/ { print $NF }' | tail -1); fi;
					ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
					ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
					-vf ""$cdresult$deinterlace",scale=1920:-2,setsar=1" \
					-acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				fi
			fi
		fi
	elif [[ $crop = "n" ]] 
	then #кроп не нужен
		if [[ $ss = "y" ]]
		then #обрезка начала выполняется
			if [[ $eng_str = "y" ]] 
			then #две звуковые дорожки
				if [ $stereo_str = "2" ] 
				then #русская дорожка из стерео
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -map 0:$stereo_value_2  -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio_2.wav -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					fi
				elif [ $stereo_str = "6" ] 
				then #русская дорожка из 5.1
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -map 0:$stereo_value_2  -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio_2.wav -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					fi
				elif [[ $stereo_str = "n" && $dub_sound_ch = "2" ]]
				then #русский из двух моно каналов
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -map 0:$stereo_value_2 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно потока
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio_2.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -filter_complex "[1:a][1:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					fi
				elif [[ $stereo_str = "n" && $dub_sound_ch = "6" ]]
				then #русский из 5.1 моно-каналов
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -map 0:$stereo_value_2 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно потока
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio_2.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -filter_complex "[1:a][1:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					fi
				elif [[ $stereo_str = "n" && $dub_sound_ch = "e" && $pseudo_st_ch != "n" ]]
				then #русская псеводостерео дорожка из одного моно стрима
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -map 0:$stereo_value_2 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно потока
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio_2.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -filter_complex "[1:a][1:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					fi
				elif [[ $stereo_str = "n" && $dub_sound_ch = "e" && $pseudo_st_ch = "n" ]]
				then #русская псеводостерео дорожка из одного моно канала внутри моно потока
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -map 0:$stereo_value_2 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -i temp_audio_2.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -filter_complex "[2:a][2:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -ss $ss_value -y DONE/"${f%.*}".mp4;
						done;
					fi
				fi
			elif [[ $eng_str = "n" ]] 
			then #одна звуковая дорожка
				echo 'одна звуковая дорожка'
				if [ $stereo_str = "2" ] 
				then #русская дорожка из стерео
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
					"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				elif [ $stereo_str = "6" ] 
				then #русская дорожка из 5.1
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
					"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				elif [[ $stereo_str = "n" && $dub_sound_ch = "2" ]]
				then #русский из двух моно каналов
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
					"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				elif [[ $stereo_str = "n" && $dub_sound_ch = "6" ]]
				then #русский из 5.1 моно-каналов
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
					"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				elif [[ $stereo_str = "n" && $dub_sound_ch = "e" && $pseudo_st_ch != "n" ]]
				then #русская псеводостерео дорожка из одного моно стрима
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					ffmpeg -ss $ss_value -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
					"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				elif [[ $stereo_str = "n" && $dub_sound_ch = "e" && $pseudo_st_ch = "n" ]]
				then #русская псеводостерео дорожка из одного моно канала внутри моно потока
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
					ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
					"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -metadata:s:a:0 language=rus -map_chapters -1 -ss $ss_value -y DONE/"${f%.*}".mp4;
					done;
				fi
			fi
		elif [[ $ss = "n" ]]
		then #обрезка начала не выполняется
			if [[ $eng_str = "y" ]] 
			then #две звуковые дорожки
				if [ $stereo_str = "2" ] 
				then #русская дорожка из стерео
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -map 0:$stereo_value_2  -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio_2.wav -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					fi
				elif [ $stereo_str = "2" ] 
				then #русская дорожка из стерео
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						
						ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -map 0:$stereo_value_2  -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio_2.wav -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					fi
				elif [[ $stereo_str = "n" && $dub_sound_ch = "2" ]]
				then #русский из двух моно каналов
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -map 0:$stereo_value_2 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно потока
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio_2.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -filter_complex "[1:a][1:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					fi
				elif [[ $stereo_str = "n" && $dub_sound_ch = "6" ]]
				then #русский из 5.1 моно-каналов
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -map 0:$stereo_value_2 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно потока
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio_2.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -filter_complex "[1:a][1:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					fi
				elif [[ $stereo_str = "n" && $dub_sound_ch = "e" && $pseudo_st_ch != "n" ]]
				then #русская псеводостерео дорожка из одного моно стрима
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -map 0:$stereo_value_2 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно потока
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio_2.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -filter_complex "[1:a][1:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					fi
				elif [[ $stereo_str = "n" && $dub_sound_ch = "e" && $pseudo_st_ch = "n" ]]
				then #русская псеводостерео дорожка из одного моно канала внутри моно потока
					if [[ $stereo_str_2 = "2" ]]
					then #английская дорожка из стерео
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -map 0:$stereo_value_2 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "6" ]]
					then #английская дорожка из 5.1
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -map 0:$stereo_value_2 -ac 2 -clev 1.414 -slev .5 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "2" ]]
					then #ангийская дорожка из двух моно каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$st_left_2][0:$st_right_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "6" ]]
					then #ангийская дорожка из 5.1 каналов
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$sur_left_2][0:$sur_right_2][0:$sur_centr_2][0:$sur_lfe_2][0:$sur_left_sur_2][0:$sur_right_sur_2] amerge=inputs=6[aout2]" -map [aout2] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 != "n" ]]
					then #ангийская псеводостерео дорожка из одного моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -filter_complex "[0:$pseudo_st_ch_2][0:$pseudo_st_ch_2] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					elif [[ $stereo_str_2 = "n" && $dub_sound_ch_2 = "e" && $pseudo_st_ch_2 = "n" ]]
					then #ангийская псеводостерео дорожка из одного моно канала внутри моно стрима
						for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
						do
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
						ffmpeg -i "$f" -map_channel 0.$pseudo_st_str_2.$pseudo_st_str_ch_2 temp_audio_2.wav -y;
						ffmpeg -i "$f" -i temp_audio.wav -i temp_audio_2.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
						"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -filter_complex "[2:a][2:a] amerge=inputs=2[aout2]" -map [aout2] -metadata:s:a:0 language=rus -metadata:s:a:1 language=$iso_lang_2 -map_chapters -1 -y DONE/"${f%.*}".mp4;
						done;
					fi
				fi
			elif [[ $eng_str = "n" ]] 
			then #одна звуковая дорожка
				if [ $stereo_str = "2" ] 
				then #русская дорожка из стерео
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
					"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				elif [ $stereo_str = "6" ] 
				then #русская дорожка из 5.1
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					ffmpeg -i "$f" -map 0:$videostream_value -map 0:$stereo_value -ac 2 -clev 1.414 -slev .5 -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
					"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				elif [[ $stereo_str = "n" && $dub_sound_ch = "2" ]]
				then #русский из двух моно каналов
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
					"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[0:$st_left][0:$st_right] amerge=inputs=2[aout]" -map [aout] -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				elif [[ $stereo_str = "n" && $dub_sound_ch = "6" ]]
				then #русский из 5.1 моно-каналов
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
					"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[0:$sur_left][0:$sur_right][0:$sur_centr][0:$sur_lfe][0:$sur_left_sur][0:$sur_right_sur] amerge=inputs=6[aout]" -map [aout] -ac 2 -clev 1.414 -slev .5 -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				elif [[ $stereo_str = "n" && $dub_sound_ch = "e" && $pseudo_st_ch != "n" ]]
				then #русская псеводостерео дорожка из одного моно стрима
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					ffmpeg -i "$f" -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
					"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[0:$pseudo_st_ch][0:$pseudo_st_ch] amerge=inputs=2[aout]" -map [aout] -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				elif [[ $stereo_str = "n" && $dub_sound_ch = "e" && $pseudo_st_ch = "n" ]]
				then #русская псеводостерео дорожка из одного моно канала внутри моно потока
					for f in *.mov *.avi *.mpg *.mxf *.m2ts *.ts *.mp4 *.vob *.VOB *.AVI *mkv *.MOV *.MPG *.MXF *.M2TS *.TS *.MP4 *.MKV
					do
					ffmpeg -i "$f" -map_channel 0.$pseudo_st_str.$pseudo_st_str_ch temp_audio.wav -y;
					ffmpeg -i "$f" -i temp_audio.wav -map 0:$videostream_value -max_muxing_queue_size 1024 -vcodec h264 -profile:v high -preset slow -level 5.1 -pix_fmt yuv420p -crf 15 -map_metadata -1 -metadata:s:v:0 language=rus \
					"${deinterlace_4k[@]}" -acodec aac -ar 48000 -ab 256K -filter_complex "[1:a][1:a] amerge=inputs=2[aout]" -map [aout] -metadata:s:a:0 language=rus -map_chapters -1 -y DONE/"${f%.*}".mp4;
					done;
				fi
			fi
		fi
	fi
	fi
exit;