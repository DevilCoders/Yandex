# Logging settings.
logging:
  # Logging level.
  # Possible values are: "debug", "info", "warn", "error".
  level: debug
  # Where to log.
  sinks:
    - stderr
  # How to log.
  encoding: console

# BGP-LS settings
bgp:
  # Our Autonomous System Number
  asn: 13238
  # Own router id
  router_id: 93.158.169.8
  # Peers to connect from which topology will be gathered
  peers:
    - router_id: 87.250.228.232
      asn: 13238
    - router_id: 87.250.228.168
      asn: 13238
    - router_id: 87.250.228.153
      asn: 13238
    - router_id: 87.250.228.146
      asn: 13238

# ZooKeeper settings.
zk:
  # List of ZooKeeper hosts to connect to.
  hosts:
  {%- for host in salt.conductor.groups2hosts('nocdev-zk') %}
    - {{ host }}:2181
  {%- endfor %}
  # Uniform node prefix.
  prefix: {{ pillar['zk.prefix'] }}
  # Session timeout sets the amount of time for which a session is
  # considered valid after losing connection to a server.
  timeout: 2s

# RT InvApi settings
rt:
  url: https://ro.racktables.yandex-team.ru/api
  oauth: {{ pillar['rt.oauth'] }}

# ErrorBooster settings
error_booster:
  endpoint: logbroker.yandex.net
  topic: /susanin/collector
  tvm:
    client_id: 2028696
    secret: {{ pillar['tvm.secret'] }}
    log_broker_id: 2001059
    cache_dir: /var/spool/susanin/tvm-cache
  environment: testing
  dc: {{ grains['conductor']['root_datacenter'] }}
