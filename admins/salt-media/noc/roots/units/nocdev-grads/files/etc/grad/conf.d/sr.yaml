series:
  snmp_poller.sr_policies:
    min_interval: 30

pollers:
  SNMP Nokia SR policies: # NOCTODO-563
    poller: snmp
    poller version: 3
    poller params:
      fn:
        packets: [ [ speed, { resample: "{sample_period}" } ] ]
        traff: [ [ speed, { factor: 8, resample: "{sample_period}" } ] ]
      counters:
        - { oid: TIMETRA-SR-POLICY-MIB.vRtrSrPlcyEgrStatsPktCnt, options: [ "use_snmpbulkget", "add_index" ] }
        - { oid: TIMETRA-SR-POLICY-MIB.vRtrSrPlcyEgrStatsByteCnt, options: [ "use_snmpbulkget", "add_index" ] }
      post_fn: [ nokia_sr_parser ]
    filter: [ "rt%{Nokia} and [опрос SNMP]" ]
    series: snmp_poller.sr_policies
    interval: 30
