credentials: !include ../credentials.yml

vars:
  fn: &juniper_transceiver_fns
    temp: ["resampler_linear_{sample_period}"]
    rx_power: ["resampler_linear_{sample_period}"]
    tx_power: ["resampler_linear_{sample_period}"]
    rx_power_threshold_low: ["resampler_linear_{sample_period}"]
    rx_power_threshold_high: ["resampler_linear_{sample_period}"]
    oper_status: ["resampler_repeat_{sample_period}"]
    admin_status: ["resampler_repeat_{sample_period}"]

pollers:
  comocutor transceiver juniper:
    poller: comocutor
    poller params:
      getter: get_juniper_transceiver
      device: JnxDevice
      <<: *comocutor_credentials
      fn: *juniper_transceiver_fns
    filter: "{Juniper} and not {$typeid_1507} and [опрос SNMP] and not {Cloud}"
    series: optical
    interval: 600
    logging: WARNING
    instance_group: main comocutor instance
