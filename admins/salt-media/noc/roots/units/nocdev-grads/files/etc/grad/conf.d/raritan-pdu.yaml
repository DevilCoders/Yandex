# NOCDEV-1341
# http://www.circitor.fr/Mibs/Html/P/PDU2-MIB.php

series:
  snmp_poller.pdu_inlet: {min_interval: 60,
  }
  snmp_poller.pdu_outlet: {min_interval: 60,
  }

  snmp_poller.pdu_external_sensors: {min_interval: 60,
  }

pollers:
  SNMP raritan pdu:
    poller: snmp
    poller version: 2
    poller params:
      timeout: 7
      community: public
      counters:
      - {oid: pdu2-mib-external-sensor.externalSensorName, options: ["use_snmpbulkget", "optional"]}
      - {oid: pdu2-mib-external-sensor.measurementsExternalSensorValue, options: ["use_snmpget", "optional"]}
      - {oid: pdu2-mib-external-sensor.externalSensorDecimalDigits, options: ["use_snmpget", "optional"]}
      post_fn: [pdu_recalc]
      max_bytes: 400
      oid_limit: 30
    filter: "{Raritan} and {PDU}"
    series: pdu_external_sensors
    interval: 60

  SNMP raritan pdu inlet:
    poller: snmp
    poller version: 2
    poller params:
      timeout: 7
      community: public
      counters:
      - {oid: pdu2-mib-inlet.inletLabel, options: ["use_snmpbulkget"]}
      - {oid: pdu2-mib-inlet.measurementsInletSensorValue_rms_current, options: ["use_snmpget"]}
      - {oid: pdu2-mib-inlet.inletSensorDecimalDigits_rms_current, options: ["use_snmpget"]}
      - {oid: pdu2-mib-inlet.inletSensorDecimalDigits_rms_voltage, options: ["use_snmpget"]}
      - {oid: pdu2-mib-inlet.measurementsInletSensorValue_rms_voltage, options: ["use_snmpget"]}
      - {oid: pdu2-mib-inlet.inletSensorDecimalDigits_active_power, options: ["use_snmpget"]}
      - {oid: pdu2-mib-inlet.measurementsInletSensorValue_active_power, options: ["use_snmpget"]}
      post_fn: [pdu_recalc]
      max_bytes: 400
      oid_limit: 30
    filter: "{Raritan} and {PDU}"
    series: pdu_inlet
    interval: 60

  SNMP raritan pdu outlet:
    poller: snmp
    poller version: 2
    poller params:
      timeout: 7
      community: public
      counters:
      - {oid: pdu2-mib-outlet.outletLabel, options: ["use_snmpbulkget"]}
      - {oid: pdu2-mib-outlet.measurementsOutletSensorValue_rms_current, options: ["use_snmpget", "optional"]}
      - {oid: pdu2-mib-outlet.outletSensorDecimalDigits_rms_current, options: ["use_snmpget", "optional"]}
      - {oid: pdu2-mib-outlet.outletSensorDecimalDigits_rms_voltage, options: ["use_snmpget", "optional"]}
      - {oid: pdu2-mib-outlet.measurementsOutletSensorValue_rms_voltage, options: ["use_snmpget", "optional"]}
      - {oid: pdu2-mib-outlet.outletSensorDecimalDigits_active_power, options: ["use_snmpget", "optional"]}
      - {oid: pdu2-mib-outlet.measurementsOutletSensorValue_active_power, options: ["use_snmpget", "optional"]}
      post_fn: [pdu_recalc]
      max_bytes: 400
      oid_limit: 30
    filter: "{Raritan} and {PDU}"
    series: pdu_outlet
    interval: 60

  SNMP ServerTech pdu inlet:
    poller: snmp
    poller version: 2
    poller params:
      timeout: 7
      community: public
      counters:
        - {oid: sentry4-mib-inlet.st4InputCordName, options: ["use_snmpbulkget"]}
        - {oid: sentry4-mib-inlet.st4InputCordFrequency, options: ["use_snmpget"]}
        - {oid: sentry4-mib-inlet.st4InputCordActivePower, options: ["use_snmpget"]}
    filter: "{ServerTech} and {PDU}"
    series: pdu_inlet
    interval: 60
