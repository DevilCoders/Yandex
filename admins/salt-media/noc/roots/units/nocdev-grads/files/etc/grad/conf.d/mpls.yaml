series:
  snmp_poller.mpls:
    min_interval: 60

pollers:
  SNMP juniper mpls: # NOCDEV-984 NOCDEV-4299
    poller: snmp
    poller params:
      counters:
        - juniper-mpls.mplsLspInfoName
        - {oid: juniper-mpls.mplsLspInfoOctets, options: [ "use_snmpget" ]}
        - {oid: juniper-mpls.mplsLspInfoTransitions, options: [ "use_snmpget" ]}
        - {oid: juniper-mpls.mplsLspInfoPackets, options: [ "use_snmpget" ]}
      post_fn: lsp_name_strip
    filter: '[опрос SNMP] and {Juniper} and ({P-маршрутизатор} or {datacenter edge} or {многодэшка}) and not ({Cloud} or {CloudNetbox})'
    series: snmp_poller.mpls
    interval: 300
  SNMP nokia mpls: # NOCDEV-4299
    poller: snmp
    poller params:
      counters:
        - {oid: TIMETRA-MPLS-MIB.vRtrMplsLspAggregatePkts, options: [ "use_snmpbulkget" ]}
        - {oid: TIMETRA-MPLS-MIB.vRtrMplsLspAggregateOctets, options: [ "use_snmpbulkget" ]}
      post_fn: nokia_lsp_name
    filter: '[опрос SNMP] and {многодэшка} and {Nokia}'
    series: snmp_poller.mpls
    interval: 30
