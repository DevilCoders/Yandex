# slbcloghandler

[[inputs.procstat]]
cmdline_tag = true
fielddrop = ["memory_swap", "cpu_time_guest", "cpu_time_guest_nice", "cpu_time_steal", "cpu_time_stolen", "pid", "rlimit_file_locks_soft", "nice_priority", "rlimit_num_fds_hard", "rlimit_num_fds_soft", "rlimit_realtime_priority_hard", "rlimit_realtime_priority_soft"]
pattern = "/usr/bin/slbcloghandler -conf /etc/slbcloghandler.conf"
tagexclude = ["pattern", "exe", "cmdline"]
namedrop = ["procstat_lookup"]
process_name = "slbcloghandler"

[inputs.procstat.tags]
_db = "slbcloghandler"

# telegraf

[[inputs.procstat]]
cmdline_tag = true
fielddrop = ["memory_swap", "cpu_time_guest", "cpu_time_guest_nice", "cpu_time_steal", "cpu_time_stolen", "pid", "rlimit_file_locks_soft", "nice_priority", "rlimit_num_fds_hard", "rlimit_num_fds_soft", "rlimit_realtime_priority_hard", "rlimit_realtime_priority_soft"]
pattern = "/usr/bin/telegraf"
tagexclude = ["pattern", "exe", "cmdline"]
namedrop = ["procstat_lookup"]
process_name = "telegraf"

[inputs.procstat.tags]
_db = "slbcloghandler"

# juggler-scheduler

[[inputs.procstat]]
fielddrop = ["memory_swap", "cpu_time_guest", "cpu_time_guest_nice", "cpu_time_steal", "cpu_time_stolen", "pid", "rlimit_file_locks_soft", "nice_priority", "rlimit_num_fds_hard", "rlimit_num_fds_soft", "rlimit_realtime_priority_hard", "rlimit_realtime_priority_soft"]
exe = "juggler-client"
tagexclude = ["pattern", "exe", "cmdline"]
namedrop = ["procstat_lookup"]
process_name = "juggler-client"

[inputs.procstat.tags]
_db = "slbcloghandler"

[[inputs.nginx]]
  urls = ["http://127.0.0.1/nginx_status"]

[inputs.nginx.tags]
_db = "slbcloghandler"

[[processors.regex]]

[[processors.regex.tags]]
key = "host"
pattern = "^([\\w\\-]+)\\..+$"
replacement = "${1}"


[[inputs.statsd]]
allowed_pending_messages = 1000000
delete_counters = true
delete_gauges = true
delete_timings = true
parse_data_dog_tags = true
service_address = ":8125"
tagexclude = ["metric_type"]
templates = ["*.*.* _db.measurement.field", "*.* measurement.field"]
fielddrop = ["*_stddev"]

[[inputs.socket_listener]]
data_format = "influx"
service_address = "udp://127.0.0.1:8127"
[inputs.socket_listener.tags]
_db = "slbcloghandler"
