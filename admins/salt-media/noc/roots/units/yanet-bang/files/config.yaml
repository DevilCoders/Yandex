pg:
  conn: {{pillar['sec-pg']['conn_string']}}

tvm: &tvm
  # Our client ID.
  self_id: 2034448
  # TVM secret
  secret: {{pillar['sec-tvm']['client_secret']}}
  # Authentication subjects.
  destinations:
    abc: 2012190

ca:
  base_uri: https://skotty.sec.yandex-team.ru/api/v1/ca/pub/ssh

rbac:
  abc:
    base_uri: https://abc-back.yandex-team.ru
    service: 37990
    tvm: *tvm

server:
  http:
    bind: "[::]:443"
    tls:
      private_key_file: /etc/bangd/ssl/key.bang.yandex-team.ru.pem
      certificate_chain_file: /etc/bangd/ssl/cert.bang.yandex-team.ru.pem
  auth:
    tvm: *tvm

runner:
  # Target URI.
  uri: http://[2a02:6b8:0:3400:0:853a:0:3]:80
  # IP prefix used to collect this machine's global unicast IP addresses and
  # use them as bind addresses.
  # For example, specifying "2a02:6b8:0:320:1111:1111:1111::/112" will scan all
  # interfaces, collect all global unicast IP addresses and filter them by the
  # given prefix.
  bind_network: {{pillar['bind_networks'][grains['host']]}}
  solomon:
    base_uri: https://solomon.yandex.net/api/v2/push
    project: noc
    cluster: all
    service: tank
    oauth_token: {{pillar['sec-pg']['solomon_oauth_token']}}
