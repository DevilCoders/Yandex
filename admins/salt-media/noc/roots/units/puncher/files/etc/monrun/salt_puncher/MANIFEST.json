{%
 set args = [
        'exportd_exports',
        'importd_is_master',
        'importd_workers',
        'macrosd_workers',
        'requestsd_tickets',
        'rules_cauth_is_master',
        'rules_cauth_workers',
        'rules_cauth_workers_racktables',
        'usersd_is_master',
        'usersd_providers',
        'usersd_workers',
        'exportd_dynfw_writable',
        'exportd_static_writable',
        'daemon_ping',
        'st_watcher_ping',
 ]
%}
{
    "version": 1,
    "checks": [
		{% for arg in args %}{
			"check_script": "/usr/bin/puncher-info",
			"args": ["{{arg}}"],
			"interval": 60,
			"run_always": true,
			"services": [
				"{{arg}}"
			],
			"tags": ["puncher_stable", "puncher-info"],
			"timeout": 30
		},{% endfor %}

		{
			"check_script": "/etc/monrun/salt_puncher/puncher_version.py",
			"interval": 120,
			"run_always": true,
			"services": [
				"puncher_version"
			],
			"tags": ["puncher_stable"],
			"timeout": 30
		},
		{
			"check_script": "/etc/monrun/salt_puncher/puncher_checksums.py",
			"interval": 300,
			"run_always": true,
			"services": [
				"puncher_checksum"
			],
			"tags": ["puncher_stable"],
			"timeout": 130
		}
    ]
}
