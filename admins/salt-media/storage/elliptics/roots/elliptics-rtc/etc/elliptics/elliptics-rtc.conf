{
   "backends" : [
   ],
   "options" : {
      "server_net_prio" : 1,
      "monitor" : {
         "port" : 10025,
         "top" : {
            "period_in_seconds" : 120,
            "events_size" : 1000000,
            "top_length" : 50
         },
         "call_tree_timeout" : 10,
         "history_length" : 20000
      },
      "indexes_shard_count" : 16,
      "client_net_prio" : 6,
      "parallel" : true,
      "flags" : 4,
      "remote" : [
         "s03myt.mdst.yandex.net:1025:10",
         "s01iva.mdst.yandex.net:1025:10",
         "s02iva.mdst.yandex.net:1025:10",
         "s01man.mdst.yandex.net:1025:10",
         "s01sas.mdst.yandex.net:1025:10",
         "s01vla.mdst.yandex.net:1025:10",
         "s04sas.mdst.yandex.net:1025:10"
      ],
      "wait_timeout" : 3,
      "auth_cookie" : "media_test_elliptics_storage",
      "daemon" : false,
      "send_limit" : 100,
      "address" : [
         "__FQDN__:1025:10-0"
      ],
      "handystats_config" : "/etc/elliptics/handystats.json",
      "queue_timeout" : "3",
      "net_thread_num" : 10,
      "io_thread_num" : 16,
      "join" : true,
      "nonblocking_io_thread_num" : 10,
      "check_timeout" : 100
   },
   "logger" : {
      "level" : "error",
      "access" : [
         {
            "sinks" : [
               {
                  "factor" : 20,
                  "sink" : {
                     "type" : "file",
                     "path" : "/dev/stdout",
                     "flush" : 1
                  },
                  "overflow" : "wait",
                  "type" : "asynchronous"
               }
            ],
            "formatter" : {
               "type" : "tskv",
               "create" : {
                  "type" : "elliptics-storage",
                  "tskv_format" : "elliptics-storage-server-log"
               },
               "remove" : [
                  "severity",
                  "message"
               ],
               "mutate" : {
                  "timestamp" : {
                     "gmtime" : false,
                     "strftime" : "%Y-%m-%dT%H:%M:%S"
                  },
                  "unixtime_microsec_utc" : {
                     "gmtime" : false,
                     "strftime" : "%s.%f"
                  },
                  "timezone" : {
                     "strftime" : "%z"
                  }
               }
            }
         }
      ],
      "core" : [
         {
            "sinks" : [
               {
                  "sink" : {
                     "type" : "file",
                     "flush" : 1,
                     "path" : "/var/log/elliptics/node-1.log"
                  },
                  "factor" : 20,
                  "type" : "asynchronous",
                  "overflow" : "wait"
               }
            ],
            "formatter" : {
               "sevmap" : [
                  "DEBUG",
                  "NOTICE",
                  "INFO",
                  "WARNING",
                  "ERROR"
               ],
               "type" : "string",
               "pattern" : "{timestamp:l} {trace_id:{0:default}0>16}/{thread:d}/{process} {severity}: {message}, attrs: [{...}]"
            }
         }
      ]
   }
}

