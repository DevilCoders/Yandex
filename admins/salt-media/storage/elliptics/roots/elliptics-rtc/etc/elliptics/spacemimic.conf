locator = 'localhost:10071'
fallback_locator = 'dealer.tst.ape.yandex.net:10053'
read_chunk_size=1048576

logging_config = dict(
    version=1,

    formatters={
        'accesslog': {
            'format': '[%(asctime)s.%(msecs)03d] %(trace_id)s %(levelname)s %(remote_addr)s "%(message)s" %(status)s %(elapsed_time).3f',
            'datefmt': '%Y-%m-%d %H:%M:%S',
            'converter': 'time.gtime',
        },
        'default': {
            'format': '[%(asctime)s.%(msecs)03d] %(levelname)1.1s %(name)s:%(trace_id)s: %(message)s',
            'datefmt': '%Y-%m-%d %H:%M:%S',
            'converter': 'time.gtime',
        },
        'mastermind': {
            'format': '[%(asctime)s.%(msecs)03d] %(levelname)1.1s %(message)s',
            'datefmt': '%Y-%m-%d %H:%M:%S',
            'converter': 'time.gtime',
        },
    },

    handlers={
        'accesslog_file': {
            'class': 'logging.handlers.WatchedFileHandler',
            'formatter': 'accesslog',
            'filename': '/var/log/spacemimic/access.log',
        },
        'defaultlog_file': {
             'class': 'logging.handlers.WatchedFileHandler',
             'formatter': 'default',
             'filename': '/dev/stdout',
        },
    },

    #IMPOTANT: turning disable_existing_loggers off makes it possible to
    # not to mention every existing logger explicitly in the loggers section
    disable_existing_loggers=False,

    root={
        'handlers': ['defaultlog_file'],
    },

    loggers={
        'tornado.access': {
            'handlers': ['accesslog_file'],
            'propagate': False,
        },
        'spacemimic': {
            'level': 'INFO',
        },
        'unistorage': {
            'level': 'INFO',
        },
        'io': {
            'level': 'INFO',
        },
        'cocaine': {
            'level': 'INFO',
            # set to pass log message to root logger
            'propagate': True,
        }
    },
)

