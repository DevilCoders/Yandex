/var/log/s3/goose-cleanup/main.log
/var/log/s3/goose-cleanup/access.log
/var/log/s3/goose-cleanup/mds.log
/var/log/s3/goose-cleanup/alive.log
/var/log/s3/goose-cleanup/libmds-access.log
/var/log/s3/goose-cleanup/ydb-access.log
/var/log/s3/goose-cleanup/scheduler.log {
    daily
    maxsize 250M
    missingok
    rotate 14
    compress
    compresscmd /usr/bin/ionice
    compressoptions -c3 /usr/bin/pzstd -1 -p2
    compressext .zst
    delaycompress
    notifempty
    #create 644 s3proxy s3proxy
    dateext
    dateformat .%Y%m%d-%s
    nocreate
    postrotate
        kill -HUP `pidof s3-goose-cleanup`
    endscript
}

/var/log/s3/goose-cleanup/mds-access.log
/var/log/s3/goose-cleanup/libmds.log {
    daily
    maxsize 1G
    missingok
    rotate 14
    compress
    compresscmd /usr/bin/ionice
    compressoptions -c3 /usr/bin/pzstd -1 -p2
    compressext .zst
    delaycompress
    notifempty
    #create 644 s3proxy s3proxy
    dateext
    dateformat .%Y%m%d-%s
    nocreate
    postrotate
        kill -HUP `pidof s3-goose-cleanup`
    endscript
}
