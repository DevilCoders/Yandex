{%- set mongo_password = pillar['yav']['nscfg-mongo_password'] -%}
{%- set mongo_test_password = pillar['yav']['nscfg-testing_mongo_password'] -%}
{
    "source": {
        "zk": {
            "url": "zk01vla.mds.yandex.net:2181,zk01myt.mds.yandex.net:2181,zk01sas.mds.yandex.net:2181",
            "lock_prefix": "/nscfg/locks/",
            "options": {
                "timeout": 10,
                "command_retry": {
                    "max_tries": 10
                }
            },
            "lock_acquire_timeout": 2
        },
        "mongo": {
            "url": "mongodb://nscfg-ng:{{ mongo_password }}@vla-0oq7ns487qhlgen4.db.yandex.net:27018,sas-1as4yyt3xn2td9l0.db.yandex.net:27018,vla-8eygzoacj54e1lg0.db.yandex.net:27018/?replicaSet=rs01&authSource=mastermind_namespaces",
            "options": {
                "maxPoolSize": 100,
                "socketTimeoutMS": 10000,
                "connectTimeoutMS": 10000,
                "w": 2,
                "wtimeout": 10000
            },
            "db": "mastermind_namespaces",
            "collections_names": {
                "meta": "nscfg_ng_meta",
                "settings": "nscfg_ng_settings",
                "orders": "nscfg_ng_orders"
            }
        }
    },
    "destination": {
        "zk": {
            "url": "zk01man.mdst.yandex.net:2181,zk01myt.mdst.yandex.net:2181,zk01sas.mdst.yandex.net:2181",
            "lock_prefix": "/nscfg/locks/",
            "options": {
                "timeout": 10,
                "command_retry": {
                    "max_tries": 10
                }
            },
            "lock_acquire_timeout": 2
        },
        "mongo": {
            "url": "mongodb://nscfg-ng:{{ mongo_test_password }}@vla-yb2ipalyrt1tot3o.db.yandex.net:27018,sas-uvrctumr87ldflov.db.yandex.net:27018,vla-y8tst5zlv5qtte3m.db.yandex.net:27018/?replicaSet=rs01&authSource=mastermind_test_namespaces",
            "options": {
                "maxPoolSize": 100,
                "socketTimeoutMS": 10000,
                "connectTimeoutMS": 10000,
                "w": 2,
                "wtimeout": 10000
            },
            "db": "mastermind_test_namespaces",
            "collections_names": {
                "meta": "nscfg_ng_meta",
                "settings": "nscfg_ng_settings",
                "orders": "nscfg_ng_orders"
            }
        }
    }
}
