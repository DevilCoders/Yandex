[global]
hook_retry_return_code = 101
# MDS-18605
hook_recovery_return_code = 102 
hook_run_timeout = 120 m
log_level = 10
log_max_size = 512000000
log_rotate = 10

[dmesg]
max_errors = 4

[disk]
enable_partition_recovery = no
reaction = bot
shelf_failed_disks_threshold = 3
failed_hook_arguments_template = '{disk}' '{name}' '{problem_code}' '{shelf}' '{slot}' '{partition_list}' '{disk_type}' '{serial}' '{dmesg_flag}' >> /var/log/hw_watcher/disk_failed.log 2>&1
replaced_hook_arguments_template = '{disk}' '{name}' '{problem_code}' '{shelf}' '{slot}' '{partition_list}' '{disk_type}' '{serial}' '{dmesg_flag}' >> /var/log/hw_watcher/disk_replaced.log 2>&1

[smart]
ssd_wearout_threshold = 1

# disable checking of raw SMART values (HWWATCHER-307)
reallocated_sector = 1000000
reallocated_sector_new_disk = 1000000
reallocated_events = 1000000
reallocated_events_new_disk = 1000000
pending_sectors = 1000000
pending_sectors_new_disk = 1000000
offline_uncorrectable_errors = 1000000
offline_uncorrectable_errors_new_disk = 1000000

{% if 'ycs' in grains['conductor']['fqdn'] -%}
[link]
reaction = bot-needcall

[mem]
reaction = bot-needcall

[ecc]
reaction = bot-needcall
{%- else -%}
[link]
reaction = none

[mem]
reaction = none

[ecc]
reaction = none
{%- endif %}
