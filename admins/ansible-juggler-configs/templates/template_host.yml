- hosts: localhost
  connection: local
  gather_facts: false
  vars:
    host: some_conductor_group
    children: ["CGROUP%{{ host }}"] # by default
    # default triggers. Can be removed (includes in group_vars/all) or changed
    iptruler: True
    call_on_weekend: False
    do_unreachable: False
    do_cluster_unreachable: False
    always_warning: False
    cluster_critical: False
    ignore_nodata_cluster_critical: False
    ignore_nodata_always_critical: False
    host_tags:
    - some_tag
    - some_another_tag

  post_tasks:
  - juggler_cleanup: #jcheck_mark={{ host }} # commented for clean up all checks made with playbook

  pre_tasks:
  - juggler_facts: jserver_api={{ jserver_api }} # load juggler facts
  - include_vars: "vars" # include per project vars

  tasks:
  - include: tasks/unreachable.yml  # include UNREACHABLE check
  - include: tasks/common.yml       # include common checks. List of default checks is in group_vars/all

  - include: tasks/basic.yml        # include listed checks with default juggler_check template.
    vars:
      checks:
      - push-client-status
      - some_monrun_check1
      - some_monrun_check2

  - include: tasks/basic.yml        # include listed checks with default juggler_check template. Vars can be override
    vars:
      call_on_weekend: True
      cluster_critical: True
      checks:
      - push-client-status
      - some_custom_monrun_check1
      - some_custom_monrun_check2


