- juggler_check:
  args: "{{ default_check | hash_merge( production_default_media, {'service': item.value, 'children': 'yasm_alert:' + item.key} ) }}"
  with_dict: "{{ checks }}"
  when: type == 'production' and project in ['music', 'alet', 'afisha', 'kassa', 'audiorobot', 'jkp', 'kino', 'kinopoisk', 'ott', 'tv', 'cult', 'media']

- juggler_check:
  args: "{{ default_check | hash_merge( production_default_nonmedia, {'service': item.value, 'children': 'yasm_alert:' + item.key} ) }}"
  with_dict: "{{ checks }}"
  when: type == 'production' and project not in ['music', 'alet', 'afisha', 'kassa', 'audiorobot', 'jkp', 'kino', 'kinopoisk', 'ott', 'tv', 'cult', 'media']

- juggler_check:
  args: "{{ default_check | hash_merge( testing_default_media, {'service': item.value, 'children': 'yasm_alert:' + item.key} ) }}"
  with_dict: "{{ checks }}"
  when: type == 'testing' and project in ['music', 'alet', 'afisha', 'kassa', 'audiorobot', 'jkp', 'kino', 'kinopoisk', 'ott', 'tv', 'cult', 'media']

- juggler_check:
  args: "{{ default_check | hash_merge( testing_default_nonmedia, {'service': item.value, 'children': 'yasm_alert:' + item.key} ) }}"
  with_dict: "{{ checks }}"
  when: type == 'testing' and project not in ['music', 'alet', 'afisha', 'kassa', 'audiorobot', 'jkp', 'kino', 'kinopoisk', 'ott', 'tv', 'cult', 'media']

- juggler_check:
  args: "{{ default_check | hash_merge( warning, {'service': item.value, 'children': 'yasm_alert:' + item.key} ) }}"
  with_dict: "{{ checks }}"
  when: type == 'warning'
