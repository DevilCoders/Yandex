- juggler_check:
  args: "{{ default_check | hash_merge( unreach_check, unreach_ok, production_default_media, {'service': item['name'] }, {'active_kwargs': { 'path': item['path'] } }, active_check ) }}"
  with_items: "{{ checks }}"
  when: type == 'production' and project in ['music', 'alet', 'afisha', 'kassa', 'audiorobot', 'jkp', 'kino', 'kinopoisk', 'ott', 'tv', 'cult', 'media']

- juggler_check:
  args: "{{ default_check | hash_merge( unreach_check, unreach_ok, production_default_nonmedia, {'service': item['name'] }, {'active_kwargs': { 'path': item['path'] } }, active_check  ) }}"
  with_items: "{{ checks }}"
  when: type == 'production' and project not in ['music', 'alet', 'afisha', 'kassa', 'audiorobot', 'jkp', 'kino', 'kinopoisk', 'ott', 'tv', 'cult', 'media']

- juggler_check:
  args: "{{ default_check | hash_merge( unreach_check, unreach_ok, testing_default_media, {'service': item['name'] }, {'active_kwargs': { 'path': item['path'] } }, active_check  ) }}"
  with_items: "{{ checks }}"
  when: type == 'testing' and project in ['music', 'alet', 'afisha', 'kassa', 'audiorobot', 'jkp', 'kino', 'kinopoisk', 'ott', 'tv', 'cult', 'media']

- juggler_check:
  args: "{{ default_check | hash_merge( unreach_check, unreach_ok, testing_default_nonmedia, {'service': item['name'] }, {'active_kwargs': { 'path': item['path'] } }, active_check  ) }}"
  with_items: "{{ checks }}"
  when: type == 'testing' and project not in ['music', 'alet', 'afisha', 'kassa', 'audiorobot', 'jkp', 'kino', 'kinopoisk', 'ott', 'tv', 'cult', 'media']

- juggler_check:
  args: "{{ default_check | hash_merge( unreach_ok, unreach_check, warning, {'service': item['name'] }, {'active_kwargs': { 'path': item['path'] } }, active_check  ) }}"
  with_items: "{{ checks }}"
  when: type == 'warning'
