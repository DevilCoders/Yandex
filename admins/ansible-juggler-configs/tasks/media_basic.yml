- juggler_check:
  args: "{{ default_check | hash_merge( unreach_check, unreach_ok, production_default_media, item if item is mapping else {'service': item} ) }}"
  with_items: "{{ checks }}"
  when: type == 'production' and project in ['music', 'alet', 'afisha', 'kassa', 'audiorobot', 'jkp', 'kino', 'kinopoisk', 'ott', 'tv', 'cult', 'media']

- juggler_check:
  args: "{{ default_check | hash_merge( unreach_check, unreach_ok, production_default_nonmedia, item if item is mapping else {'service': item} ) }}"
  with_items: "{{ checks }}"
  when: type == 'production' and project not in ['music', 'alet', 'afisha', 'kassa', 'audiorobot', 'jkp', 'kino', 'kinopoisk', 'ott', 'tv', 'cult', 'media']

- juggler_check:
  args: "{{ default_check | hash_merge( unreach_check, unreach_ok, testing_default_media, item if item is mapping else {'service': item} ) }}"
  with_items: "{{ checks }}"
  when: type == 'testing' and project in ['music', 'alet', 'afisha', 'kassa', 'audiorobot', 'jkp', 'kino', 'kinopoisk', 'ott', 'tv', 'cult', 'media']

- juggler_check:
  args: "{{ default_check | hash_merge( unreach_check, unreach_ok, testing_default_nonmedia, item if item is mapping else {'service': item} ) }}"
  with_items: "{{ checks }}"
  when: type == 'testing' and project not in ['music', 'alet', 'afisha', 'kassa', 'audiorobot', 'jkp', 'kino', 'kinopoisk', 'ott', 'tv', 'cult', 'media']

- juggler_check:
  args: "{{ default_check | hash_merge( unreach_ok, unreach_check, warning, item if item is mapping else {'service': item} ) }}"
  with_items: "{{ checks }}"
  when: type == 'warning'

- juggler_check:
  args: "{{ default_check | hash_merge( unreach_check, unreach_ok, limits, item if item is mapping else {'service': item} ) }}"
  with_items: "{{ checks }}"
  when: type == 'custom' and project in ['music', 'alet', 'afisha', 'kassa', 'audiorobot', 'jkp', 'kino', 'kinopoisk', 'ott', 'tv', 'cult', 'media']
