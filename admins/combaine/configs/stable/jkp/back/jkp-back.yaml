---
name: jkp_back-stable-mongo-timings
parsing:
  groups: [jkp_back-stable]
  metahost: jkp_back-stable
  DataFetcher:
    logname: "kino-kp-api/mongo/operation.log"
    timetail_url: "/timetail?pattern=mongo&type=tskv&log_ts="
  Combainer:
      MINIMUM_PERIOD: 60
aggregate:
  data:
    java:
      type: custom
      class: Multimetrics
      perHost: YES
      values: [75, 90, 95, 96, 97, 98, 99, 100]
  senders:
    graphite:
      type: graphite
      cluster: media.jkp
      Fields: ["75_prc", "90_prc", "95_prc", "96_prc", "97_prc", "98_prc", "99_prc", "100_prc"]
---
name: jkp_back-stable-http-hits
parsing:
  groups: [jkp_back-stable]
  metahost: jkp_back-stable
  DataFetcher:
    logname: "nginx/access.log"
    timetail_url: "/timetail?pattern=http_hits&type=tskv&log_ts="
  Combainer:
      MINIMUM_PERIOD: 60
aggregate:
  data:
    http:
      type: custom
      class: Multimetrics
      perHost: YES
  senders:
    graphite:
      type: graphite
      cluster: media.jkp
---
name: jkp_back
parsing:
  groups: [jkp_back]
  metahost: jkp_back
  DataFetcher:
    logname: "nginx/access.log"
    timetail_url: "/timetail?pattern=http_tskv&type=tskv&log_ts="
  Combainer:
      MINIMUM_PERIOD: 60
aggregate:
  data:
    http:
      type: custom
      class: Multimetrics
      factor: 1000
  senders:
    graphite:
      type: graphite
      cluster: media.jkp
