---
name: disk_lenta_worker-requests_http
parsing:
  groups: [disk_lenta_worker]
  metahost: lenta-worker.disk.yandex.net
  DataFetcher:
    logname: 'yandex/disk/lenta-worker-tskv.log'
    timetail_url: '/timetail?pattern=requests_http&type=java&timeout=60&log_ts='
  Combainer:
    MINIMUM_PERIOD: 60

aggregate:
  data:
    requests_http:
      type: "custom"
      class: "Multimetrics"

  senders:
    graphite:
      cluster: "media.disk"
      type: graphite
---
name: disk_lenta_worker-requests_pg
parsing:
  groups: [disk_lenta_worker]
  metahost: lenta-worker.disk.yandex.net
  DataFetcher:
    logname: 'yandex/disk/lenta-worker-tskv.log'
    timetail_url: '/timetail?pattern=requests_pg&type=java&timeout=60&log_ts='
  Combainer:
    MINIMUM_PERIOD: 60

aggregate:
  data:
    requests_pg:
      type: "custom"
      class: "Multimetrics"

  senders:
    graphite:
      cluster: "media.disk"
      type: graphite

---
name: disk_lenta_worker-worker_tasks
parsing:
  groups: [disk_lenta_worker]
  metahost: disk_lenta_worker
  DataFetcher:
    logname: 'yandex/disk/lenta-worker-tskv.log'
    timetail_url: '/timetail?pattern=worker_tasks&type=java&timeout=60&log_ts='
  Combainer:
    MINIMUM_PERIOD: 60

aggregate:
  data:
    worker_tasks:
      type: "custom"
      class: "Multimetrics"
      rps: no

  senders:
    graphite:
      cluster: "media.disk"
      type: graphite
