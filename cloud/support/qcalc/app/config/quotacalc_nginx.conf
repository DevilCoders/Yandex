upstream uwsgi_flask_upstream{
    server unix://tmp/quotacalc.sock;
}

server {

server_name default;

listen 0.0.0.0:80 default;
listen [::]:80 default;

root /app;

access_log off;
error_log /var/log/nginx/app.log;

location =/ {
     include uwsgi_params;
     uwsgi_read_timeout 600;
     uwsgi_send_timeout 600;
     uwsgi_pass unix://tmp/quotacalc.sock;
}

location / {
     include uwsgi_params;
     uwsgi_read_timeout 600;
     uwsgi_send_timeout 600;
     uwsgi_pass unix://tmp/quotacalc.sock;
}

location /ping {
    return 200;
}

location /static {
    root /app/app/;
    access_log off;
    add_header Cache-Control no-cache;
}

}