[General]
ZoneID="arcadia-zone-id"
Tmpdir = "/tmp"
Storage = "kikimr+grpc"
CacheSize = 1024
DummyFsRoot = ""
StartSplit = 10
ClearChunkBatchSize = 50
TokenPolicy = "none"

[S3]
Dummy = true
RegionName = "us-east-1"
Endpoint = "http://s3.mds.yandex.net"
TokenEndpoint = "http://169.254.169.254:21212/latest"
Profile = "s3mds-v2-596"

[Kikimr]
[Kikimr.default]
DBHost = "ARCADIA-RECIPE" # used if UseNewDriver = true for new driver to connect. Emptyed out otherwise
Root = "/ARCADIA-RECIPE"
DBName = "/ARCADIA-RECIPE"

MaxSelectRows = 5
UseBigTablesProfile = true

TraceDriver=true
TraceClient=true
TraceSessionPool=true

[Nbs]
[Nbs.default]
Hosts = ["ARCADIA-RECIPE"]
SupportsChangedBlocks = false
SSL = false
KeyFile = ""
CertFile = ""
RootCertsFile = ""

[Nbd]
DockerImage="snapshot_qemu_nbd"
SecurityOptions=["no-new-privileges"]

[Server]
SSL = false
CertFile = "api/snapshot/server/server/snapshot.crt"
KeyFile = "api/snapshot/server/server/snapshot.key"
HTTPEndpoint = "tcp6://[::]:17628"
GRPCEndpoint = "tcp4://[::]:17627"

[Logging]
Level = "debug"
Output = "stdout"
EnableKikimr = false
EnableSpans = false
EnableGrpc = false
EnableNbs = false

[Tracing]
Address="localhost:5775"
Service="snapshot"

[DebugServer]
HTTPEndpoint = "tcp4://[::]:17629"
GCEndpoint = "tcp4://[::]:17630"

[GC]
Enabled = true
BatchSize = 100
Interval = "24h"
FailedCreation = "1s"
FailedConversion = "1s"
FailedDeletion = "1s"
Tombstone = "1h"

[Performance]
MoveWorkers = 16
ConvertWorkers = 16
GCWorkers = 4
ClearChunkWorkers = 16
VerifyWorkers = 64

[QemuDockerProxy]
SocketPath = "/tmp/snapshot-image-proxy.sock"
HostForDocker = "127.0.0.1:1234"
IDLengthBytes = 20

[TaskLimiter]
CheckInterval="1m"
ZoneUnknown=10
ZoneTotal=100
CloudTotal=30
ProjectTotal=15
SnapshotTotal=10

ZoneShallowCopy=30
CloudShallowCopy=15
ProjectShallowCopy=10
SnapshotShallowCopy=10

ZoneImport=30
CloudImport=15
ProjectImport=10

ZoneSnapshot=30
CloudSnapshot=20
ProjectSnapshot=15

ZoneRestore=30
CloudRestore=15
ProjectRestore=10
SnapshotRestore=10

ZoneDelete=30
CloudDelete=20
ProjectDelete=20
