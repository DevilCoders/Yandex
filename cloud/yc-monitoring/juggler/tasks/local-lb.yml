- name: 'envoy-ready{{ dc_suffix }}'
  juggler_check: ''
  vars:
    notification_methods: "{{ custom_notifications if custom_notifications is defined else default_notification_methods }}"
    service: envoy-ready
  args: "{{ common_silent_check | hash_merge(item, default_timed_limits_unreach_force_ok) }}"
  with_items:
    - service: "{{ service }}"
      meta:
        urls:
          - title: Description
            url: 'https://wiki.yandex-team.ru/cloud/devel/selfhost/local-lb-v2/monitorings#envoy-ready'

- name: 'envoy-error-states{{ dc_suffix }}'
  juggler_check: ''
  vars:
    notification_methods: "{{ custom_notifications if custom_notifications is defined else default_notification_methods }}"
    service: envoy-error-states
  args: "{{ common_silent_check | hash_merge(item, default_timed_limits_unreach_force_ok) }}"
  with_items:
    - service: "{{ service }}"
      meta:
        urls:
          - title: Description
            url: 'https://wiki.yandex-team.ru/cloud/devel/selfhost/local-lb-v2/monitorings#envoy-error-states'

- name: 'envoy-clusters-state{{ dc_suffix }}'
  juggler_check: ''
  vars:
    notification_methods: "{{ custom_notifications if custom_notifications is defined else default_notification_methods }}"
    service: envoy-clusters-state
  args: "{{ common_silent_check | hash_merge(item, default_timed_limits_unreach_force_ok) }}"
  with_items:
    - service: "{{ service }}"
      meta:
        urls:
          - title: Description
            url: 'https://wiki.yandex-team.ru/cloud/devel/selfhost/local-lb-v2/monitorings#envoy-clusters-state'

- name: 'envoy-xds-connect{{ dc_suffix }}'
  juggler_check: ''
  vars:
    notification_methods: "{{ custom_notifications if custom_notifications is defined else default_notification_methods }}"
    service: envoy-xds-connect
  args: "{{ common_silent_check | hash_merge(item, default_timed_limits_unreach_force_ok) }}"
  with_items:
    - service: "{{ service }}"
      meta:
        urls:
          - title: Description
            url: 'https://wiki.yandex-team.ru/cloud/devel/selfhost/local-lb-v2/monitorings#envoy-xds-connect'

- name: 'addr-ctrl-ping{{ dc_suffix }}'
  juggler_check: ''
  vars:
    notification_methods: "{{ custom_notifications if custom_notifications is defined else default_notification_methods }}"
    service: addr-ctrl-ping
  args: "{{ common_silent_check | hash_merge(item, default_timed_limits_unreach_force_ok) }}"
  with_items:
    - service: "{{ service }}"
      meta:
        urls:
          - title: Description
            url: 'https://wiki.yandex-team.ru/cloud/devel/selfhost/local-lb-v2/monitorings#addr-ctrl-ping'
