- name: 'yc-k8s-metadata-plugin-success-rate{{ dc_suffix }}'
  juggler_check: ''
  args: "{{ default_check | hash_merge(item, default_timed_limits_unreach_skip) }}"
  with_items:
    - service: yc-k8s-metadata-plugin-success-rate
      timed_more_than_limit_is_problem:
        nodata_mode: skip

# disabled this alert: its "host" label means "host I'm connecting to", and not
# "host I am running on". It makes it impossible to use in "all alerts live
# in a single solomon cluster, identifiable by hostname for different roles"
# because it is not possible at the moment to have a "host I am running on"
# label.
# See: https://st.yandex-team.ru/CLOUD-86479#61b735806bb59665fa0455b7
#
# This alert might be an opt-in, but not as default: cgw will have it as
# "NO DATA" at the moment, because all cgw alerts for different roles
# live in a common solomon cluster.
#
# - name: 'kubelet-client-requests-failures{{ dc_suffix }}'
#   juggler_check: ''
#   args: "{{ default_check | hash_merge(item, default_timed_limits_unreach_skip) }}"
#   with_items:
#     - service: kubelet-client-requests-failures

- name: 'kubelet{{ dc_suffix }}'
  juggler_check: ''
  args: "{{ default_check | hash_merge(item, default_timed_limits_unreach_skip) }}"
  with_items:
    - service: kubelet

- name: 'containerd{{ dc_suffix }}'
  juggler_check: ''
  args: "{{ default_check | hash_merge(item, default_timed_limits_unreach_skip) }}"
  with_items:
    - service: containerd

- name: 'certificates-validity{{ dc_suffix }}'
  juggler_check: ''
  args: "{{ default_check | hash_merge(item, default_timed_limits_unreach_skip) }}"
  with_items:
    - service: certificates-validity
