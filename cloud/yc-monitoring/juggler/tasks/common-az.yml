- name: 'ntp{{ dc_suffix }}'
  juggler_check: ''
  vars:
    notification_methods: "{{ custom_notifications if custom_notifications is defined else default_notification_methods }}"
    service: ntp
  args: "{{ common_silent_check | hash_merge(item, default_timed_limits_unreach_force_ok) }}"
  with_items:
    - service: "{{ service }}"

- name: 'oom-killer{{ dc_suffix }}'
  juggler_check: ''
  vars:
    notification_methods: "{{ custom_notifications if custom_notifications is defined else default_notification_methods }}"
    service: oom-killer
  args: "{{ common_silent_check | hash_merge(item, default_timed_limits_unreach_force_ok) }}"
  with_items:
    - refresh_time: 900
      service: "{{ service }}"

- name: 'freespace{{ dc_suffix }}'
  juggler_check: ''
  args: "{{ common_check | hash_merge(item, default_timed_limits_unreach_force_ok) }}"
  with_items:
    - service: freespace

- name: 'coredump_common{{ dc_suffix }}'
  juggler_check: ''
  vars:
    service: coredump_common
  args: "{{ common_silent_check | hash_merge(item, default_timed_limits_unreach_skip) }}"
  with_items:
    - service: "{{ service }}"

- name: 'solomon-agent{{ dc_suffix }}'
  juggler_check: ''
  vars:
    service: solomon-agent
    notification_methods: "{{ custom_notifications if custom_notifications is defined else [] }}"
  args: "{{ common_silent_check | hash_merge(item, default_timed_limits_unreach_skip) }}"
  with_items:
    - service: "{{ service }}"

- name: 'UNREACHABLE{{ dc_suffix }}'
  juggler_check: ''
  args: "{{ common_check | hash_merge(item, default_timed_limits) }}"
  with_items:
    - service: UNREACHABLE
      active: icmpping

- name: 'META{{ dc_suffix }}'
  juggler_check: ''
  args: "{{ common_check | hash_merge(item, default_timed_limits) }}"
  with_items:
    - service: META

- name: 'dns{{ dc_suffix }}'
  juggler_check: ''
  vars:
    notification_methods: "{{ custom_notifications if custom_notifications is defined else default_notification_methods }}"
    service: dns
  args: "{{ common_silent_check | hash_merge(item, default_timed_limits_unreach_force_ok) }}"
  with_items:
    - service: dns
      active: icmpping

- name: 'ssh{{ dc_suffix }}'
  juggler_check: ''
  args: "{{ common_check | hash_merge(item, default_timed_limits_unreach_force_ok) }}"
  with_items:
    - service: ssh
      ssh: {timeout: 10}
      flap: {stable: 600, critical: 1200}

- name: 'reboot-count{{ dc_suffix }}'
  juggler_check: ''
  vars:
    notification_methods: "{{ custom_notifications if custom_notifications is defined else default_notification_methods }}"
    service: reboot-count
  args: "{{ common_silent_check | hash_merge(item, default_timed_limits_unreach_force_ok) }}"
  with_items:
    - service: "{{ service }}"

- name: 'walle_fs_check{{ dc_suffix }}'
  juggler_check: ''
  args: "{{ common_check | hash_merge(item, default_timed_limits_unreach_force_ok) }}"
  with_items:
    - service: walle_fs_check
