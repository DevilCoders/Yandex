---
- name: 'juggler_check : UNREACHABLE'
  juggler_check: ''
  args: "{{ default_check | hash_merge(item, default_timed_limits) }}"
  with_items:
    - service: UNREACHABLE
      active: icmpping
      notifications: []
      flap: { stable: 180, critical: 540 }

- name: 'juggler_check : META'
  juggler_check: ''
  args: "{{ default_check | hash_merge(item, default_timed_limits) }}"
  with_items:
    - service: META
      notifications: []
      flap: { stable: 180, critical: 540 }

- name: 'juggler_check : ssh'
  juggler_check: ''
  args: "{{ common_check | hash_merge(item, default_timed_limits_unreach_force_ok) }}"
  with_items:
    - service: ssh
      ssh: {timeout: 10}
      flap: {stable: 600, critical: 1200}

- name: 'juggler_check : reboot-count'
  juggler_check: ''
  vars:
    notification_methods: "{{ custom_notifications if custom_notifications is defined else default_notification_methods }}"
    service: reboot-count
  args: "{{ common_silent_check | hash_merge(item, default_timed_limits_unreach_force_ok) }}"
  with_items:
    - service: "{{ service }}"

- name: 'juggler_check : walle_fs_check'
  juggler_check: ''
  args: "{{ common_check | hash_merge(item, default_timed_limits_unreach_force_ok) }}"
  with_items:
    - service: walle_fs_check

- name: 'juggler_check : ntp'
  juggler_check: ''
  vars:
    notification_methods: "{{ custom_notifications if custom_notifications is defined else default_notification_methods }}"
    service: ntp
  args: "{{ common_silent_check | hash_merge(item, default_timed_limits_unreach_force_ok) }}"
  with_items:
    - service: ntp

- name: 'juggler_check : dns'
  juggler_check: ''
  vars:
    notification_methods: "{{ custom_notifications if custom_notifications is defined else default_notification_methods }}"
    service: dns
  args: "{{ common_silent_check | hash_merge(item, default_timed_limits_unreach_force_ok) }}"
  with_items:
    - service: dns

- name: 'juggler_check : freespace'
  juggler_check: ''
  args: "{{ common_check | hash_merge(item, default_timed_limits_unreach_force_ok) }}"
  with_items:
    - service: freespace

- name: 'juggler_check : coredump_common'
  juggler_check: ''
  vars:
    service: coredump_common
  args: "{{ common_silent_check | hash_merge(item, default_timed_limits_unreach_skip) }}"
  with_items:
    - service: "{{ service }}"

- name: 'juggler_check : logsync'
  juggler_check: ''
  args: "{{ common_silent_check | hash_merge(item, default_timed_limits_unreach_skip_workday) }}"
  with_items:
    - service: logsync

- name: 'juggler_check : push-client'
  juggler_check: ''
  args: "{{ common_silent_check | hash_merge(item, default_timed_limits_unreach_skip_workday) }}"
  with_items:
    - service: push-client

- name: 'juggler_check : atop'
  juggler_check: ''
  vars:
    notification_methods: "{{ custom_notifications if custom_notifications is defined else default_notification_methods }}"
    service: atop
  args: "{{ common_silent_check | hash_merge(item, default_timed_limits_unreach_force_ok) }}"
  with_items:
    - service: atop

- name: 'juggler_check : solomon-agent'
  juggler_check: ''
  args: "{{ common_check | hash_merge(item, default_timed_limits_unreach_force_ok) }}"
  with_items:
    - service: solomon-agent
  when: host != "yc_bootstrap_dev"

- name: 'juggler_check : yc-bootstrap-e2e'
  juggler_check: ''
  args: "{{ common_check | hash_merge(item, default_timed_limits_unreach_force_ok) }}"
  with_items:
    - service: bootstrap-e2e
      ttl: 22000
  when: host != "yc_bootstrap_dev"

- name: 'juggler_check : ssh-cert-check'
  juggler_check: ''
  vars:
    notification_methods: "{{ custom_notifications if custom_notifications is defined else default_notification_methods }}"
    service: ssh-cert-check
  args: "{{ common_check | hash_merge(item, default_timed_limits_unreach_force_ok) }}"
  with_items:
    - service: ssh-cert-check
