- name: 'http-ping-proxy{{ dc_suffix }}'
  juggler_check: ''
  args: "{{ default_check_delay_10_tag | hash_merge(item, default_timed_limits_unreach_skip_with_deployment) }}"
  with_items:
    - service: proxy-http-ping

- name: 'hc-ctrl-proxy-limits-check{{ dc_suffix }}'
  juggler_check: ''
  args: "{{ default_check_delay_10_tag | hash_merge(item, default_timed_limits_unreach_skip_nodata_force_ok_with_deployment) }}"
  with_items:
    - service: hc-ctrl-proxy-limits-check

- name: 'hc-ctrl-grpc-perm-error-rate-proxy{{ dc_suffix }}'
  juggler_check: ''
  args: "{{ default_check_delay_10_tag | hash_merge(item, default_timed_limits_unreach_skip_nodata_force_ok_with_deployment) }}"
  with_items:
    - service: grpc-perm-error-rate-proxy
      pronounce: "Высокий уровень ошибок авторизации ГРПЦ-сервера хелс-ч+ек прокси {{ pronounce_suffix }}"

- name: 'hc-ctrl-grpc-perm-denied-rate-proxy{{ dc_suffix }}'
  juggler_check: ''
  args: "{{ default_check_delay_10_tag | hash_merge(item, default_timed_limits_unreach_skip_nodata_force_ok_with_deployment) }}"
  with_items:
    - service: grpc-perm-denied-rate-proxy
      pronounce: "Обнаружены неавторизованные запросы к ГРПЦ-серверу хелс-ч+ек прокси {{ pronounce_suffix }}"

- name: 'hc-ctrl-grpc-server-error-rate-proxy{{ dc_suffix }}'
  juggler_check: ''
  args: "{{ default_check_delay_10_tag | hash_merge(item, default_timed_limits_unreach_skip_nodata_force_ok_with_deployment) }}"
  with_items:
    - service: grpc-server-error-rate-proxy
      pronounce: "Высокий уровень ошибок ГРПЦ-сервера хелс-ч+ек прокси {{ pronounce_suffix }}"

- name: 'hc-ctrl-grpc-client-error-rate-proxy{{ dc_suffix }}'
  juggler_check: ''
  args: "{{ default_check_delay_10_tag | hash_merge(item, default_timed_limits_unreach_skip_nodata_force_ok_with_deployment) }}"
  with_items:
    - service: grpc-client-error-rate-proxy
      pronounce: "Высокий уровень ошибок ГРПЦ-клиента хелс-ч+ек прокси {{ pronounce_suffix }}"


- name: 'ydb_open_conns-hc-ctrl-proxy{{ dc_suffix }}'
  juggler_check: ''
  args: "{{ default_check_delay_10_tag | hash_merge(item, default_timed_limits_unreach_skip_with_deployment) }}"
  with_items:
    - service: ydb_open_conns-proxy
      pronounce: "Установлено малое количество соединений к Y-DB у хелс-ч+ек прокси {{ pronounce_suffix }}"
      refresh_time: 300
      ttl: 900

- name: 'ydb-session-pool-overflows-hc-ctrl-proxy{{ dc_suffix }}'
  juggler_check: ''
  args: "{{ default_check_delay_10_tag | hash_merge(item, default_timed_limits_unreach_skip_nodata_force_ok_with_deployment) }}"
  with_items:
    - service: ydb-session-pool-overflows-proxy

- name: 'ydb-errors-proxy{{ dc_suffix }}'
  juggler_check: ''
  when: env not in ["hw-cgw-dev-lab", "hw-cgw-ci-lab"]
  args: "{{ default_check_delay_10_tag | hash_merge(item, default_timed_limits_unreach_skip_nodata_force_ok_with_deployment) }}"
  with_items:
    - service: ydb-errors-proxy
      refresh_time: 300
      ttl: 900
      pronounce: "Высокий уровень ошибок Y-DB хелс-ч+ек прокси {{ pronounce_suffix }}"

- name: 'grpc-restricted-proxy{{ dc_suffix }}'
  juggler_check: ''
  when: env not in ["hw-cgw-dev-lab", "hw-cgw-ci-lab"]
  args: "{{ default_check_delay_10_tag | hash_merge(item, default_timed_limits_nodata_ok) }}"
  with_items:
    - service: grpc-restricted-proxy
      refresh_time: 300
      ttl: 900
      pronounce: "Активирован рестриктед режим хелс-ч+ек прокси {{ pronounce_suffix }}"

- name: 'ydb-timings-proxy{{ dc_suffix }}'
  juggler_check: ''
  args: "{{ default_check_delay_10_tag | hash_merge(item, default_timed_limits_unreach_skip_nodata_force_ok_with_deployment) }}"
  with_items:
    - service: ydb-timings-proxy
      refresh_time: 300
      ttl: 900
      pronounce: "Задержки при работе с Y-DB у хелс-ч+ек прокси {{ pronounce_suffix }}"
