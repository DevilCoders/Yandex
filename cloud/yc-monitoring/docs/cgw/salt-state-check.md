# salt-state-check

**Значение:** Разьехалось состояние машин в кластере
**Воздействие:** Различные проблемы, от косметических до фатальных
**Что делать:**
* Скорее всего кто-то из раскатывающих не докатил релиз. Смотреть по последним коммитам / релизным тегам в [surveyor](https://bb.yandex-team.ru/projects/CLOUD/repos/surveyor/browse) / в чатиках. Идти к виновнику и решать как тушить.
* Так же бывают ситуации, когда стейт изменяется самостоятельно из-за изменения общий конфигурации. В таком случае необходимо узнать, откуда приехало изменение. В случае, если изменение корректное и ожидаемое необходимо прокатить highstate
Узнать конретный diff на любых хостах, кроме lb-node, можно с помощью ` sudo salt-call state.highstate test=True`
На lb-node `sudo salt-call -c /etc/salt-lb state.highstate test=True`
