# ydb_open_conns

**Значение:** Слишком много открытых ydb соединений к базе.
**Воздействие:** Деградация производительности, частичная или полная неработоспособность сервиса
**Что делать:** Solomon alert. Вероятно закончился пул открытых соединений.
* Первым делом есть смысл проверить количество входящих запросов на сервис - если они провоцируют увеличение количества конкуретных запросов к сервису, то надо разбираться с источником этих запросов.
* Временно можно подкрутить лимиты в конфиге сервиса, в ydb секции `max-idle-sessions` и `max-open-sessons` (особенно последний).
* Может лечиться рестартом сервиса. Перед рестартом желательно снять дебажный вывод горутин, `curl 0x0:4050/debug/pprof/goroutine?debug=1 > goroutine.debug.1` и  `curl 0x0:4050/debug/pprof/goroutine?debug=2 > goroutine.debug.2` и приложить в тикет https://st.yandex-team.ru/CLOUD-68762.
