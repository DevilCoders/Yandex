menu: "[CIC-API] Graphs"
menu_type: preview
api_path: /graphs/
tags:
  - cic-api
entities:
  # Sysinfo /proc based graphs
  cic-api-system-mem:
    template: ../../common/graphs/system/mem.json.j2
    context: &graphs_defaults
      team: CIC-API
      prefix: cic-api
    exclude: &dashboards_exclude
      solomon: [preprod, prod]
  cic-api-system-cpu:
    template: ../../common/graphs/system/cpu.json.j2
    context:
      <<: *graphs_defaults
    exclude:
      <<: *dashboards_exclude
  cic-api-system-io:
    template: ../../common/graphs/system/io.json.j2
    context:
      <<: *graphs_defaults
    exclude:
      <<: *dashboards_exclude
  cic-api-system-net:
    template: ../../common/graphs/system/net.json.j2
    context:
      <<: *graphs_defaults
    exclude:
      <<: *dashboards_exclude
  cic-api-system-disk:
    template: ../../common/graphs/system/disk.json.j2
    context:
      <<: *graphs_defaults
    exclude:
      <<: *dashboards_exclude

  # JVM
  cic-api-jvm-heap:
    template: ../../common/graphs/jvm/heap.j2
    context:
      <<: *graphs_defaults
    exclude:
      <<: *dashboards_exclude
  cic-api-jvm-threads:
    template: ../../common/graphs/jvm/threads.j2
    context:
      <<: *graphs_defaults
    exclude:
      <<: *dashboards_exclude
  cic-api-jvm-gc:
    template: ../../common/graphs/jvm/gc.j2
    context:
      <<: *graphs_defaults
    exclude:
      <<: *dashboards_exclude

  # YDB
  cic-api-ydb-tx-retries:
    template: ../../common/graphs/ydb/tx_retries.j2
    context:
      <<: *graphs_defaults
    exclude:
      <<: *dashboards_exclude
  cic-api-ydb-tx-retries-by-tx-name:
    template: ../../common/graphs/ydb/tx_retries_by_tx_name.j2
    context:
      <<: *graphs_defaults
    exclude:
      <<: *dashboards_exclude

  # gRPC
  cic-api-latency:
    template: ../../common/graphs/grpc/grpc-latency.j2
    context:
      <<: *graphs_defaults
    exclude:
      <<: *dashboards_exclude
  cic-api-latency-by-dc:
    template: ../../common/graphs/grpc/grpc-latency-by-dc.j2
    context:
      <<: *graphs_defaults
    exclude:
      <<: *dashboards_exclude
  cic-api-latency-by-method:
    template: ../../common/graphs/grpc/grpc-latency-by-method.j2
    context:
      <<: *graphs_defaults
    exclude:
      <<: *dashboards_exclude
  cic-api-requests:
    template: ../../common/graphs/grpc/grpc-requests.j2
    context:
      <<: *graphs_defaults
    exclude:
      <<: *dashboards_exclude
  cic-api-requests-by-dc:
    template: ../../common/graphs/grpc/grpc-requests-by-dc.j2
    context:
      <<: *graphs_defaults
    exclude:
      <<: *dashboards_exclude
  cic-api-grpc-errors:
    template: ../../common/graphs/grpc/grpc-errors.j2
    context:
      <<: *graphs_defaults
    exclude:
      <<: *dashboards_exclude
  cic-api-grpc-errors-by-method:
    template: ../../common/graphs/grpc/grpc-errors-by-method.j2
    context:
      <<: *graphs_defaults
    exclude:
      <<: *dashboards_exclude
  cic-api-grpc-client-errors:
    template: ../../common/graphs/grpc/grpc-client-errors.j2
    context:
      <<: *graphs_defaults
    exclude:
      <<: *dashboards_exclude
  cic-api-grpc-client-latency:
    template: ../../common/graphs/grpc/grpc-client-latency.j2
    context:
      <<: *graphs_defaults
    exclude:
      <<: *dashboards_exclude
  cic-api-grpc-long-requests:
    template: ../../common/graphs/grpc/grpc-long-requests.j2
    context:
      <<: *graphs_defaults
    exclude:
      <<: *dashboards_exclude

  # Logbroker
  {% if env in ["prod", "preprod"] %}
  cic-api-logbroker-messages-read:
    template: ../../common/graphs/logbroker/messages_read.j2
    context: &logbroker_defaults
      <<: *graphs_defaults
      account: yc.vpc.cic.api
      topic_path: yc.vpc.cic.api/vpc/{% if env == 'preprod' %}pre-prod{% else %}{{ env }}{% endif %}/cic/yc-vpc-cloud-interconnect-*-log
    exclude:
      <<: *dashboards_exclude
  cic-api-logbroker-messages-written:
    template: ../../common/graphs/logbroker/messages_written.j2
    context:
      <<: *logbroker_defaults
    exclude:
      <<: *dashboards_exclude
  cic-api-logbroker-partition-max-write-quota-used:
    template: ../../common/graphs/logbroker/partition_max_write_quota_used.j2
    context:
      <<: *logbroker_defaults
    exclude:
      <<: *dashboards_exclude
  cic-api-logbroker-partition-write-quota-wait:
    template: ../../common/graphs/logbroker/partition_write_quota_wait.j2
    context:
      <<: *logbroker_defaults
    exclude:
      <<: *dashboards_exclude
  cic-api-logbroker-read-time-lag:
    template: ../../common/graphs/logbroker/read_time_lag.j2
    context:
      <<: *logbroker_defaults
    exclude:
      <<: *dashboards_exclude
  cic-api-logbroker-time-since-last-read:
    template: ../../common/graphs/logbroker/time_since_last_read.j2
    context:
      <<: *logbroker_defaults
    exclude:
      <<: *dashboards_exclude
  cic-api-logbroker-topic-write-quota-wait:
    template: ../../common/graphs/logbroker/topic_write_quota_wait.j2
    context:
      <<: *logbroker_defaults
    exclude:
      <<: *dashboards_exclude
  {% endif %}
