menu: "[CIC-API] Dashboards"
menu_type: preview
api_path: /dashboards/
tags: ["cic-api"]
entities:
  cic_api_main:
    menu: "CIC-API Main Dashboard"
    template: cic_api_main.j2
    context: &dashboards_defaults
      team: CiC API
      prefix: cic-api
      service: vpc-cloud-interconnect
      cluster: cloud_{{ env }}_cic-api-k8s
      ydb_cluster: yandexcloud_{{ env }}_global
{% if env == "prod" %}
      ydb_database: /global/yc.vpc.cic.api/etnaarfpmfei9p1ogguk
{% elif env == "preprod"  %}
      ydb_database: /pre-prod_global/yc.vpc.cic.api/cc8t0f5cinm7cgjrcp03
{% else %}
      ydb_database: /{{ env }}_global/ycloud
{% endif %}
    exclude: &dashboards_exclude
      solomon: [preprod, prod]

  cic_api_jvm:
    menu: "CIC-API JVM"
    template: ../../common/dashboards/jvm.j2
    context:
      <<: *dashboards_defaults
    exclude:
      <<: *dashboards_exclude

  cic_api_ydb:
    menu: "CIC-API YDB"
    template: ../../common/dashboards/ydb.j2
    context:
      <<: *dashboards_defaults
    exclude:
      <<: *dashboards_exclude

  cic_api_grpc:
    menu: "CIC-API gRPC"
    template: ../../common/dashboards/grpc.j2
    context:
      <<: *dashboards_defaults
    exclude:
      <<: *dashboards_exclude

  cic_api_system:
    menu: "CIC-API System"
    template: ../../common/dashboards/system.j2
    context:
      <<: *dashboards_defaults
    exclude:
      <<: *dashboards_exclude

  {% if env in ["prod", "preprod"] %}
  cic_api_logbroker:
    menu: "CIC-API Logbroker"
    template: ../../common/dashboards/logbroker.j2
    context:
      prefix: cic-api
    exclude:
      <<: *dashboards_exclude
  {% endif %}
