menu: "[OCT] Graphs"
menu_type: preview
api_path: /graphs/
tags: ["oct"]
entities:
  vrouter_cpu_consumption:
    template: vrouter_cpu_consumption.j2
  vrouter_versions:
    template: vrouter_versions.j2
    id: "vrouter_versions"
    context:
      name: "VRouter and Agent versions"
      hide_no_data: "true"
      downsampling_func: "LAST"
  vrouter_feature_flags:
    template: vrouter_feature_flags.j2
    id: "vrouter_feature_flags"
    context:
      name: "VRouter Feature Flags"
      hide_no_data: "true"
      downsampling_func: "LAST"
  vrouter_task_times:
    template: vrouter_task_times.j2
    id: "vrouter_task_times"
    context:
      name: "VRouter Task Times"
      hide_no_data: "true"
      downsampling_func: "LAST"

  # Interface dropstats
  vrouter_interface_dropstats_bad_packets_route_errors:
    template: vrouter_interface_dropstats.j2
    id: "vrouter_interface_dropstats_bad_packets_route_errors"
    context:
      name: "VRouter Interface Drops: Bad or Unroutable packets"
      graph: bad_packets_route_errors
  vrouter_interface_dropstats_flow_errors:
    template: vrouter_interface_dropstats.j2
    id: "vrouter_interface_dropstats_flow_errors"
    context:
      name: "VRouter Interface Drops: Flow Establishment Errors"
      graph: flow_errors
  vrouter_interface_dropstats_bugs:
    template: vrouter_interface_dropstats.j2
    id: "vrouter_interface_dropstats_bugs"
    context:
      name: "VRouter Interface Drops: Minor Bugs"
      graph: bugs
  vrouter_interface_dropstats_sg:
    template: vrouter_interface_dropstats.j2
    id: "vrouter_interface_dropstats_sg"
    context:
      name: "VRouter Interface Drops: SG rules"
      graph: sg

  services_cpu_usage:
    template: services_cpu_usage.j2

  compute-nginx-metadata:
    template: compute-nginx-metadata.j2
    id: "vpc-{{ env }}-compute-nginx-metadata"
    context:
      name: "Compute metadata requests / errors (nginx)"
      hide_no_data: "true"
      downsampling_func: "LAST"
