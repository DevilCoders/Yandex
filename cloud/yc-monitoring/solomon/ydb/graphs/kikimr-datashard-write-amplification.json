{
    "id": "kikimr-datashard-write-amplification",
    "projectId": "{{ project_id }}",
    "name": "DataShard Write Amplification",
    "description": "",
    "parameters": [
        {
            "name": "cluster",
            "value": "*"
        },
        {
            "name": "host",
            "value": "*"
        },
        {
            "name": "service",
            "value": "tablets"
        },
        {
            "name": "type",
            "value": "DataShard"
        }
    ],
    "elements": [
        {
            "title": "Write Amplification (over DataShard data)",
            "type": "EXPRESSION",
            "selectors": [],
            "expression": "group_lines('sum', {category='executor', sensor='CompactionBytesWritten|LogWritten|LogEmbedded'})/group_lines('sum', {sensor='DataShard/EngineHostRowUpdateBytes|DataShard/EngineHostRowEraseBytes|DataShard/UploadRowsBytes'})",
            "stack": "",
            "color": "",
            "yaxis": "LEFT",
            "transform": "NONE"
        },
        {
            "title": "Write Amplification (over Tablet data)",
            "type": "EXPRESSION",
            "selectors": [],
            "expression": "group_lines('sum', {category='executor', sensor='CompactionBytesWritten|LogWritten|LogEmbedded'})/group_lines('sum', {category='executor', sensor='DbRedoWrittenBytes|DbAnnexWrittenBytes'})",
            "stack": "",
            "color": "",
            "yaxis": "LEFT",
            "transform": "NONE"
        }
    ],
    "graphMode": "GRAPH",
    "secondaryGraphMode": "NONE",
    "min": "",
    "max": "",
    "normalize": false,
    "colorScheme": "AUTO",
    "stack": false,
    "aggr": "AVG",
    "interpolate": "LINEAR",
    "scale": "NATURAL",
    "numberFormat": "",
    "green": "",
    "yellow": "",
    "red": "",
    "violet": "",
    "greenValue": "",
    "yellowValue": "",
    "redValue": "",
    "violetValue": "",
    "limit": "",
    "overLinesTransform": "NONE",
    "percentiles": "",
    "bucketLabel": "",
    "ignoreInf": false,
    "filter": "NONE",
    "filterBy": "AVG",
    "filterLimit": "",
    "transform": "NONE",
    "movingWindow": "",
    "movingPercentile": "",
    "downsampling": "BY_INTERVAL",
    "downsamplingAggr": "SUM",
    "downsamplingFill": "NULL",
    "ignoreMinStepMillis": false,
    "grid": "1h",
    "maxPoints": 0,
    "hideNoData": false
}
