{% import "vars.yaml" as vars with context %}
api_path: /shards/
entities:
  # Формат имени: <сервис>@<кластер>
  metrics@mr_prober_clusters:
    template: ../../base/shard.j2
    project_id: {{ vars.project_id }}
    context:
      id_override: {{ vars.project_id }}_{{ env }}_metrics
      cluster_id: {{ vars.project_id }}_{{ env }}
      cluster_name: {{ env }}
      override_short_ttl: 10
  api@mr_prober_clusters:
    template: ../../base/shard.j2
    project_id: {{ vars.project_id }}
    context:
      id_override: {{ vars.project_id }}_{{ env }}_api
      cluster_id: {{ vars.project_id }}_{{ env }}
      cluster_name: {{ env }}
  creator@mr_prober_clusters:
    template: ../../base/shard.j2
    project_id: {{ vars.project_id }}
    context:
      id_override: {{ vars.project_id }}_{{ env }}_creator
      cluster_id: {{ vars.project_id }}_{{ env }}
      cluster_name: {{ env }}
  linux-metrics@mr_prober_clusters:
    template: ../../base/shard.j2
    project_id: {{ vars.project_id }}
    context:
      id_override: {{ vars.project_id }}_{{ env }}_linux-metrics
      cluster_id: {{ vars.project_id }}_{{ env }}
      cluster_name: {{ env }}
  unified-agent@mr_prober_clusters:
    template: ../../base/shard.j2
    project_id: {{ vars.project_id }}
    context:
      id_override: {{ vars.project_id }}_{{ env }}_unified-agent
      cluster_id: {{ vars.project_id }}_{{ env }}
      cluster_name: {{ env }}
