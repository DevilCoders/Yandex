{% import "vars.yaml" as vars with context %}
api_path: /services/
entities:
  metrics:
    project_id: {{ vars.project_id }}
    template: ../../base/service.j2
    context:
      solomon_agent_project_id: cloud_mr_prober
      interval: 10
      grid_sec: 1
      ttl_days: 30
      aggrRules:
        - cond: "host=vla*"
          target: "host=Vla"
          function: "SUM"
        - cond: "host=sas*"
          target: "host=Sas"
          function: "SUM"
        - cond: "host=myt*"
          target: "host=Myt"
          function: "SUM"
        - cond: "host=il1-a*"
          target: "host=Il1a"
          function: "SUM"
  api:
    project_id: {{ vars.project_id }}
    template: ../../base/service.j2
    context:
      solomon_agent_project_id: cloud_mr_prober
      interval: 30
      grid_sec: 10
      ttl_days: 30
      aggrRules:
        - cond: "handler=*,method=*"
          target: "handler=SUMMARY,method=ALL"
          function: "SUM"
  creator:
    project_id: {{ vars.project_id }}
    template: ../../base/service.j2
    context:
      solomon_agent_project_id: cloud_mr_prober
      interval: 30
      ttl_days: 30
  linux-metrics:
    project_id: {{ vars.project_id }}
    template: ../../base/service.j2
    context:
      solomon_agent_project_id: cloud_mr_prober
      interval: 15
      ttl_days: 30
  unified-agent:
    project_id: {{ vars.project_id }}
    template: ../../base/service.j2
    context:
      solomon_agent_project_id: cloud_mr_prober
      interval: 15
      ttl_days: 30
