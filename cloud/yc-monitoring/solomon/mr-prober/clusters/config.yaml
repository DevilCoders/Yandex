{% import "vars.yaml" as vars with context %}
api_path: /clusters/
entities:
  mr_prober_clusters:
    project_id: {{ vars.project_id }}
    template: ../../base/cluster.j2
    context:
      id_override: "{{ vars.project_id }}_{{ env }}"
      name_override: "{{ env }}"
      use_fqdn: true
      add_conductor_group: false
      cloud_dns:
        prod:
        - "*.prober.cloud.yandex.net?remove-dot=true&type=AAAA"
        preprod:
        - "*.prober.cloud-preprod.yandex.net?remove-dot=true&type=AAAA"
        testing:
        - "*.prober.cloud-testing.yandex.net?remove-dot=true&type=AAAA"
        # Control Plane for Mr. Prober in TESTING is located in PROD:
        # see https://wiki.yandex-team.ru/cloud/devel/sdn/mrprober/for/devops/#1.kontrol-plejjn
        - env: "PROD"
          pattern: "*.testing.prober.cloud.yandex.net?remove-dot=true&type=AAAA"
        israel:
        - "*.prober.yandexcloud.co.il?remove-dot=true&type=AAAA"
        hw7-lab:
        - "*.prober.hw7.cloud-lab.yandex.net?remove-dot=true&type=AAAA"
