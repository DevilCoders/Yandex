## Описание

Тут лежит описание для duty бота. Можно как описать основные моменты сервиса (расписание дежурства, лид команды, генерация тикетов, алертинг). Подробнее про GORE читать в [https://wiki.yandex-team.ru/cloud/devel/gore/](документации).

В файлах вида `service-{SERVICE}.json` лежит описание сервиса в терминах gore.

В файлах вида `st-template-{SERVICE}.json` лежит шаблон тикета в стартреке.

## Использование

При запуске скриптов положите в env-переменные GORE_OAUTH ([получить токен можно тут](https://oauth.yandex-team.ru/authorize?response_type=token&client_id=5cd23e6f68bc4d3989e356a6583ab00a)).

Для изменения описания сервиса надо выполнить `./update-service.sh {SERVICE}`

Посмотреть применяемый diff можно через`./diff-service.sh {SERVICE}`

Обновление шаблона в стартреке делать так `./update-template.sh {SERVICE}`

## Особенности

* Расписание из ABC забираются раз в полчаса.
* Автоматика перевешивания тикетов тоже работает с задержкой.
* Если в update не присылать какие-то поля, то они останутся такими, какими были.
* Если в update прислать поля со значениями, которые равны `null` или `false` или `0`, то они останутся такими, какими были. Если надо обнулить поле, то нужно идти в поддержку.
* В create-запрос нужно добавить поле `service` с именем вашего сервиса. При этом, если добавляете настройки создания тикетов, IDM-правил и джаглер-нотификаций, то нужно дополнительно попросить в чате поддержки GORE добавить вас в whitelist
* Алиасы по сервису заказывать через поддержку
* [Важно](https://wiki.yandex-team.ru/cloud/devel/gore/#rabotasservisami), что правила на idm, st, juggler добавляются только сервисами из белого списка.
