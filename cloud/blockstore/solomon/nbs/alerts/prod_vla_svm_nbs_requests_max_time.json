{
    "annotations": {
        "host": "{{labels.host}}.svc.cloud.yandex.net", 
        "service": "solomon_alert_nbs_requests_max_time", 
        "tags": "yc-prod-nbs-solomon"
    }, 
    "channels": [
        {
            "config": {}, 
            "id": "juggler"
        }
    ], 
    "createdAt": "2020-12-30T12:42:19Z", 
    "createdBy": "yegorskii", 
    "delaySeconds": 30, 
    "delaySecs": 30, 
    "description": "", 
    "groupByLabels": [
        "host"
    ], 
    "id": "prod_vla_svm_nbs_requests_max_time", 
    "name": "[PROD][VLA][SVM] NBS Requests Max Time", 
    "noPointsPolicy": "NO_POINTS_DEFAULT", 
    "notificationChannels": [
        "juggler"
    ], 
    "periodMillis": 300000, 
    "projectId": "nbs", 
    "resolvedEmptyPolicy": "RESOLVED_EMPTY_DEFAULT", 
    "state": "ACTIVE", 
    "type": {
        "expression": {
            "checkExpression": "", 
            "program": "let ssd_r = {\nproject='nbs',\ncluster='yandexcloud_prod_vla',\nservice='server',\nrequest='ReadBlocks',\ntype='ssd', sensor='MaxTime',\nhost='nbs-control-*'\n};\nlet ssd_w = {\nproject='nbs',\ncluster='yandexcloud_prod_vla',\nservice='server',\nrequest='WriteBlocks',\ntype='ssd',\nsensor='MaxTime',\nhost='nbs-control-*'\n};\nlet ssd_z = {\nproject='nbs',\ncluster='yandexcloud_prod_vla',\nservice='server',\nrequest='ZeroBlocks',\ntype='ssd',\nsensor='MaxTime',\nhost='nbs-control-*'\n};\n\nlet m = {\nproject='nbs',\ncluster='yandexcloud_prod_vla',\nservice='server',\nrequest='MountVolume',\ntype='-',\nsensor='MaxTime',\nhost='nbs-control-*'\n};\n\nlet hdd_r = {\nproject='nbs',\ncluster='yandexcloud_prod_vla',\nservice='server',\nrequest='ReadBlocks',\ntype='hdd',\nsensor='MaxTime',\nhost='nbs-control-*'\n};\nlet hdd_w = {\nproject='nbs',\ncluster='yandexcloud_prod_vla',\nservice='server',\nrequest='WriteBlocks',\ntype='hdd',\nsensor='MaxTime',\nhost='nbs-control-*'\n};\nlet hdd_z = {\nproject='nbs',\ncluster='yandexcloud_prod_vla',\nservice='server',\nrequest='ZeroBlocks',\ntype='hdd',\nsensor='MaxTime',\nhost='nbs-control-*'\n};\n\nno_data_if(\ncount(ssd_r) == 0 ||\ncount(ssd_w) == 0 ||\ncount(ssd_z) == 0 ||\n\ncount(m) == 0 ||\n\ncount(hdd_r) == 0 ||\ncount(hdd_w) == 0 ||\ncount(hdd_z) == 0\n);\n\nalarm_if(\navg(ssd_r) >= 5000000 ||\navg(ssd_w) >= 5000000 ||\navg(ssd_z) >= 5000000 ||\n\navg(m) >= 15000000 ||\n\navg(hdd_r) >= 15000000 ||\navg(hdd_w) >= 15000000 ||\navg(hdd_z) >= 15000000);"
        }
    }, 
    "updatedAt": "2021-03-10T07:27:11Z", 
    "updatedBy": "haposik", 
    "version": 4, 
    "windowSecs": 300
}