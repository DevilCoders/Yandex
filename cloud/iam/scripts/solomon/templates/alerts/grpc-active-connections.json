{
  "id": "${CLUSTER_NAME}-active-conn",
  "projectId": "${PROJECT_ID}",
  "name": "${CLUSTER_NAME} GRPC Active Connections",
  "groupByLabels": [
    "host"
  ],
  "type": {
    "threshold": {
      "selectors": "{cluster='${CLUSTER_NAME}', host='iam*', project='${PROJECT_ID}', sensor='grpc_connections_active', service='${SERVICE_NAME}'}",
      "timeAggregation": "LAST_NON_NAN",
      "predicate": "LT",
      "threshold": 1,
      "predicateRules": [
        {
          "thresholdType": "LAST_NON_NAN",
          "comparison": "LT",
          "threshold": 1,
          "targetStatus": "ALARM"
        }
      ]
    }
  },
  "annotations": {
    "active_connections": "{{pointValue}}\n"
  },
  "windowSecs": 300,
  "delaySecs": 0,
  "channels": ${CHANNELS}
}
