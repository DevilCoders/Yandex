{
  "id": "${CLUSTER_NAME}-cache-age",
  "projectId": "${PROJECT_ID}",
  "name": "${CLUSTER_NAME} cache age",
  "type": {
    "expression": {
      "program": "let maxAge = series_max({project='${PROJECT_ID}', cluster='${CLUSTER_NAME}', service='${SERVICE_NAME}', host='iam-*', sensor='guava_cache_age_seconds', cache='AccessKeyCache|ApiKeyCache|CloudEntityCache|FolderEntityCache|KeyCache|ResourcePermissionsCache|ServiceAccountEntityCache'});",
      "checkExpression": "max(maxAge) > 60"
    }
  },
  "annotations": {
    "description": "Status not equal to OK means some failures during cache update.",
    "url": "https://${SOLOMON_ENDPOINT}/admin/projects/${PROJECT_ID}/alerts/${CLUSTER_NAME}-cache-age"
  },
  "windowSecs": 300,
  "delaySecs": 0,
  "channels": ${CHANNELS}
}
