api_blacklist = [
"/$",
"GET /private/v1alpha1/health$",
"GET /private/v1alpha1/ping$",
"GET /private/v1alpha1/telemetry$",
".* /public-doc/$",
".* /public/$",
"GET /static/$",
"POST /v1/acceptAgreements$",
".* /v1/accessKeys$",
"GET /v1/allClouds$",
"GET /v1/allFolders$",
".* /v1/apiKeys$",
"POST /v1/auth/session_id$",
"GET /v1/billingAccounts$",
"POST /v1/billingAccounts/.*:addMember$",
"POST /v1/cloud$",
"GET /v1/cloud/.*/users$",
"GET /v1/clouds$",
"POST /v1/clouds:byCreatorSubjectId$",
"POST /v1/clouds:byCreatorUid$",
"GET /v1/clouds:byLogin$",
"GET /v1/clouds:checkMembership$",
"GET /v1/clouds:creators$",
"POST /v1/clouds:managed$",
"GET /v1/clouds/.*$",
"PATCH /v1/clouds/$",
"DELETE /v1/clouds/$",
"POST /v1/clouds/.*:addPermissionStages$",
"GET /v1/clouds/.*:bindingsHistory$",
"GET /v1/clouds/.*:defaultZone$",
"POST /v1/clouds/.*:enableAlphaPermissions$",
"DELETE /v1/clouds/.*:forceDelete$",
"GET /v1/clouds/.*:getCreator$",
"GET /v1/clouds/.*:getPermissionStages$",
"GET /v1/clouds/.*:getUserListingSetting$",
"GET /v1/clouds/.*:listAccessBindings$",
"POST /v1/clouds/.*:removePermissionStages$",
"POST /v1/clouds/.*:restoreFromDeleting$",
"POST /v1/clouds/.*:setAccessBindings$",
"POST /v1/clouds/.*:setDefaultZone$",
"POST /v1/clouds/.*:setUserListingSetting$",
"POST /v1/clouds/.*:updateAccessBindings$",
"GET /v1/clouds/.*/operations$",
".* /v1/clouds/.*/status$",
"GET /v1/clouds/.*/users$",
"GET /v1/cloudTree$",
"GET /v1/console/checkUserProperties$",
"POST /v1/console/clouds$",
"POST /v1/console/clouds/.*:addMember$",
"GET /v1/console/clouds/.*:getQuotas$",
"GET /v1/console/clouds/.*:listAllAccessBindings$",
"POST /v1/console/clouds/.*:removeMember$",
".* /v1/console/clouds/.*/settings$",
"GET /v1/console/clouds/.*/users$",
"GET /v1/console/currentOsLogin$",
".* /v1/console/folders$",
"GET /v1/console/roles$",
"POST /v1/console/serviceAccounts$",
"GET /v1/console/serviceAccounts$",
"PATCH /v1/console/serviceAccounts/$",
"GET /v1/console/userAccounts$",
"GET /v1/console/userSettings$",
"PATCH /v1/console/userSettings$",
"DELETE /v1/console/userSettings$",
"GET /v1/federations/saml$",
"POST /v1/federations/saml$",
"GET /v1/federations/saml/$",
"PATCH /v1/federations/saml/$",
"DELETE /v1/federations/saml/$",
"POST /v1/federations/saml/.*:addCertificate$",
"POST /v1/federations/saml/.*:addUsers$",
"GET /v1/federations/saml/.*:listCertificates$",
"POST /v1/federations/saml/.*:removeCertificate$",
"GET /v1/federations/saml/.*/sp_certificate$",
"GET /v1/folders$",
"POST /v1/folders$",
"GET /v1/folders/$",
"PATCH /v1/folders/$",
"DELETE /v1/folders/$",
".* /v1/folders/.*:$",
"GET /v1/folders/.*/operations$",
".* /v1/folders/.*/status$",
".* /v1/keys$",
"GET /v1/listAccessBindings$",
"GET /v1/operations/$",
"GET /v1/osLoginInfo$",
"GET /v1/passportUid$",
"GET /v1/permissionStages$",
"POST /v1/presignURL$",
"GET /v1/presignURL:getCurrentKey$",
"POST /v1/presignURLs$",
"GET /v1/resolveSubject$",
".* /v1/role$",
".* /v1/rootBindings$",
"GET /v1/saml/certificates$",
"POST /v1/saml/certificates$",
"GET /v1/saml/certificates/$",
"PATCH /v1/saml/certificates/$",
"DELETE /v1/saml/certificates/$",
"GET /v1/saml/certificates/.*/operations$",
"GET /v1/saml/federations$",
"POST /v1/saml/federations$",
"GET /v1/saml/federations/$",
"PATCH /v1/saml/federations/$",
"DELETE /v1/saml/federations/$",
"POST /v1/saml/federations/.*:addUserAccounts$",
"GET /v1/saml/federations/.*/operations$",
"POST /v1/serviceAccounts$",
"GET /v1/serviceAccounts$",
"POST /v1/serviceAccounts:withId$",
"PATCH /v1/serviceAccounts/$",
"GET /v1/serviceAccounts/$",
"DELETE /v1/serviceAccounts/$",
".* /v1/serviceAccounts/.*:$",
".* /v1/serviceAccounts/.*/accessKeys$",
"GET /v1/serviceAccounts/.*/operations$",
"POST /v1/serviceAccounts/host$",
"POST /v1/setAccessBindings$",
"GET /v1/telemetry$",
"POST /v1/tokens$",
"POST /v1/updateAccessBindings$",
"GET /v1/userAccounts:byEmail$",
"GET /v1/userAccounts:passportInfo$",
"GET /v1/userAccounts/$",
"DELETE /v1/userAccounts/$",
"GET /v1/userAccounts/.*:userSettings$",
"GET /v1/whoami$",
"GET /v1/yandexPassportUserAccounts:byLogin$",
"GET /v1/yandexPassportUserAccounts:byPassportUid$",
".* /v1alpha1/$",
]

[endpoint.identity_public]
port = 4336

[endpoint.identity_private]
port = 2637

[welcome_email]
enabled = false

[compute]
enabled = false
zones_enabled = false





[gauthling]
storage_path = "/var/lib/yc/identity/gauthling-storage"

[endpoints.access_service]
enabled = true
url = "as.private-api.yandex.datacloud.net:4286"

[endpoints.token_service]
url = "ts.private-api.yandex.datacloud.net:4282"
tokens_proxy_enabled = true
service_account_proxy_enabled = true
passport_cookies_proxy_enabled = true
oauth_proxy_enabled = false
console_login_cookies_proxy_enabled = true
console_login_tokens_proxy_enabled = true
console_login_passport_cookies_proxy_enabled = true
passport_cookies_host = "yandex.ru"

[endpoints.iam_control_plane]
url = "iam.private-api.yandex.datacloud.net:4283"
joined_operations.enabled = true
token_keys_proxy.enabled = true
api_keys_proxy.enabled = true
access_keys_proxy.enabled = true
service_accounts_proxy.enabled = true
user_accounts_proxy.enabled = false
federations_proxy.enabled = true
federations_list_proxy.enabled = false
certificates_proxy.enabled = true
roles_proxy.enabled = true
console_roles_proxy.enabled = true

[endpoints.rm_control_plane]
url = "rm.private-api.yandex.datacloud.net:4284"
timeout = 15
retries = 5
joined_operations.enabled = true

[endpoints.rm_control_plane.clouds]
get.proxy.enabled = true
list.proxy.enabled = true
create.proxy.enabled = true
update.proxy.enabled = true
delete.proxy.enabled = true
list_access_bindings.proxy.enabled = true
set_access_bindings.proxy.enabled = true
update_access_bindings.proxy.enabled = true
block.proxy.enabled = true
unblock.proxy.enabled = true

[endpoints.rm_control_plane.folders]
get.proxy.enabled = true
list.proxy.enabled = true
create.proxy.enabled = true
update.proxy.enabled = true
delete.proxy.enabled = true
list_access_bindings.proxy.enabled = true
set_access_bindings.proxy.enabled = true
update_access_bindings.proxy.enabled = true

[endpoints.billing]
enable_referral_codes_activation = true
private_url = "https://localhost:443"

[endpoints.gauthling_daemon]
url = "gauthling.is.not.here.anymore:1234"

[endpoints.compute_private]
url = "http://None:None/private"

[endpoints.compute]
url = "http://None:None/external"

[endpoints.kikimr.identity]
host = "grpcs://lb.etn033klt4t6rh5m9cbn.ydb.mdb.yandexcloud.net:2135"
root_ssl_cert_file = "/etc/ssl/certs/ca-certificates.crt"
root = "/ru-central1/b1gnp66fsfvnvthvfovt/etn033klt4t6rh5m9cbn/hardware/default/identity"
database = "/ru-central1/b1gnp66fsfvnvthvfovt/etn033klt4t6rh5m9cbn"
ydb_auth_jwt_key_id = "ajedqof8r1smn1bvu0n7"
ydb_auth_jwt_sa_id = "ajedjer51tra9fbro4gt"
ydb_auth_jwt_private_key_file = "/etc/yc/identity/secrets/ydb-sa-private.key"
ydb_client_version = 2

[endpoints.kikimr.scms]
host = "grpcs://lb.etn033klt4t6rh5m9cbn.ydb.mdb.yandexcloud.net:2135"
root_ssl_cert_file = "/etc/ssl/certs/ca-certificates.crt"
root = "/ru-central1/b1gnp66fsfvnvthvfovt/etn033klt4t6rh5m9cbn/hardware/default/scms"
database = "/ru-central1/b1gnp66fsfvnvthvfovt/etn033klt4t6rh5m9cbn"
ydb_auth_jwt_key_id = "ajedqof8r1smn1bvu0n7"
ydb_auth_jwt_sa_id = "ajedjer51tra9fbro4gt"
ydb_auth_jwt_private_key_file = "/etc/yc/identity/secrets/ydb-sa-private.key"
ydb_client_version = 2

[endpoints.kikimr.root]
host = "grpcs://lb.etn033klt4t6rh5m9cbn.ydb.mdb.yandexcloud.net:2135"
root_ssl_cert_file = "/etc/ssl/certs/ca-certificates.crt"
root = "/ru-central1/b1gnp66fsfvnvthvfovt/etn033klt4t6rh5m9cbn/"
database = "/ru-central1/b1gnp66fsfvnvthvfovt/etn033klt4t6rh5m9cbn"
ydb_auth_jwt_key_id = "ajedqof8r1smn1bvu0n7"
ydb_auth_jwt_sa_id = "ajedjer51tra9fbro4gt"
ydb_auth_jwt_private_key_file = "/etc/yc/identity/secrets/ydb-sa-private.key"
ydb_client_version = 2

[endpoints.scms]
url = "localhost:666"

[endpoints.resource_manager]
enabled = false
url = "reaper.private-api.yandex.datacloud.net:7376"

[limits]

user = "10/second"
org = "100/second"






[cookie_key]
encrypt = "/etc/yc/identity/secrets/cookie-encrypt.key"
sign = "/etc/yc/identity/secrets/cookie-sign.key"

[service_provider]
use_source = true
issuer = "https://auth.yandex.datacloud.net/federations/{}"
acs_url = "https://auth.yandex.datacloud.net/federations/{}"
acs_pattern = "https:\\/\\/auth\\.yandex\\.datacloud\\.net\\/federations\\/(?P<federation_id>\\S+)"
acs_binding = "POST"
x509_cert = "/etc/yc/identity/secrets/x509-saml-certificate.pem"
private_key = "/etc/yc/identity/secrets/x509-saml-certificate.key"



[audit]
file_name = "identity_audit.log"
file_path = "/var/lib/yc/identity/audit"
max_bytes = 31457280
max_backups = 3

[deleted_cloud_owner]
login = "yc.resource-manager.kharon"

[secrets]
service_account_path = "/etc/yc/identity/secrets/system_account.json"



[fixtures]
environment = "datacloud-yc-preprod"

roles_whitelist = ['viewer', 'editor', 'admin',
  'ai.speechkit-stt.user', 'ai.speechkit-tts.user', 'ai.translate.user', 'ai.vision.user',
  'alb.admin', 'alb.editor', 'alb.viewer',
  'audit-trails.configViewer', 'audit-trails.viewer', 'audit-trails.editor', 'audit-trails.admin',
  'cdn.viewer', 'cdn.editor', 'cdn.admin',
  'certificate-manager.admin', 'certificate-manager.certificates.downloader',
  'compute.viewer', 'compute.operator',
  #'compute.editor', # Temporary hidden because of https://st.yandex-team.ru/CLOUD-82435
  'compute.admin',
  'compute.disks.user', 'compute.images.user', 'compute.osAdminLogin', 'compute.osLogin',
  'container-registry.admin', 'container-registry.images.puller', 'container-registry.images.pusher',
  'datalens.instances.admin', 'datalens.instances.user',
  'data-transfer.admin', 'data-transfer.publicAdmin', 'data-transfer.privateAdmin', 'data-transfer.viewer',
  'datasphere.admin', 'datasphere.user',
  'dataproc.viewer', 'dataproc.user', 'dataproc.editor', 'dataproc.admin', 'dataproc.agent',
  'dns.viewer', 'dns.editor', 'dns.admin',
  'gitlab.viewer', 'gitlab.admin',
  'iam.serviceAccounts.admin', 'iam.serviceAccounts.tokenCreator', 'iam.serviceAccounts.user',
  'iam.serviceAccounts.accessKeyAdmin', 'iam.serviceAccounts.apiKeyAdmin', 'iam.serviceAccounts.authorizedKeyAdmin', 'iam.serviceAccounts.keyAdmin',
  'iot.devices.writer', 'iot.registries.writer',
  'k8s.admin', 'k8s.editor', 'k8s.viewer', 'k8s.clusters.agent', 'k8s.tunnelClusters.agent',
  'k8s.cluster-api.cluster-admin', 'k8s.cluster-api.editor', 'k8s.cluster-api.viewer',
  'kms.admin', 'kms.editor', 'kms.viewer', 'kms.keys.encrypterDecrypter',
  'loadtesting.viewer', 'loadtesting.editor', 'loadtesting.admin', 'loadtesting.loadTester', 'loadtesting.generatorClient',
  'lockbox.admin', 'lockbox.editor', 'lockbox.viewer', 'lockbox.payloadViewer',
  'logging.viewer', 'logging.editor', 'logging.reader', 'logging.writer', 'logging.admin',
  'marketplace.editor', 'marketplace.viewer', 'marketplace.meteringAgent',
  'mdb.admin', 'mdb.dataproc.agent', 'mdb.viewer',
  'monitoring.admin', 'monitoring.editor', 'monitoring.viewer',
  'organization-manager.organizations.owner', 'organization-manager.admin', 'organization-manager.viewer',
  'quota-manager.requestOperator',
  'resource-manager.admin', 'resource-manager.editor', 'resource-manager.viewer',
  'resource-manager.clouds.owner', 'resource-manager.clouds.member',
  'serverless.containers.admin', 'serverless.containers.editor', 'serverless.containers.invoker', 'serverless.containers.viewer',
  'serverless.functions.admin', 'serverless.functions.invoker', 'serverless.mdbProxies.user',
  'smart-captcha.viewer', 'smart-captcha.editor', 'smart-captcha.admin',
  'storage.admin', 'storage.configurer', 'storage.editor', 'storage.uploader', 'storage.viewer', 'storage.configViewer',
  'vpc.admin', 'vpc.privateAdmin', 'vpc.publicAdmin', 'vpc.securityGroups.admin', 'vpc.securityGroups.user', 'vpc.user', 'vpc.viewer',
  'ydb.admin', 'ydb.editor', 'ydb.viewer',
  'yds.admin', 'yds.editor', 'yds.viewer', 'yds.writer',
  'yq.editor', 'yq.viewer', 'yq.invoker', 'yq.admin',
  'load-balancer.admin', 'load-balancer.privateAdmin', 'load-balancer.viewer',
  'ymq.admin', 'ymq.reader', 'ymq.writer']


[experimental]
alternative_console_users.enabled = true

[health_check]
shutdown_delay = 15

[logging]
devel_mode = true
