grpcServer:
  certificatePemFile: '/etc/yc/org-service/certs/server.pem'
  maxConcurrentRequests: 128
  reflectionEnabled: true
  port: 4290
  permitKeepAliveWithoutCalls: true
  permitKeepAliveTime: PT10S
  maxConnectionAge: PT3H

authClient:
  host: as.private-api.eu-central-1.aws.prod.iam.internal.double.tech
  port: 4286
  tls: True
  maxRetries: 7
  timeout: PT2S

cluster:
  clusterId: com

iamCluster:
  clusterId: acc
healthCheck:
  port: 9984
  path: /ping
  shutdownDelay: 20

metrics:
  pullPort: 6060

kikimr:
  database: /prod_aws-frankfurt/iam
  tablespace: /prod_aws-frankfurt/iam/
  discoveryEndpoint: iam.aws-frankfurt.ydb.double.tech:2135
  useSSL: true
  useTrustStore: true
  auth:
    type: JWT
    jwt:
      endpoint: https://iam.api.cloud.yandex.net/iam/v1/tokens
      keyId: yc.iam.orgService
      serviceAccountId: yc.iam.orgService
      privateKeyPath: '/etc/yc/org-service/secrets/ydb-sa-private.key'
      ttl: PT5M

repository:
  bootstrapMode: DO_NOTHING
  retryCount: 33 # XXX: Return an adequate value after https://st.yandex-team.ru/CLOUD-46108
  isolationLevel: SERIALIZABLE_READ_WRITE

taskProcessor:
  dispatcher:
    taskPollInterval: PT5s
    dispatchingDelay: PT3s
  shutdown:
    waitDuration: PT10s
    interruptDuration: PT10s
  keepAliveInterval: PT60s
  pools:
    - name: default
      nThreads: 4

batchProcessing:
  entitiesPerTransaction: 999

systemAccountService:
  jwt:
    serviceAccountId: yc.iam.orgService
    keyId: yc.iam.orgService
    privateKeyPath: '/etc/yc/org-service/secrets/yc.iam.orgService.key'
    endpoint: https://iam.api.cloud.yandex.net/iam/v1/tokens
    ttl: PT10M

tokenServiceClient:
  host: ts.private-api.eu-central-1.aws.prod.iam.internal.double.tech
  port: 4282
  tls: True
  maxRetries: 7
  timeout: PT2S

iamClient:
  host: iam.private-api.eu-central-1.aws.prod.iam.internal.double.tech
  port: 4283
  tls: True
  timeout: PT5S
  maxRetries: 5
claimServiceClient:
  host: ss.private-api.eu-central-1.aws.prod.iam.internal.double.tech
  port: 8655
  tls: True
  maxRetries: 7
  timeout: PT2S
notifyClient:
  host: notify.ui.internal.double.tech
  port: 443
  tls: true
  timeout: PT15S
  maxRetries: 5
notifyTemplates:
  inviteLinkTemplateName: dc.iam.new-user.invite-link
  inviteLinkEndpoint: https://auth.double.cloud/invitation
serviceProvider:
  x509Certificate: /etc/yc/org-service/secrets/x509-saml-certificate.pem

invitations:
  codeBytesLength: 16
  defaultLifetime: P14D
  defaultRoles:
    - viewer

quotaLimits:
  organizationsCountLimit: 10
  federationsCountLimit: 10
  invitesCountLimit: 1000
  organizationMembershipsCountLimit: 10000
  userMembershipsCountLimit: 100

organizationManager:
  createDirectoryOrganizationByDefault: False
