uid: ycp-jaeger-ydb-plugin
title: Jaeger YDB Plugin
variables:
  ui:
    cluster:
      values:
        - preprod
        - prod
queryDefaults:
  labels: project=jaeger, service=jaeger_service, host=*
links:
  - title: "Main"
    url: https://grafana.yandex-team.ru/d/ycp-jaeger-ydb
  - title: "LB Plugin"
    url: https://grafana.yandex-team.ru/d/ycp-jaeger-lb-plugin
  - title: "LB Reader"
    url: https://grafana.yandex-team.ru/d/ycp-jaeger-lb-reader
  - title: "Errors"
    url: https://grafana.yandex-team.ru/d/ycp-jaeger-errors
  - title: "Drops"
    url: https://grafana.yandex-team.ru/d/ycp-jaeger-drops
rows:
  - title: Traces
    graphDefaults:
      datasource: Solomon Cloud
      width: 12
      height: 6
    queryDefaults:
      labels: cluster=jaeger_collector_${cluster}
    panels:
      - type: graph
        templates:
          name: rps
          sumLines:
            - host
        display:
          sort: decreasing
          stack: true
          empty: false
          fill: 0
          nulls: zero
        title: Dropped span/s ($cluster)
        queries:
          - params:
              labels: name=jaeger_ydb_writer_spans_dropped_total
        yAxes:
          - label: span/s
      - type: graph
        templates:
          name: rps
          sumLines:
            - host
        display:
          sort: decreasing
          stack: true
          empty: false
          fill: 0
          nulls: zero
        title: Dropped indexer span/s ($cluster)
        queries:
          - params:
              labels: name=jaeger_ydb_writer_indexer_dropped_total
        yAxes:
          - label: span/s
      - type: graph
        templates:
          name: rps
          sumLines:
            - host
        display:
          sort: decreasing
          stack: true
          empty: false
          fill: 0
          nulls: zero
        title: Attempts span/s ($cluster)
        queries:
          - params:
              labels: name=jaeger_ydb_writer_traces_attempts_total
        yAxes:
          - label: span/s
      - type: graph
        templates:
          name: rps
          sumLines:
            - host
        display:
          sort: decreasing
          stack: true
          empty: false
          fill: 0
          nulls: zero
        title: Inserts span/s ($cluster)
        queries:
          - params:
              labels: name=jaeger_ydb_writer_traces_inserts_total
        yAxes:
          - label: span/s
      - type: graph
        templates:
          name: rps
          sumLines:
            - host
        display:
          sort: decreasing
          stack: true
          empty: false
          fill: 0
          nulls: zero
        title: Errors span/s ($cluster)
        queries:
          - params:
              labels: name=jaeger_ydb_writer_traces_errors_total
        yAxes:
          - label: span/s
      - type: graph
        templates:
          name: rps
          sumLines:
            - host
        display:
          sort: decreasing
          stack: true
          empty: false
          fill: 0
          nulls: zero
        title: Records span/s ($cluster)
        queries:
          - params:
              labels: name=jaeger_ydb_writer_traces_records_ok_total
        yAxes:
          - label: span/s
  - title: tag_index
    graphDefaults:
      datasource: Solomon Cloud
      width: 12
      height: 6
    queryDefaults:
      labels: cluster=jaeger_collector_${cluster}
    panels:
      - type: graph
        templates:
          name: rps
          sumLines:
            - host
        display:
          sort: decreasing
          stack: true
          empty: false
          fill: 0
          nulls: zero
        title: Dropped span/s ($cluster)
        queries:
          - params:
              labels: name=jaeger_ydb_writer_tag_index_dropped_total
        yAxes:
          - label: span/s
      - type: graph
        templates:
          name: rps
          sumLines:
            - host
        display:
          sort: decreasing
          stack: true
          empty: false
          fill: 0
          nulls: zero
        title: Attempts span/s ($cluster)
        queries:
          - params:
              labels: name=jaeger_ydb_writer_tag_index_attempts_total
        yAxes:
          - label: span/s
      - type: graph
        templates:
          name: rps
          sumLines:
            - host
        display:
          sort: decreasing
          stack: true
          empty: false
          fill: 0
          nulls: zero
        title: Inserts span/s ($cluster)
        queries:
          - params:
              labels: name=jaeger_ydb_writer_tag_index_inserts_total
        yAxes:
          - label: span/s
      - type: graph
        templates:
          name: rps
          sumLines:
            - host
        display:
          sort: decreasing
          stack: true
          empty: false
          fill: 0
          nulls: zero
        title: Errors span/s ($cluster)
        queries:
          - params:
              labels: name=jaeger_ydb_writer_tag_index_errors_total
        yAxes:
          - label: span/s
      - type: graph
        templates:
          name: rps
          sumLines:
            - host
        display:
          sort: decreasing
          stack: true
          empty: false
          fill: 0
          nulls: zero
        title: Records span/s ($cluster)
        queries:
          - params:
              labels: name=jaeger_ydb_writer_tag_index_records_ok_total
        yAxes:
          - label: span/s
  - title: service_name_index
    graphDefaults:
      datasource: Solomon Cloud
      width: 12
      height: 6
    queryDefaults:
      labels: cluster=jaeger_collector_${cluster}
    panels:
      - type: graph
        templates:
          name: rps
          sumLines:
            - host
        display:
          sort: decreasing
          stack: true
          empty: false
          fill: 0
          nulls: zero
        title: Dropped span/s ($cluster)
        queries:
          - params:
              labels: name=jaeger_ydb_writer_service_name_index_dropped_total
        yAxes:
          - label: span/s
      - type: graph
        templates:
          name: rps
          sumLines:
            - host
        display:
          sort: decreasing
          stack: true
          empty: false
          fill: 0
          nulls: zero
        title: Attempts span/s ($cluster)
        queries:
          - params:
              labels: name=jaeger_ydb_writer_service_name_index_attempts_total
        yAxes:
          - label: span/s
      - type: graph
        templates:
          name: rps
          sumLines:
            - host
        display:
          sort: decreasing
          stack: true
          empty: false
          fill: 0
          nulls: zero
        title: Inserts span/s ($cluster)
        queries:
          - params:
              labels: name=jaeger_ydb_writer_service_name_index_inserts_total
        yAxes:
          - label: span/s
      - type: graph
        templates:
          name: rps
          sumLines:
            - host
        display:
          sort: decreasing
          stack: true
          empty: false
          fill: 0
          nulls: zero
        title: Errors span/s ($cluster)
        queries:
          - params:
              labels: name=jaeger_ydb_writer_service_name_index_errors_total
        yAxes:
          - label: span/s
      - type: graph
        templates:
          name: rps
          sumLines:
            - host
        display:
          sort: decreasing
          stack: true
          empty: false
          fill: 0
          nulls: zero
        title: Records span/s ($cluster)
        queries:
          - params:
              labels: name=jaeger_ydb_writer_service_name_index_records_ok_total
  - title: service_operation_index
    graphDefaults:
      datasource: Solomon Cloud
      width: 12
      height: 6
    queryDefaults:
      labels: cluster=jaeger_collector_${cluster}
    panels:
      - type: graph
        templates:
          name: rps
          sumLines:
            - host
        display:
          sort: decreasing
          stack: true
          empty: false
          fill: 0
          nulls: zero
        title: Dropped span/s ($cluster)
        queries:
          - params:
              labels: name=jaeger_ydb_writer_service_operation_index_dropped_total
        yAxes:
          - label: span/s
      - type: graph
        templates:
          name: rps
          sumLines:
            - host
        display:
          sort: decreasing
          stack: true
          empty: false
          fill: 0
          nulls: zero
        title: Attempts span/s ($cluster)
        queries:
          - params:
              labels: name=jaeger_ydb_writer_service_operation_index_attempts_total
        yAxes:
          - label: span/s
      - type: graph
        templates:
          name: rps
          sumLines:
            - host
        display:
          sort: decreasing
          stack: true
          empty: false
          fill: 0
          nulls: zero
        title: Inserts span/s ($cluster)
        queries:
          - params:
              labels: name=jaeger_ydb_writer_service_operation_index_inserts_total
        yAxes:
          - label: span/s
      - type: graph
        templates:
          name: rps
          sumLines:
            - host
        display:
          sort: decreasing
          stack: true
          empty: false
          fill: 0
          nulls: zero
        title: Errors span/s ($cluster)
        queries:
          - params:
              labels: name=jaeger_ydb_writer_service_operation_index_errors_total
        yAxes:
          - label: span/s
      - type: graph
        templates:
          name: rps
          sumLines:
            - host
        display:
          sort: decreasing
          stack: true
          empty: false
          fill: 0
          nulls: zero
        title: Records span/s ($cluster)
        queries:
          - params:
              labels: name=jaeger_ydb_writer_service_operation_index_records_ok_total
  - title: duration_index
    graphDefaults:
      datasource: Solomon Cloud
      width: 12
      height: 6
    queryDefaults:
      labels: cluster=jaeger_collector_${cluster}
    panels:
      - type: graph
        templates:
          name: rps
          sumLines:
            - host
        display:
          sort: decreasing
          stack: true
          empty: false
          fill: 0
          nulls: zero
        title: Dropped span/s ($cluster)
        queries:
          - params:
              labels: name=jaeger_ydb_writer_duration_index_dropped_total
        yAxes:
          - label: span/s
      - type: graph
        templates:
          name: rps
          sumLines:
            - host
        display:
          sort: decreasing
          stack: true
          empty: false
          fill: 0
          nulls: zero
        title: Attempts span/s ($cluster)
        queries:
          - params:
              labels: name=jaeger_ydb_writer_duration_index_attempts_total
        yAxes:
          - label: span/s
      - type: graph
        templates:
          name: rps
          sumLines:
            - host
        display:
          sort: decreasing
          stack: true
          empty: false
          fill: 0
          nulls: zero
        title: Inserts span/s ($cluster)
        queries:
          - params:
              labels: name=jaeger_ydb_writer_duration_index_inserts_total
        yAxes:
          - label: span/s
      - type: graph
        templates:
          name: rps
          sumLines:
            - host
        display:
          sort: decreasing
          stack: true
          empty: false
          fill: 0
          nulls: zero
        title: Errors span/s ($cluster)
        queries:
          - params:
              labels: name=jaeger_ydb_writer_duration_index_errors_total
        yAxes:
          - label: span/s
      - type: graph
        templates:
          name: rps
          sumLines:
            - host
        display:
          sort: decreasing
          stack: true
          empty: false
          fill: 0
          nulls: zero
        title: Records span/s ($cluster)
        queries:
          - params:
              labels: name=jaeger_ydb_writer_duration_index_records_ok_total
