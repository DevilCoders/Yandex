go_max_procs: 1
log:
  level: WARN

healthcheck:
  enabled: true

balancer_healthcheck:
  server:
    listeners:
    - listener:
        tcp:
          port: 9895

tracing:
  adaptive:
    default_probability: 1.0
    per_second_guaranteed: 0.001
    operations:
      /grpc.health.v1.Health/Check: 0.001
      /yandex.cloud.endpoint.ApiEndpointService/List: 0.001
  remote_reporter:
    endpoint: localhost:5775

prometheus_http:
  server:
    listeners:
    - listener:
        tcp:
          port: 9998

config_dump:
  server:
    listener:
      tcp:
        port: 9896

pprof:
  enabled: true
  server:
    listeners:
    - listener:
        tcp:
          port: 9999

services:
  access_log:
    file:
      path: /dev/stdout
    fields:
      add_unixtime: true

      time_format: ISO8601_MILLIS
      duration_unit: MILLISECOND
      duration_format: UINT64

      log_request: true
      request_max_size_bytes: 65536
      log_response: true
      response_max_size_bytes: 65536

  server:
    max_recv_message_size: 268435456 # 256 Mb
    max_send_message_size: 268435456 # 256 Mb
    listeners:
    - listener:
        tcp:
          port: 9894
  config_server_endpoint: localhost:4435

  metadata_whitelist:
    request:
    - "x-data-logging-enabled"
    - "x-normalize-partials"
    - "x-sensitivity-reduction-flag"
