authClient:
  host: as.private-api.cloud.yandex.net
  port: 4286
  maxRetries: 5
  timeout: PT2S
  tls: true

metrics:
  pullPort: 4302

cluster:
  clusterId: cnp

resourceManager:
  host: rm.private-api.cloud.yandex.net
  port: 4284
  timeout: PT10S
  tls: true

kikimr:
  host: localhost
  discoveryEndpoint: lb.etn01t6c3eilhl31nl7j.ydb.mdb.yandexcloud.net
  port: 2135
  tablespace: /global/b1gm277magvimb2gv0ld/etn01t6c3eilhl31nl7j/
  database: /global/b1gm277magvimb2gv0ld/etn01t6c3eilhl31nl7j
  useSSL: true

healthCheck:
  port: 9982
  path: /ping

objectStorage:
  endpointPrivate: https://storage-idm.private-api.cloud.yandex.net:1443
  connectionTimeoutMs: 200
  socketTimeoutMs: 60000
  connectionTTL: PT30M
  maxConnectionsCount: 30
  errorRetryCount: 3
  retryIntervalMs: 1000

s3Client:
  endpoint: storage.yandexcloud.net:443
  region: us-east-1
  connectionTimeout: 200
  socketTimeout: 60000
  connectionIdleTimeout: 300000
  connectionTTL: 1800000
  maxConnectionsCount: 30
  errorRetryCount: 3
  retryInterval: 1000
  pathToSecretKey: /run/trail/sa-objectstorage/secret.key
  pathToAccessKey: /run/trail/sa-objectstorage/access.key

exporter:
  retryPeriod: PT5M
  skipLastSeconds: 60
  fetchLimit: 1000
  systemBucket: trail-exporter-system
  eventIdsFetchLimit: 10000
  duplicatesLookupDepth: PT1H

taskProcessorPools:
  pools:
    move-pool: 30
    remove-pool: 30
    exporter-pool: 10
    bufferizer-rows-cleaner-pool: 30

cleaner:
  retryPeriod: PT5M
  fetchLimit: 1000
  preventionDeletePeriod: P1D

yandexMonitoringMetrics:
  pullPort: 4303
  refreshPeriod: PT15S
  removeMetricsRefreshPeriod: PT1H

tokenService:
  host: ts.private-api.cloud.yandex.net
  port: 4282
  maxRetries: 3
  timeout: PT5S
  tls: true

systemAccount:
  common:
    type: INSTANCE_METADATA
  ydb:
    type: INSTANCE_METADATA

eventIdsTables:
  tablesCreatePeriod: P7D
  retryPeriod: PT1H
  tablesDeletePeriod: P30D
  tablesCoolDownPeriod: P7D
