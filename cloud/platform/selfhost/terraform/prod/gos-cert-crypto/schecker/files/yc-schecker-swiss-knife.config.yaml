logger:
  level: info
  file_pattern: /var/log/schecker/schecker-swiss-knife-{date}-{index}.log
  max_files: 5
  max_size: 1gi
schecker:
  tls:
    verify: true
  http_timeout: 5
  severities: # according https://wiki.yandex-team.ru/cloud/regulations/security-fixes/
    critical:
      days: 14
    high:
      days: 30
    medium:
      days: 90
    low:
      days: 180
    none:
      days: 180

db:
  host: ${db_host}
  port: ${db_port}
  name: ${db_name}
  user: ${db_user}
  password: file:///run/schecker/db-password
  ssl_mode: verify-full
  ca_file: /etc/ssl/certs/ca-certificates.crt
  conn_timeout: 10
  cache_ttl: 24h

clickhouse:
  hosts:
    - "rc1a-ellai9yswbhibjbt.mdb.yandexcloud.net:9440"
    - "rc1b-fr4p9ftf3j074lyl.mdb.yandexcloud.net:9440"
    - "rc1c-gm73b8zftt1cob0h.mdb.yandexcloud.net:9440"
  database: yc-osquery
  username: schecker
  password: file:///run/schecker/clickhouse-password
  read_timeout: 20
  packages_table_name: "pack_apps_installed_s"

smtp:
  addr: ${smtp_addr}
  user: ${smtp_user}
  password: file:///run/schecker/smtp-password

startrek:
  create_tickets_at: 7h00m # hour (system time)

groups:
  folder:
    - name: cloud_preprod_lockbox
      folder_id: aoe2fnrknrpgsho3chc5
      excluded:
        # https://st.yandex-team.ru/CLOUD-47674#5ef06fd44dbde62e2b477b14
        - pkgs: [amd64-microcode, intel-microcode]
          until: "2100-01-01T12:00:00Z"
      features:
        security_updates:
          email:
            recipients: ["artbelov@yandex-team.ru"]
    - name: cloud_prod_lockbox
      folder_id: b1gf9hkellnabo48ppjp
      excluded:
        # https://st.yandex-team.ru/CLOUD-47674#5ef06fd44dbde62e2b477b14
        - pkgs: [ amd64-microcode, intel-microcode ]
          until: "2100-01-01T12:00:00Z"
      features:
        security_updates:
          email:
            recipients: ["artbelov@yandex-team.ru"]
  dns:
    - name: cloud_preprod_api-adapter_ig
      pattern: api-adapter-preprod-*.api-adapter.cloud-preprod.yandex.net
      excluded:
        # https://st.yandex-team.ru/CLOUD-47674#5ef06fd44dbde62e2b477b14
        - pkgs: [ amd64-microcode, intel-microcode ]
          until: "2100-01-01T12:00:00Z"
      features:
        security_updates:
          email:
            recipients: ["artbelov@yandex-team.ru"]
    - name: cloud_prod_api-adapter_ig
      pattern: api-adapter-prod-*.api-adapter.cloud.yandex.net
      excluded:
        # https://st.yandex-team.ru/CLOUD-47674#5ef06fd44dbde62e2b477b14
        - pkgs: [ amd64-microcode, intel-microcode ]
          until: "2100-01-01T12:00:00Z"
      features:
        security_updates:
          email:
            recipients: ["artbelov@yandex-team.ru"]

usn:
  url: https://usn.ubuntu.com

cve:
  url: https://cve.mitre.org/cgi-bin/cvename.cgi?name=

regulation:
  url: https://wiki.yandex-team.ru/cloud/regulations/security-fixes/

feedback:
  email: yc-infra@yandex-team.ru
