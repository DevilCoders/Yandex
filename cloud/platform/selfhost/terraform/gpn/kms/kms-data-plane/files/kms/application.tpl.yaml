grpcServer:
  maxConcurrentRequests: 100
  port: ${private_api_port}
  reflectionEnabled: true
  certificatePemFile: /etc/kms/certificate.pem

authClient:
  host: as.private-api.ycp.gpn.yandexcloud.net
  port: 443
  timeout: PT2S
  channels: 10
  loggingMinCallDuration: PT0.5S
  exponentialBackoffRetryPolicy:
    maxRetries: 5
    delay: PT0.1S
    maxDelay: PT1S
    delayFactor: 2

authCache:
  expirePeriod: PT15S
  deletePeriod: PT15M
  maximumSize: 100500

metrics:
  pullPort: 4302

kmsMonitoring:
  pullPort: 4303
  refreshPeriod: PT1H

repository:
  kikimr:
    host: ""
    discoveryEndpoint: kms-dn.ydb.gpn.yandexcloud.net:2135
    database: /private-gpn-1_global/kms
    tablespace: /private-gpn-1_global/kms/main/
    useSSL: false
    maxResultSetSize: 5000
    readTableBatchSize: 50000

cluster:
  clusterId: e5m

quota:
  defaultMaxKeysPerCloud: 100
  defaultMaxVersionsPerKey: 100

cache:
  refreshDuration: PT15M

specialKeys:
  refreshDuration: PT5M
  defaultRootKmsKeyId: rootKmsKeyId1

rootKmsClient:
  hosts: [root-kms-1.gpn.yandexcloud.net, root-kms-2.gpn.yandexcloud.net]
  port: 4301
  tls: true
  maxRetries: 3
  timeout: PT2S

tokenService:
  host: ts.private-api.ycp.gpn.yandexcloud.net
  port: 443
  maxRetries: 3
  timeout: PT5S
  tls: true

discovery:
  addrs: ${discovery_addrs}

hsmFront:
  fake: true
  kmsServiceId: kms
