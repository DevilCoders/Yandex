definitions:
  - &vla-hosts "vla*"
  - &sas-hosts "sas*"
  - &myt-hosts "myt*"
  - &all-hosts "vla*|sas*|myt*"
solomon_project_id: "nfs"
defaults:
  alert_window_secs: 600
  alert_delay_secs: 30
  alert_state: ACTIVE
clusters:
  {{- range (seq "vla" "sas" "myt")}}
  - id: testing_{{.}}
    name: "[TESTING][{{.|ToUpper}}]"
    solomon_cluster: yandexcloud_testing
    cluster: testing
    zone: {{.}}
    hosts: *{{.}}-hosts
    svm_domain: "cloud-testing.yandex.net"
  - id: preprod_{{.}}
    name: "[PRE-PROD][{{.|ToUpper}}]"
    solomon_cluster: yandexcloud_preprod
    cluster: preprod
    zone: {{.}}
    hosts: *{{.}}-hosts
    svm_domain: "cloud-preprod.yandex.net"
  - id: prod_{{.}}
    name: "[PROD][{{.|ToUpper}}]"
    solomon_cluster: yandexcloud_prod_{{.}}
    cluster: prod
    zone: {{.}}
    hosts: *{{.}}-hosts
    svm_domain: "cloud.yandex.net"
  {{end}}
  - id: testing
    name: "[TESTING]"
    solomon_cluster: yandexcloud_testing
    cluster: testing
    zone: "myt" # TODO: remove zone
    hosts: "vla*|myt*|sas*"
    svm_domain: "cloud-testing.yandex.net"
  - id: preprod
    name: "[PRE-PROD]"
    solomon_cluster: yandexcloud_preprod
    cluster: preprod
    hosts: *all-hosts
    svm_domain: "cloud-preprod.yandex.net"
  - id: prod
    name: "[PROD]"
    solomon_cluster: yandexcloud_prod
    cluster: prod
    hosts: *all-hosts
    svm_domain: "cloud.yandex.net"
  - id: hw-nbs-stable-lab
    name: "[HW-NBS-STABLE-LAB]"
    solomon_cluster: cloud_hw-nbs-stable-lab
    cluster: hw-nbs-stable-lab
    hosts: *all-hosts
    svm_domain: "hw-nbs-stable.cloud-lab.yandex.net"
  - id: hw-nbs-dev-lab
    name: "[HW-NBS-DEV-LAB]"
    solomon_cluster: cloud_hw-nbs-dev-lab
    cluster: hw-nbs-dev-lab
    hosts: *all-hosts
