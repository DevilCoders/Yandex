name: 'nbs'
cfgFileNames:
  nbs: ['nbs_server.cfg', 'nbs_disk_agent.cfg']
  nbs_control: ['nbs_server.cfg']
clusters:
  prod:
    targets: ['nbs', 'nbs_control']
    zones: [ 'vla', 'sas', 'myt' ]
    zoneCfgOverride:
      defaultOverride:
        monAddress: 'localhost'
      zoneOverride:
        vla:
          domain: 'vla'
        sas:
          domain: 'sas'
        myt:
          domain: 'myt'
    configs:
      generate: true
      dumpPath: 'kikimr/production/configs/yandex-cloud/prod'
      pathTargetPrefix: 'cfg'
    values:
      generate: true
      fileName: 'values.yaml'
      dumpPath: 'cloud/blockstore/deployment/values'
  preprod:
    targets: [ 'nbs', 'nbs_control' ]
    zones: [ 'vla', 'sas', 'myt' ]
    zoneCfgOverride:
      defaultOverride:
        monAddress: 'localhost'
      zoneOverride:
        vla:
          domain: 'pre-prod_vla'
        sas:
          domain: 'pre-prod_sas'
        myt:
          domain: 'pre-prod_myt'
    configs:
      generate: true
      dumpPath: 'kikimr/production/configs/yandex-cloud/preprod'
      pathTargetPrefix: 'cfg'
    values:
      generate: true
      fileName: 'values.yaml'
      dumpPath: 'cloud/blockstore/deployment/values'
  israel:
    targets: [ 'nbs', 'nbs_control' ]
    zones: [ 'az1']
    zoneCfgOverride:
      defaultOverride:
        monAddress: 'localhost'
      zoneOverride:
        az1:
          domain: 'israel_m1a'
    configs:
      generate: true
      dumpPath: 'kikimr/production/configs/yandex-cloud/israel'
      pathTargetPrefix: ''
    values:
      generate: true
      fileName: 'values.yaml'
      dumpPath: 'cloud/blockstore/deployment/values'
  testing:
    targets: [ 'nbs', 'nbs_control' ]
    zones: [ 'vla', 'sas', 'myt' ]
    zoneCfgOverride:
      defaultOverride:
        monAddress: 'localhost'
      zoneOverride:
        vla:
          domain: 'testing_vla'
        sas:
          domain: 'testing_sas'
        myt:
          domain: 'testing_myt'
    configs:
      generate: true
      dumpPath: 'kikimr/testing/configs/yandex-cloud/testing'
      pathTargetPrefix: 'cfg'
    values:
      generate: true
      fileName: 'values.yaml'
      dumpPath: 'cloud/blockstore/deployment/values'
      additionalFiles: [ 'nbs-names.txt', 'nbs-domains.txt' ]
      additionalFilesPath: 'kikimr/testing/configs/yandex-cloud/testing'
      additionalFilesPathTargetPrefix: 'cfg'
  hw-nbs-stable-lab:
    targets: [ 'nbs', 'nbs_control' ]
    zones: [ 'global' ]
    zoneCfgOverride:
      defaultOverride:
        monAddress: 'localhost'
        domain: 'dev_global'
    configs:
      generate: true
      dumpPath: 'kikimr/testing/configs/yandex-cloud/hw-nbs-stable-lab'
      pathTargetPrefix: 'cfg'
    values:
      generate: true
      fileName: 'values.yaml'
      dumpPath: 'cloud/blockstore/deployment/values'
  hw-nbs-dev-lab:
    targets: [ 'nbs' ]
    zoneCfgOverride:
      defaultOverride:
        monAddress: '::'
        domain: 'dev_global'
    zones: ['global']
    configs:
      generate: true
      dumpPath: 'kikimr/testing/configs/yandex-cloud/hw-nbs-dev-lab'
      pathTargetPrefix: 'cfg'
    values:
      generate: true
      fileName: 'values.yaml'
      dumpPath: 'cloud/blockstore/deployment/values'
  hw-k8s-lab:
    targets: ['nbs', 'nbs_control']
    zones: ['global']
    zoneCfgOverride:
      defaultOverride:
        monAddress: 'localhost'
        domain: 'dev_az'
    configs:
      generate: false
    values:
      generate: true
      fileName: 'values.yaml'
      dumpPath: 'cloud/blockstore/deployment/values'
      additionalFiles: [ 'nbs-names.txt', 'nbs-domains.txt' ]
      additionalFilesPath: 'cloud/blockstore/deployment/hw-k8s-lab'
  cloudvm-k8s:
    targets: ['nbs']
    zones: ['virt']
    zoneCfgOverride:
      defaultOverride:
        monAddress: '8766'
        domain: 'dev_global'
    configs:
      generate: false
    values:
      generate: true
      fileName: 'values.yaml'
      dumpPath: 'cloud/blockstore/deployment/values'
      additionalFiles: [ 'nbs-names.txt', 'nbs-domains.txt' ]
      additionalFilesPath: 'cloud/blockstore/deployment/cloudvm-k8s'
