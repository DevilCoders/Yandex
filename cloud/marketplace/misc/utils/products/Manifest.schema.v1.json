{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "$ref": "#/definitions/Manifest",
  "definitions": {
    "Base": {
      "required": [
        "os",
        "release",
        "type",
        "url"
      ],
      "properties": {
        "buildOptions": {
          "$schema": "http://json-schema.org/draft-04/schema#",
          "$ref": "#/definitions/BuildOptions"
        },
        "os": {
          "type": "string"
        },
        "release": {
          "type": "string"
        },
        "type": {
          "type": "string"
        },
        "url": {
          "type": "string"
        }
      },
      "additionalProperties": false,
      "type": "object"
    },
    "BuildOptions": {
      "required": [
        "adjustImageSize"
      ],
      "properties": {
        "adjustImageSize": {
          "type": "string"
        }
      },
      "additionalProperties": false,
      "type": "object"
    },
    "Family": {
      "required": [
        "logo",
        "title",
        "description",
        "code",
        "skus",
        "pricingOption",
        "agreementIds",
        "resourceSpec"
      ],
      "properties": {
        "agreementIds": {
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "code": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "logo": {
          "type": "string"
        },
        "pricingOption": {
          "type": "string"
        },
        "resourceSpec": {
          "$schema": "http://json-schema.org/draft-04/schema#",
          "$ref": "#/definitions/ResourceSpec"
        },
        "skus": {
          "items": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "$ref": "#/definitions/Sku"
          },
          "type": "array"
        },
        "title": {
          "type": "string"
        }
      },
      "additionalProperties": false,
      "type": "object"
    },
    "Manifest": {
      "required": [
        "type",
        "version",
        "product",
        "publisher",
        "base",
        "source"
      ],
      "properties": {
        "base": {
          "$schema": "http://json-schema.org/draft-04/schema#",
          "$ref": "#/definitions/Base"
        },
        "product": {
          "$schema": "http://json-schema.org/draft-04/schema#",
          "$ref": "#/definitions/Product"
        },
        "publisher": {
          "$schema": "http://json-schema.org/draft-04/schema#",
          "$ref": "#/definitions/Publisher"
        },
        "source": {
          "$schema": "http://json-schema.org/draft-04/schema#",
          "$ref": "#/definitions/Source"
        },
        "type": {
          "type": "string"
        },
        "version": {
          "type": "string"
        }
      },
      "additionalProperties": false,
      "type": "object"
    },
    "Product": {
      "required": [
        "code",
        "title",
        "logo",
        "shortDescription",
        "description",
        "imageDescription",
        "category",
        "toMarketplace",
        "family"
      ],
      "properties": {
        "category": {
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "code": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "family": {
          "$schema": "http://json-schema.org/draft-04/schema#",
          "$ref": "#/definitions/Family"
        },
        "id": {
          "type": "string"
        },
        "imageDescription": {
          "type": "string"
        },
        "logo": {
          "type": "string"
        },
        "shortDescription": {
          "type": "string"
        },
        "title": {
          "type": "string"
        },
        "toMarketplace": {
          "type": "boolean"
        }
      },
      "additionalProperties": false,
      "type": "object"
    },
    "Publisher": {
      "required": [
        "id"
      ],
      "properties": {
        "id": {
          "type": "string"
        }
      },
      "additionalProperties": false,
      "type": "object"
    },
    "ResourceSpec": {
      "required": [
        "memory",
        "cores"
      ],
      "properties": {
        "cores": {
          "type": "integer"
        },
        "memory": {
          "type": "integer"
        }
      },
      "additionalProperties": false,
      "type": "object"
    },
    "Sku": {
      "required": [
        "id",
        "checkFormula"
      ],
      "properties": {
        "checkFormula": {
          "type": "string"
        },
        "id": {
          "type": "string"
        }
      },
      "additionalProperties": false,
      "type": "object"
    },
    "Source": {
      "properties": {
        "onInstall": {
          "type": "string"
        },
        "onStart": {
          "type": "string"
        },
        "prepareScript": {
          "type": "string"
        },
        "url": {
          "type": "string"
        },
        "zipArchive": {
          "type": "string"
        }
      },
      "additionalProperties": false,
      "type": "object"
    }
  }
}