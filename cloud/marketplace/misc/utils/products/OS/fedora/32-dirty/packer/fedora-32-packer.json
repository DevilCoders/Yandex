{
    "variables": {
        "password": "randompass",
        "disk_size": "10240",
        "domain": ""
    },

    "builders": [
        {
            "name": "Fedora-32",

            "communicator":"none",
            "shutdown_command": "",
            "shutdown_timeout": "60m",
            "type": "qemu",
            "format": "qcow2",
            "disk_size": "{{ user `disk_size` }}",
            "disk_compression": true,

            "iso_url": "https://download.fedoraproject.org/pub/fedora/linux/releases/test/32_Beta/Server/x86_64/iso/Fedora-Server-netinst-x86_64-32_Beta-1.2.iso",
            "iso_checksum": "2ea9147131a977b34eed8db265978c5e2833346a293dafeeb7725efa65a64fa8",
            "iso_checksum_type": "sha256",

            "http_directory": "http",

            "use_default_display": true,
            "machine_type": "q35",

            "boot_wait": "5s",
            "boot_command": [
                "<esc>",
	        "<wait>",
                "linux inst.gpt inst.ks=http://{{.HTTPIP}}:{{.HTTPPort}}/fedora-32-ks.cfg biosdevname=0 net.ifnames=0",
		"<enter>"
            ],
            "qemuargs": [
               [ "-parallel", "none" ],
               [ "-m", "4096M" ],
               [ "-smp", "cpus=2" ]
            ] 
        }
    ]
}
