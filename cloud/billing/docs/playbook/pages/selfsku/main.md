# Система доставки данных справочников SelfSKU

В биллинге есть ряд сущностей, требующих связной настройки, отличающейся в различных средах развертывания. Для решения этой задачи разработана система сборки и доставки бандлов с настройками.

На данный момент алгоритм управления выглядит следующим образом:
 - В [репозитории](https://a.yandex-team.ru/arc_vcs/cloud/billing/bootstrap) описываются общие сущности, которые должны применяться на какой-либо группе инсталляций. Данные настроек тестируются на корректность и совместимость.
 - После внесения изменений производися сборка набора "самораспаковывающихся" бандлов и публикация их в S3 инсталляций (см каталоги `packaging` и общий a.yaml для деталей запуска)
 - Опубликованный бандл скачивается человеком на svm в нужной инсталляции.
   svm должна обладать всеми инструментами для применения бандла и иметь доступ в S3. На текущий момент это машины с control plane биллинга.
 - Полученныe файлы на машине должны быть проверены и распакованы (см. подкоманды бандла по опции `-h`) в набор yaml файлов. После чего применение производится стандартным способом.

Для упрощения работы с бандлами дополнительно публикуются скрипты для их скачивания на svm.
