version: '2.4'

services:
  ydb:
    image: registry.yandex.net/yandex-docker-local-ydb:stable
    network_mode: host
    hostname: localhost
    environment:
        YDB_YQL_SYNTAX_VERSION: 1
    ulimits:
        nofile:
            soft: 90000
            hard: 90000

  client:
    image: registry.yandex.net/yandex-docker-local-ydb:stable
    user: root
    command: bash
    network_mode: host
    volumes:
      - type: bind
        source: ../../
        target: /code/
        read_only: true
      - type: bind
        source: ./client_profile/
        target: /root/.ydb/config/
        read_only: false
