service: yandexcloudbilling
title: YC Billing Public API
ci:
  secret: sec-01fkd2hqchtde5zanp0m4xt6y9

  runtime:
    sandbox-owner: YC-BILLING

  releases:
    public-api-package:
      title: Release Public API package
      flow: build-package
      auto: false
      start-version: 17

  flows:
    build-package:
      title: Build Public API package
      jobs:
        build:
          title: "Run TeamCity Billing/ARC: Build Public API GRPC Proxy"
          task: projects/cloud/billing/aw_build
          input:
            build_type:
              id: Billing_PublicApiBuildDeb
              properties:
                arc-commit: "${context.target_commit.revision.hash}"
                sandbox-task-id: "${context.version_info.full}"
