{
    "$comment": "Resource preset in console/clusters:config definition",
    "definitions": {
        "diskSizeRange": {
            "type": "object",
            "properties": {
                "min": {
                    "type": "integer",
                    "minimum": 1
                },
                "max": {
                    "type": "integer",
                    "minimum": 1
                }
            },
            "additionalProperties": false,
            "required": [
                "min",
                "max"
            ]
        },
        "diskSizes": {
            "type": "object",
            "properties": {
                "sizes": {
                    "type": "array",
                    "items": {
                        "type": "integer",
                        "minimum": 1
                    }
                }
            },
            "additionalProperties": false,
            "required": [
                "sizes"
            ]
        },
        "diskType": {
            "type": "object",
            "properties": {
                "diskTypeId": {
                    "type": "string"
                },
                "diskSizeRange": {
                    "$ref": "#/definitions/diskSizeRange"
                },
                "diskSizes": {
                    "$ref": "#/definitions/diskSizes"
                },
                "minHosts": {
                    "type": "integer",
                    "minimum": 0
                },
                "maxHosts": {
                    "type": "integer",
                    "minimum": 1
                }
            },
            "additionalProperties": false,
            "required": [
                "diskTypeId",
                "minHosts",
                "maxHosts"
            ],
            "oneOf": [
                {
                    "required": [
                        "diskSizeRange"
                    ]
                },
                {
                    "required": [
                        "diskSizes"
                    ]
                }
            ]
        },
        "zone": {
            "type": "object",
            "properties": {
                "diskTypes": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/diskType"
                    },
                    "uniqueItems": true,
                    "minLength": 1
                },
                "zoneId": {
                    "type": "string"
                }
            },
            "additionalProperties": false,
            "required": [
                "diskTypes",
                "zoneId"
            ]
        },
        "resourcePresets": {
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "cpuLimit": {
                        "type": "integer"
                    },
                    "cpuFraction": {
                        "type": "integer"
                    },
                    "decommissioning": {
                        "type": "boolean"
                    },
                    "gpuLimit": {
                        "type": "integer"
                    },
                    "memoryLimit": {
                        "type": "integer"
                    },
                    "presetId": {
                        "type": "string"
                    },
                    "type": {
                        "type": "string"
                    },
                    "generation": {
                        "type": "string"
                    },
                    "generationName": {
                        "type": "string"
                    },
                    "zones": {
                        "type": "array",
                        "items": {
                            "$ref": "#/definitions/zone"
                        },
                        "minLength": 1,
                        "uniqueItems": true
                    }
                },
                "additionalProperties": false,
                "required": [
                    "cpuLimit",
                    "cpuFraction",
                    "memoryLimit",
                    "presetId",
                    "type",
                    "generation",
                    "generationName",
                    "decommissioning",
                    "zones"
                ]
            },
            "minLength": 1,
            "uniqueItems": true
        },
        "defaultResources": {
            "type": "object",
            "properties": {
                "diskTypeId": {
                    "type": "string"
                },
                "diskSize": {
                    "type": "integer"
                },
                "generation": {
                    "type": "string"
                },
                "generationName": {
                    "type": "string"
                },
                "resourcePresetId": {
                    "type": "string"
                }
            },
            "additionalProperties": false,
            "required": [
                "diskTypeId",
                "diskSize",
                "generation",
                "generationName",
                "resourcePresetId"
            ]
        }
    },
    "type": "object",
    "properties": {
        "resourcePresets": {
            "$ref": "#/definitions/resourcePresets"
        },
        "defaultResources": {
            "$ref": "#/definitions/defaultResources"
        }
    },
    "required": [
        "resourcePresets",
        "defaultResources"
    ]
}
