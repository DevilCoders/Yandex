{
  "id": "mdb-cluster-mongodb-by-shard",
  "projectId": "{{projectId}}",
  "name": "MDB MongoDB by Shard",
  "description": "",
  "heightMultiplier": 1,
  "parameters": [
    {
      "name": "cluster",
      "value": "*"
    },
    {
      "name": "service",
      "value": "mdb|yandexcloud_dbaas"
    },
    {
      "name": "project",
      "value": "{{projectId}}"
    },
    {
	  "name": "shard",
	  "value": "*"
	}
  ],
  "rows": [
    {
      "panels": [
        {
          "type": "IFRAME",
          "title": "MongoDB connections, [count]",
          "subtitle": "",
          "url": "?project={{project}}&cluster={{cluster}}&service={{service}}&shard={{shard}}&node=total&dc=*&graph=auto&l.sensor=server_status_admin_connections.current%7Cserver_status_admin_connections.available",
          "markdown": "",
          "rowspan": 0,
          "colspan": 0
        },
        {
          "type": "IFRAME",
          "title": "Primary Operations, [count]",
          "subtitle": "",
          "url": "?project={{project}}&cluster={{cluster}}&service={{service}}&shard={{shard}}&node=total&dc=*&graph=auto&l.sensor=server_status_admin_opcounters.command_rate%7Cserver_status_admin_opcounters.delete_rate%7Cserver_status_admin_opcounters.getmore_rate%7Cserver_status_admin_opcounters.insert_rate%7Cserver_status_admin_opcounters.query_rate%7Cserver_status_admin_opcounters.update_rate",
          "markdown": "",
          "rowspan": 0,
          "colspan": 0
        },
        {
          "type": "IFRAME",
          "title": "Replica's Operations, [count]",
          "subtitle": "",
          "url": "?project={{project}}&cluster={{cluster}}&service={{service}}&shard={{shard}}&node=total&dc=*&graph=auto&l.sensor=server_status_admin_opcountersRepl.command_rate%7Cserver_status_admin_opcountersRepl.delete_rate%7Cserver_status_admin_opcountersRepl.getmore_rate%7Cserver_status_admin_opcountersRepl.insert_rate%7Cserver_status_admin_opcountersRepl.query_rate%7Cserver_status_admin_opcountersRepl.update_rate",
          "markdown": "",
          "rowspan": 0,
          "colspan": 0
        }
      ]
    },
    {
      "panels": []
    },
    {
      "panels": [
        {
          "type": "IFRAME",
          "title": "Disk capacity on primary, [bytes]",
          "subtitle": "",
          "url": "?project={{project}}&cluster={{cluster}}&service={{service}}&shard={{shard}}&node=primary&dc=by_node&graph=auto&l.sensor=disk-used_bytes_%2Fvar%2Flib%2Fmongodb%7Cdisk-free_bytes_%2Fvar%2Flib%2Fmongodb",
          "markdown": "",
          "rowspan": 0,
          "colspan": 0
        },
        {
          "type": "IFRAME",
          "title": "Data size, [bytes]",
          "subtitle": "",
          "url": "?project={{project}}&cluster={{cluster}}&service={{service}}&shard={{shard}}&node=primary&dc=by_node&graph=auto&l.sensor=db_stats_*_dataSize",
          "markdown": "",
          "rowspan": 0,
          "colspan": 0
        },
        {
          "type": "IFRAME",
          "title": "Index size, [bytes]",
          "subtitle": "",
          "url": "?project={{project}}&cluster={{cluster}}&service={{service}}&shard={{shard}}&node=primary&dc=by_node&graph=auto&l.sensor=db_stats_*_indexSize",
          "markdown": "",
          "rowspan": 0,
          "colspan": 0
        }
      ]
    },
    {
        "panels": []
    },
    {
        "panels": [
            {
              "type": "IFRAME",
              "title": "Replication lag, [seconds]",
              "subtitle": "",
              "url": "?cluster={{cluster}}&project={{project}}&service={{service}}&shard={{shard}}&l.sensor=replset_status-replicationLag&dc=by_host&host=*&graph=auto&stack=0",
              "markdown": "",
              "rowspan": 0,
              "colspan": 0
            },
            {
              "type": "IFRAME",
              "title": "Configured oplog size, [bytes]",
              "subtitle": "",
              "url": "?cluster={{cluster}}&project={{project}}&service={{service}}&shard={{shard}}&l.sensor=oplog-maxSize&dc=by_host&host=*&graph=auto&stack=1",
              "markdown": "",
              "rowspan": 0,
              "colspan": 0
            }
        ]
    }
  ]
}
