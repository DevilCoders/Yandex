{
    "title": "S3META counters",
    "type": "panel",
    "charts": [
        {
            "id": "buckets_count_by_shard",
            "type": "graphic",
            "width": 2,
            "height": 2,
            "row": 1,
            "col": 1,
            "signals": [
                <% for shard in shards|default(["01"]) %>
                {
                    "tag": "itype=mailpostgresql;prj=s3meta<< shard >>;tier=primary",
                    "host": "CON",
                    "name": "push-s3meta_buckets_count_vmmv",
                    "title": "s3meta<< shard >>",
                }
                <% endfor %>
            ],
            "title": "Buckets count by shard",
            "stacked": true,
            "normalize": false
        },
        {
            "id": "chunks_count_by_shard",
            "type": "graphic",
            "width": 2,
            "height": 2,
            "row": 1,
            "col": 3,
            "signals": [
                <% for shard in shards|default(["01"]) %>
                {
                    "tag": "itype=mailpostgresql;prj=s3meta<< shard >>;tier=primary",
                    "host": "CON",
                    "name": "push-s3meta_chunks_count_vmmv",
                    "title": "s3meta<< shard >>",
                }
                <% endfor %>
            ],
            "title": "Chunks count by shard",
            "stacked": true,
            "normalize": false
        },
        {
            "id": "schema_version",
            "type": "graphic",
            "width": 2,
            "height": 2,
            "row": 3,
            "col": 1,
            "signals": [
                <% for shard in shards|default(["01"]) %>
                {
                    "tag": "itype=mailpostgresql;prj=s3meta<< shard >>;tier=primary",
                    "host": "CON",
                    "name": "push-s3meta_schema_version_xxxv",
                    "title": "s3meta<< shard >>",
                }
                <% endfor %>
            ],
            "title": "Schema version",
            "stacked": false,
            "normalize": false
        }
    ]
}
