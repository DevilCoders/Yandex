## Host Aliases
## Groups of machines. You may prefer to use hostnames (perhap using
## wildcards for entire domains) or IP addresses instead.
# Host_Alias     FILESERVERS = fs1, fs2
# Host_Alias     MAILSERVERS = smtp, smtp2

## User Aliases
## These aren't often necessary, as you can use regular groups
## (ie, from files, LDAP, NIS, etc) in this file - just use %groupname
## rather than USERALIAS
# User_Alias ADMINS = jsmith, mikem


## Command Aliases
## These are groups of related commands...

## Networking
Cmnd_Alias NETWORKING = /sbin/route, /sbin/ifconfig, /bin/ping, /sbin/dhclient, /usr/bin/net, /sbin/iptables, /usr/bin/rfcomm, /usr/bin/wvdial, /sbin/iwconfig, /sbin/mii-tool

## Installation and management of software
Cmnd_Alias SOFTWARE = /bin/rpm, /usr/bin/up2date, /usr/bin/yum

## Services
Cmnd_Alias SERVICES = /sbin/service, /sbin/chkconfig

## Updating the locate database
Cmnd_Alias LOCATE = /usr/bin/updatedb

## Storage
Cmnd_Alias STORAGE = /sbin/fdisk, /sbin/sfdisk, /sbin/parted, /sbin/partprobe, /bin/mount, /bin/umount

## Delegating permissions
Cmnd_Alias DELEGATING = /usr/sbin/visudo, /bin/chown, /bin/chmod, /bin/chgrp

## Processes
Cmnd_Alias PROCESSES = /bin/nice, /bin/kill, /usr/bin/kill, /usr/bin/killall

## Drivers
Cmnd_Alias DRIVERS = /sbin/modprobe

# Defaults specification

#
# Disable "ssh hostname sudo <cmd>", because it will show the password in clear.
#         You have to run "ssh -t hostname sudo <cmd>".
#
Defaults    !requiretty

Defaults    env_reset
Defaults    env_keep = "COLORS DISPLAY HOSTNAME HISTSIZE INPUTRC KDEDIR \
                        LS_COLORS MAIL PS1 PS2 QTDIR USERNAME \
                        LANG LC_ADDRESS LC_CTYPE LC_COLLATE LC_IDENTIFICATION \
                        LC_MEASUREMENT LC_MESSAGES LC_MONETARY LC_NAME LC_NUMERIC \
                        LC_PAPER LC_TELEPHONE LC_TIME LC_ALL LANGUAGE LINGUAS \
                        _XKB_CHARSET XAUTHORITY"

## Next comes the main part: which users can run what software on
## which machines (the sudoers file can be shared between multiple
## systems).
## Syntax:
##
##  user    MACHINE=COMMANDS
##
## The COMMANDS section may have other options added to it.
##
## Allow root to run any commands anywhere
root    ALL=(ALL)   ALL

## Allows members of the 'sys' group to run networking, software,
## service management apps and more.
# %sys ALL = NETWORKING, SOFTWARE, SERVICES, STORAGE, DELEGATING, PROCESSES, LOCATE, DRIVERS

## Same thing without a password
%wheel  ALL=(ALL)   NOPASSWD: ALL

#-----   Developer   -----#
#developer ALL=(ALL) NOPASSWD: /bin/netstat *
#developer ALL=(ALL) NOPASSWD: /usr/sbin/tcpdump -pnn *
#developer ALL=(ALL) NOPASSWD: /usr/sbin/lsof -n *
#-----   Developer   -----#


#-----  Monitoring  -----#
monitor ALL, ALL = NOPASSWD: /bin/cat /var/*
monitor ALL, ALL = NOPASSWD: /bin/grep /var/*
monitor ALL, ALL = NOPASSWD: /usr/bin/tac /var/*
monitor ALL, ALL = NOPASSWD: /usr/bin/tail /var/*
monitor ALL, ALL = NOPASSWD: /usr/bin/mailq
monitor ALL, ALL = NOPASSWD: /sbin/mdadm --detail *
monitor ALL, ALL = NOPASSWD: /etc/init.d/syslog restart
#-----  Monitoring  -----#


#-----  autoadmin  -----#
autoadmin ALL, ALL = NOPASSWD: /usr/bin/yum clean metadata
autoadmin ALL, ALL = NOPASSWD: /usr/bin/yum install *
autoadmin ALL, ALL = NOPASSWD: /bin/rpm --verify *
#-----  autoadmin  -----#

#includedir /etc/sudoers.d
monitor ALL, ALL = NOPASSWD: /usr/sbin/logrotate -d /etc/logrotate.conf
monitor ALL=NOPASSWD: /usr/bin/ipmitool mc info
monitor ALL=NOPASSWD: /usr/bin/selparse
