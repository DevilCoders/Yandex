
[kafka_jmx]
plugin = common
module = kafka_jmx

{% if salt.pillar.get('data:kafka:old_jmx_user', False) %}
jmx_user = monitorRole
jmx_password = {{ salt['mdb_kafka.jmx_password']() }}
{% else %}
jmx_user = monitorJmx
jmx_password = {{ salt['mdb_kafka.monitor_password']() }}
{% endif %}

metrics = ReplicaManager:UnderMinIsrPartitionCount,ReplicaManager:UnderReplicatedPartitions,ReplicaManager:PartitionCount,ReplicaManager:LeaderCount
interval = 60
