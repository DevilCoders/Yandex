[pg_locks_mode]
plugin = postgres
module = pg_query
interval = 5
rowsignal = 1

query = SELECT datname, mode lock_mode, count(1) sessions FROM pg_locks l join pg_database d on l.database = d.oid WHERE pid != pg_backend_pid() AND datname not in ('template0', 'template1', 'postgres') GROUP BY datname, mode;
databases = postgres
prefix_columns = datname

[pg_locks_type]
plugin = postgres
module = pg_query
interval = 5
rowsignal = 1

query = SELECT datname, locktype lock_type, count(1) sessions FROM pg_locks l join pg_database d on l.database = d.oid WHERE pid != pg_backend_pid() AND datname not in ('postgres', 'template1', 'template0') GROUP BY datname, locktype;
databases = postgres
prefix_columns = datname

yasm_suffix = tmmx
