{% from "components/redis/sentinel/map.jinja" import sentinel with context %}
# redis-sentinel configure options

# ULIMIT: Call ulimit -n with this argument prior to invoking Redis Sentinel
# itself.  This may be required for high-concurrency environments. Redis
# Sentinel itself cannot alter its limits as it is not being run as root.
# (default: 65536)
#
ULIMIT=65536

# Salt defaults
EXTRA_CMD_PARAMS=

{% if salt.mdb_redis.is_major_human_6_plus(sentinel.version.major_human) %}
{%     if salt.mdb_redis.tls_enabled() %}
EXTRA_CMD_PARAMS="--tls-port {{ sentinel.tls.port }} --tls-replication yes"
{%     else %}
EXTRA_CMD_PARAMS="--tls-port 0 --tls-replication no"
{%     endif %}
{% endif %}
