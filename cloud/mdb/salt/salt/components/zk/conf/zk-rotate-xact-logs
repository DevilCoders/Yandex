# This script is necessary because builtin zookeeper mechanism is fired only once per hour.
# In some cases this might not be enough.

# Rotate snapshots. Leave at least two of them, use up to 40% of data partition
* * * * * root /usr/local/yandex/log_curator.py clear-old-logs --pool {{ zk.config.dataDir }}/version-2 --mask 'snapshot.[0-9a-f]+' --minfiles 2 --max-disk-percentage 40
# Rotate transaction logs. Leave at least 4, use up to %20 of the disk.
* * * * * root /usr/local/yandex/log_curator.py clear-old-logs --pool {{ zk.config.dataDir }}/version-2 --mask 'log.[0-9a-f]+' --minfiles 4 --max-disk-percentage 20
