{%- set admin_password = salt['pillar.get']('data:kafka:admin_password') -%}
bootstrap.servers={{ salt['grains.get']('id') }}:9091
{% if salt['pillar.get']('data:kafka:use_plain_sasl', false) %}
sasl.mechanism=PLAIN
sasl.jaas.config=org.apache.kafka.common.security.plain.PlainLoginModule required username="mdb_admin" password="{{ admin_password }}";
{% else %}
sasl.mechanism=SCRAM-SHA-512
sasl.jaas.config=org.apache.kafka.common.security.scram.ScramLoginModule required username="mdb_admin" password="{{ admin_password }}";
{% endif %}
security.protocol=SASL_SSL
ssl.truststore.location=/etc/kafka/ssl/server.truststore.jks
ssl.truststore.password={{ admin_password }}
