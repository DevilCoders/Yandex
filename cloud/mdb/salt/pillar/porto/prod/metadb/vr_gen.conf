geo_availability:
    1:
        - iva
        - myt
        - sas
        - man
        - vla
        - vlx
    2:
        - man
        - vla
        - sas
        - myt
        - vlx
    3:
        - man
        - vla
        - sas
        - vlx
flavor_type_override:
    burstable:
        max_hosts: 1
        min_hosts: 1
cluster_types:
    postgresql_cluster:
        flavor_types:
            - standard
            - memory-optimized
            - cpu-optimized
        disk_types:
            - type: local-ssd
              disk_sizes: null
              disk_size_range: [10737418240, 8796093022208]
              feature_flags:
                - MDB_TRUST_CUSTOM_FLAVOR
              flavors:
                - s3.trustcustom
                - s3.dostavkacustom
                - s3.3xlarge
                - s2.4xlarge
            - type: local-ssd
              disk_sizes: null
              disk_size_range: [10737418240, 4398046511104]
              feature_flags:
                - MDB_MISC_CUSTOM_FLAVOR
              flavors:
                - s3.5xmarket
            - type: local-ssd
              disk_sizes: null
              disk_size_range: [10737418240, 4398046511104]
              exclude_flavors:
                  s3.trustcustom_under_flag:
                      name: s3.trustcustom
                  s3.dostavkacustom_under_flag:
                      name: s3.dostavkacustom
                  s3.market_under_flag:
                      name: s3.5xmarket
        min_hosts: 1
        max_hosts: 64
        roles:
            - postgresql_cluster
    clickhouse_cluster:
        flavor_types:
            - standard
            - memory-optimized
            - cpu-optimized
        exclude_geos:
            - man
        disk_types:
            - type: local-ssd
              disk_sizes: null
              disk_size_range: [10737418240, 4398046511104]
              exclude_flavors:
                  s3.trustcustom_under_flag:
                      name: s3.trustcustom
                  s3.market_under_flag:
                      name: s3.5xmarket
            - type: local-hdd
              disk_sizes: [10995116277760]
              disk_size_range: null
              flavors:
                  - s2.medium
                  - s2.large
                  - s2.xlarge
                  - s2.2xlarge
                  - s2.3xlarge
                  - s2.4xlarge
                  - m2.2xlarge
                  - m2.3xlarge
                  - m2.4xlarge
                  - m2.5xlarge
                  - m2.6xlarge
                  - m2.7xlarge
              min_hosts: 2
            - type: local-hdd
              disk_sizes: [13743895347200]
              disk_size_range: null
              flavors:
                  - s3.medium
                  - s3.large
                  - s3.xlarge
                  - s3.2xlarge
                  - s3.3xlarge
                  - s3.4xlarge
                  - s3.5xlarge
                  - s3.6xlarge
                  - m3.2xlarge
                  - m3.3xlarge
                  - m3.4xlarge
                  - m3.5xlarge
                  - m3.6xlarge
                  - m3.7xlarge
                  - m3.8xlarge
                  - m3.9xlarge
                  - m3.10xlarge
                  - m3.11xlarge
              min_hosts: 2
        min_hosts: 1
        max_hosts: 7
        roles:
            - clickhouse_cluster
            - role: zk
              disk_types:
                  - type: local-ssd
                    disk_sizes: null
                    disk_size_range: [10737418240, 107374182400]
                    exclude_flavors:
                        s3.trustcustom_under_flag:
                            name: s3.trustcustom
                        s3.market_under_flag:
                            name: s3.5xmarket
              min_hosts: 3
              max_hosts: 5
    mongodb_cluster:
        flavor_types:
            - standard
            - memory-optimized
            - cpu-optimized
        disk_types:
            - type: local-ssd
              disk_sizes: null
              disk_size_range: [10737418240, 322122547200]
              exclude_flavors:
                  s3.trustcustom_under_flag:
                      name: s3.trustcustom
                  s3.market_under_flag:
                      name: s3.5xmarket
            - type: local-ssd
              disk_sizes: null
              disk_size_range: [10737418240, 1649267441664]
              feature_flags:
                - MDB_MONGODB_EXTENDEDS
              exclude_flavors:
                  s3.trustcustom_under_flag:
                      name: s3.trustcustom
                  s3.market_under_flag:
                      name: s3.5xmarket
        min_hosts: 1
        max_hosts: 7
        roles:
            - mongodb_cluster
            - mongodb_cluster.mongod
            - role: mongodb_cluster.mongocfg
              min_hosts: 0
            - role: mongodb_cluster.mongos
              min_hosts: 0
            - role: mongodb_cluster.mongoinfra
              min_hosts: 0
    mysql_cluster:
        flavor_types:
            - standard
            - memory-optimized
            - cpu-optimized
        disk_types:
            - type: local-ssd
              disk_sizes: null
              disk_size_range: [10737418240, 4398046511104]
              exclude_flavors:
                  s3.trustcustom_under_flag:
                      name: s3.trustcustom
                  s3.market_under_flag:
                      name: s3.5xmarket
        min_hosts: 1
        max_hosts: 13
        roles:
            - mysql_cluster
    redis_cluster:
        flavor_types:
            - memory-optimized
        disk_types:
            - type: local-ssd
              disk_sizes: null
              disk_size_range: [17179869184, 618475290624]
              flavors:
                  - m1.micro
                  - m2.nano
                  - m3.nano
            - type: local-ssd
              disk_sizes: null
              disk_size_range: [25769803776, 618475290624]
              flavors:
                  - m2.micro
                  - m3.micro
            - type: local-ssd
              disk_sizes: null
              disk_size_range: [34359738368, 618475290624]
              flavors:
                  - m1.small
                  - m2.small
                  - m3.small
            - type: local-ssd
              disk_sizes: null
              disk_size_range: [51539607552, 618475290624]
              flavors:
                  - m2.medium
                  - m3.medium
            - type: local-ssd
              disk_sizes: null
              disk_size_range: [68719476736, 618475290624]
              flavors:
                  - m1.medium
                  - m2.large
                  - m3.large
            - type: local-ssd
              disk_sizes: null
              disk_size_range: [103079215104, 618475290624]
              flavors:
                  - m2.xlarge
                  - m3.xlarge
            - type: local-ssd
              disk_sizes: null
              disk_size_range: [137438953472, 618475290624]
              flavors:
                  - m1.large
                  - m2.2xlarge
                  - m3.2xlarge
            - type: local-ssd
              disk_sizes: null
              disk_size_range: [171798691840, 618475290624]
              flavors:
                  - m2.3xlarge
                  - m3.3xlarge
            - type: local-ssd
              disk_sizes: null
              disk_size_range: [206158430208, 618475290624]
              flavors:
                  - m2.4xlarge
                  - m3.4xlarge
            - type: local-ssd
              disk_sizes: null
              disk_size_range: [274877906944, 618475290624]
              flavors:
                  - m1.xlarge
                  - m2.5xlarge
                  - m3.5xlarge
            - type: local-ssd
              disk_sizes: null
              disk_size_range: [343597383680, 618475290624]
              flavors:
                  - m2.6xlarge
                  - m3.6xlarge
            - type: local-ssd
              disk_sizes: null
              disk_size_range: [412316860416, 618475290624]
              flavors:
                  - m2.7xlarge
                  - m3.7xlarge
            - type: local-ssd
              disk_sizes: null
              disk_size_range: [481036337152, 962072674304]
              flavors:
                  - m3.8xlarge
            - type: local-ssd
              disk_sizes: null
              disk_size_range: [549755813888, 1099511627776]
              flavors:
                  - m3.9xlarge
            - type: local-ssd
              disk_sizes: null
              disk_size_range: [687194767360, 1374389534720]
              flavors:
                  - m3.10xlarge
            - type: local-ssd
              disk_sizes: null
              disk_size_range: [824633720832, 1649267441664]
              flavors:
                  - m3.11xlarge
        min_hosts: 1
        max_hosts: 7
        roles:
            - redis_cluster
    elasticsearch_cluster:
        flavor_types:
            - standard
            - memory-optimized
        disk_types:
            - type: local-ssd
              disk_sizes: null
              disk_size_range: [10737418240, 2199023255552]
              exclude_flavors:
                  s3.trustcustom_under_flag:
                      name: s3.trustcustom
                  s3.market_under_flag:
                      name: s3.5xmarket
                  db1.nano_substandard_performance_on_es:
                      name: db1.nano
                  db1.micro_substandard_performance_on_es:
                      name: db1.micro
            - type: local-hdd
              disk_sizes: [10995116277760]
              disk_size_range: null
              flavors:
                  - '[sm]2\..*'
            - type: local-hdd
              disk_sizes: [13743895347200]
              disk_size_range: null
              flavors:
                  - '[sm]3\..*'
        min_hosts: 1
        max_hosts: 10
        roles:
            - elasticsearch_cluster.datanode
            - role: elasticsearch_cluster.masternode
              disk_types:
                  - type: local-ssd
                    disk_sizes: null
                    disk_size_range: [10737418240, 2199023255552]
                    exclude_flavors:
                        s3.trustcustom_under_flag:
                            name: s3.trustcustom
                        s3.market_under_flag:
                            name: s3.5xmarket
                        db1.nano_substandard_performance_on_es:
                            name: db1.nano
                        db1.micro_substandard_performance_on_es:
                            name: db1.micro
              min_hosts: 3
              max_hosts: 5
    kafka_cluster:
        flavor_types:
            - standard
            - memory-optimized
        disk_types:
            - type: local-ssd
              disk_sizes: null
              disk_size_range: [10737418240, 2199023255552]
              exclude_flavors:
                  s3.trustcustom_under_flag:
                      name: s3.trustcustom
                  s3.market_under_flag:
                      name: s3.5xmarket
            - type: local-hdd
              disk_sizes: [10995116277760]
              disk_size_range: null
              flavors:
                  - s2.medium
                  - s2.large
                  - s2.xlarge
                  - s2.2xlarge
                  - s2.3xlarge
                  - s2.4xlarge
                  - m2.2xlarge
                  - m2.3xlarge
                  - m2.4xlarge
                  - m2.5xlarge
                  - m2.6xlarge
                  - m2.7xlarge
              min_hosts: 2
            - type: local-hdd
              disk_sizes: [13743895347200]
              disk_size_range: null
              flavors:
                  - s3.medium
                  - s3.large
                  - s3.xlarge
                  - s3.2xlarge
                  - s3.3xlarge
                  - s3.4xlarge
                  - s3.5xlarge
                  - s3.6xlarge
                  - m3.2xlarge
                  - m3.3xlarge
                  - m3.4xlarge
                  - m3.5xlarge
                  - m3.6xlarge
                  - m3.7xlarge
                  - m3.8xlarge
                  - m3.9xlarge
                  - m3.10xlarge
                  - m3.11xlarge
              min_hosts: 2
        min_hosts: 1
        max_hosts: 36
        roles:
            - kafka_cluster
            - role: zk
              disk_types:
                  - type: local-ssd
                    disk_sizes: null
                    disk_size_range: [10737418240, 107374182400]
                    exclude_flavors:
                        s3.trustcustom_under_flag:
                            name: s3.trustcustom
                        s3.market_under_flag:
                            name: s3.5xmarket
              min_hosts: 3
              max_hosts: 3
    greenplum_cluster:
        flavors:
            - s3.small
            - s3.medium
            - s3.large
            - s3.xlarge
            - s3.2xlarge
            - s3.3xlarge
            - s3.4xlarge
            - s3.5xlarge
            - s3.6xlarge
            - m3.medium
            - m3.large
            - m3.xlarge
            - m3.2xlarge
            - m3.3xlarge
            - m3.4xlarge
            - m3.5xlarge
            - m3.6xlarge
            - m3.7xlarge
            - m3.8xlarge
            - m3.9xlarge
            - m3.10xlarge
            - m3.11xlarge
        disk_types:
            - type: local-ssd
              disk_sizes: null
              disk_size_range: [10737418240, 4398046511104]
              flavor_types:
                - standard
                - memory-optimized
                - cpu-optimized
        roles:
            - role: greenplum_cluster.master_subcluster
              min_hosts: 1
              max_hosts: 2
            - role: greenplum_cluster.segment_subcluster
              min_hosts: 2
              max_hosts: 32
    opensearch_cluster:
        flavor_types:
            - standard
            - memory-optimized
        disk_types:
            - type: local-ssd
              disk_sizes: null
              disk_size_range: [10737418240, 2199023255552]
              exclude_flavors:
                  s3.trustcustom_under_flag:
                      name: s3.trustcustom
                  s3.market_under_flag:
                      name: s3.5xmarket
                  db1.nano_substandard_performance_on_es:
                      name: db1.nano
                  db1.micro_substandard_performance_on_es:
                      name: db1.micro
            - type: local-hdd
              disk_sizes: [10995116277760]
              disk_size_range: null
              flavors:
                  - '[sm]2\..*'
            - type: local-hdd
              disk_sizes: [13743895347200]
              disk_size_range: null
              flavors:
                  - '[sm]3\..*'
        min_hosts: 1
        max_hosts: 10
        roles:
            - opensearch_cluster.datanode
            - role: opensearch_cluster.masternode
              disk_types:
                  - type: local-ssd
                    disk_sizes: null
                    disk_size_range: [10737418240, 2199023255552]
                    exclude_flavors:
                        s3.trustcustom_under_flag:
                            name: s3.trustcustom
                        s3.market_under_flag:
                            name: s3.5xmarket
                        db1.nano_substandard_performance_on_es:
                            name: db1.nano
                        db1.micro_substandard_performance_on_es:
                            name: db1.micro
              min_hosts: 3
              max_hosts: 5
