{
    "name": "Managed Service for Apache Kafka\u00ae - Cluster overview", 
    "service": "managed-kafka", 
    "updatedBy": "bfb1t5bmm8t5a77qhvro", 
    "parametrization": {
        "parameters": [
            {
                "labelValues": {
                    "folderId": "$FOLDER_ID", 
                    "labelKey": "resource_id"
                }, 
                "name": "resource_id", 
                "title": "Cluster ID"
            }
        ], 
        "selectors": "{service='managed-kafka', resource_type='cluster'}"
    }, 
    "version": "11", 
    "createdBy": "bfb7cigddgo5r4kj7k7t", 
    "updatedAt": "2021-06-08T13:17:09.986Z", 
    "widgets": [
        {
            "position": {
                "x": "12", 
                "w": "12", 
                "h": "8"
            }, 
            "chart": {
                "title": "Offline partitions", 
                "nameHidingSettings": {}, 
                "visualizationSettings": {
                    "colorSchemeSettings": {
                        "auto": {}
                    }, 
                    "yaxisSettings": {
                        "right": {
                            "type": "YAXIS_TYPE_LINEAR", 
                            "unitFormat": "UNIT_NONE"
                        }, 
                        "left": {
                            "type": "YAXIS_TYPE_LINEAR", 
                            "unitFormat": "UNIT_COUNT"
                        }
                    }, 
                    "interpolate": "INTERPOLATE_LINEAR"
                }, 
                "queries": {
                    "targets": [
                        {
                            "query": "series_sum(\"partitions\", \"kafka_cluster_Partition_UnderMinIsr\"{folderId=\"{{folderId}}\", service=\"managed-kafka\", resource_type=\"cluster\", resource_id=\"{{resource_id}}\"})"
                        }, 
                        {
                            "query": "series_sum(\"topic\", \"kafka_server_ReplicaManager_UnderReplicatedPartitions\"{folderId=\"{{folderId}}\", service=\"managed-kafka\", resource_type=\"cluster\", resource_id=\"{{resource_id}}\"})"
                        }, 
                        {
                            "query": "\"kafka_server_ReplicaManager_OfflineReplicaCount\"{folderId=\"{{folderId}}\", service=\"managed-kafka\", resource_type=\"cluster\", resource_id=\"{{resource_id}}\"}"
                        }
                    ], 
                    "downsampling": {}
                }, 
                "seriesOverrides": [
                    {
                        "name": "line", 
                        "settings": {
                            "name": "Under min ISR partitions"
                        }
                    }, 
                    {
                        "name": "kafka_server_ReplicaManager_UnderReplicatedPartitions", 
                        "settings": {
                            "name": "Underreplicated partitions"
                        }
                    }, 
                    {
                        "name": "kafka_server_ReplicaManager_UnderReplicatedPartitions|", 
                        "settings": {
                            "name": "Under min ISR partitions"
                        }
                    }, 
                    {
                        "name": "|topic", 
                        "settings": {
                            "name": "Underreplicated partitions"
                        }
                    }, 
                    {
                        "name": "kafka_server_ReplicaManager_OfflineReplicaCount|", 
                        "settings": {
                            "name": "Offline replicas"
                        }
                    }, 
                    {
                        "targetIndex": "0", 
                        "settings": {
                            "yaxisPosition": "YAXIS_POSITION_LEFT"
                        }
                    }, 
                    {
                        "targetIndex": "1", 
                        "settings": {
                            "yaxisPosition": "YAXIS_POSITION_LEFT"
                        }
                    }, 
                    {
                        "targetIndex": "2", 
                        "settings": {
                            "yaxisPosition": "YAXIS_POSITION_LEFT"
                        }
                    }
                ], 
                "id": "hkcjhohmu"
            }
        }, 
        {
            "position": {
                "x": "24", 
                "w": "12", 
                "h": "8"
            }, 
            "chart": {
                "title": "Errors", 
                "nameHidingSettings": {}, 
                "visualizationSettings": {
                    "colorSchemeSettings": {
                        "auto": {}
                    }, 
                    "yaxisSettings": {
                        "right": {
                            "type": "YAXIS_TYPE_LINEAR", 
                            "unitFormat": "UNIT_NONE"
                        }, 
                        "left": {
                            "type": "YAXIS_TYPE_LINEAR", 
                            "unitFormat": "UNIT_COUNT"
                        }
                    }, 
                    "interpolate": "INTERPOLATE_LINEAR"
                }, 
                "queries": {
                    "targets": [
                        {
                            "query": "derivative(\"kafka_network_RequestMetrics_Errors\"{folderId=\"{{folderId}}\", service=\"managed-kafka\", resource_type=\"cluster\", resource_id=\"{{resource_id}}\", error!=\" NONE\"})"
                        }
                    ], 
                    "downsampling": {}
                }, 
                "seriesOverrides": [
                    {
                        "targetIndex": "0", 
                        "settings": {
                            "yaxisPosition": "YAXIS_POSITION_LEFT"
                        }
                    }
                ], 
                "id": "ybtv16t3l"
            }
        }, 
        {
            "position": {
                "h": "8", 
                "w": "12"
            }, 
            "chart": {
                "title": "Alive brokers", 
                "nameHidingSettings": {}, 
                "visualizationSettings": {
                    "colorSchemeSettings": {
                        "auto": {}
                    }, 
                    "yaxisSettings": {
                        "right": {
                            "type": "YAXIS_TYPE_LINEAR", 
                            "unitFormat": "UNIT_NONE"
                        }, 
                        "left": {
                            "zeroPrecision": true, 
                            "type": "YAXIS_TYPE_LINEAR", 
                            "unitFormat": "UNIT_COUNT", 
                            "min": "0"
                        }
                    }, 
                    "interpolate": "INTERPOLATE_LINEAR"
                }, 
                "queries": {
                    "targets": [
                        {
                            "query": "\"kafka_is_alive\"{folderId=\"{{folderId}}\", service=\"managed-kafka\", resource_type=\"cluster\", resource_id=\"{{resource_id}}\"}"
                        }
                    ], 
                    "downsampling": {}
                }, 
                "seriesOverrides": [
                    {
                        "name": "kafka_is_alive", 
                        "settings": {
                            "name": "Alive"
                        }
                    }, 
                    {
                        "targetIndex": "0", 
                        "settings": {
                            "yaxisPosition": "YAXIS_POSITION_LEFT"
                        }
                    }
                ], 
                "id": "rc4xxefr3"
            }
        }, 
        {
            "position": {
                "y": "8", 
                "h": "8", 
                "w": "12"
            }, 
            "chart": {
                "title": "Free space", 
                "nameHidingSettings": {}, 
                "visualizationSettings": {
                    "colorSchemeSettings": {
                        "auto": {}
                    }, 
                    "yaxisSettings": {
                        "right": {
                            "type": "YAXIS_TYPE_LINEAR", 
                            "unitFormat": "UNIT_NONE"
                        }, 
                        "left": {
                            "type": "YAXIS_TYPE_LINEAR", 
                            "unitFormat": "UNIT_BYTES_SI"
                        }
                    }, 
                    "type": "VISUALIZATION_TYPE_AREA", 
                    "stack": true, 
                    "interpolate": "INTERPOLATE_LINEAR"
                }, 
                "queries": {
                    "targets": [
                        {
                            "query": "\"disk.free_bytes\"{folderId=\"{{folderId}}\", service=\"managed-kafka\", resource_id=\"{{resource_id}}\", resource_type=\"cluster\", dc=\"nodc\"}"
                        }
                    ], 
                    "downsampling": {}
                }, 
                "seriesOverrides": [
                    {
                        "name": "disk.free_bytes", 
                        "settings": {
                            "name": "Disk free bytes"
                        }
                    }, 
                    {
                        "name": "disk.used_bytes", 
                        "settings": {
                            "name": "Disk used bytes"
                        }
                    }, 
                    {
                        "targetIndex": "0", 
                        "settings": {
                            "yaxisPosition": "YAXIS_POSITION_LEFT"
                        }
                    }
                ], 
                "id": "3x5e3obrt"
            }
        }, 
        {
            "position": {
                "y": "8", 
                "x": "12", 
                "w": "12", 
                "h": "8"
            }, 
            "chart": {
                "title": "Messages in", 
                "nameHidingSettings": {}, 
                "visualizationSettings": {
                    "colorSchemeSettings": {
                        "auto": {}
                    }, 
                    "yaxisSettings": {
                        "right": {
                            "type": "YAXIS_TYPE_LINEAR", 
                            "unitFormat": "UNIT_NONE"
                        }, 
                        "left": {
                            "type": "YAXIS_TYPE_LINEAR", 
                            "unitFormat": "UNIT_COUNTS_PER_SECOND"
                        }
                    }, 
                    "interpolate": "INTERPOLATE_LINEAR"
                }, 
                "queries": {
                    "targets": [
                        {
                            "query": "non_negative_derivative(\"kafka_server_BrokerTopicMetrics_MessagesIn\"{folderId=\"{{folderId}}\", service=\"managed-kafka\", resource_type=\"cluster\", resource_id=\"{{resource_id}}\", topic=\"-\"})"
                        }
                    ], 
                    "downsampling": {}
                }, 
                "seriesOverrides": [
                    {
                        "name": "kafka_server_BrokerTopicMetrics_MessagesIn", 
                        "settings": {
                            "name": "Messages In / sec"
                        }
                    }, 
                    {
                        "targetIndex": "0", 
                        "settings": {
                            "yaxisPosition": "YAXIS_POSITION_LEFT"
                        }
                    }
                ], 
                "id": "eonre62wa"
            }
        }, 
        {
            "position": {
                "y": "8", 
                "x": "24", 
                "w": "12", 
                "h": "8"
            }, 
            "chart": {
                "title": "Bytes In/Out", 
                "nameHidingSettings": {}, 
                "visualizationSettings": {
                    "colorSchemeSettings": {
                        "auto": {}
                    }, 
                    "yaxisSettings": {
                        "right": {
                            "type": "YAXIS_TYPE_LINEAR", 
                            "unitFormat": "UNIT_NONE"
                        }, 
                        "left": {
                            "type": "YAXIS_TYPE_LINEAR", 
                            "unitFormat": "UNIT_BYTES_SI_PER_SECOND"
                        }
                    }, 
                    "interpolate": "INTERPOLATE_LINEAR"
                }, 
                "queries": {
                    "targets": [
                        {
                            "query": "non_negative_derivative(\"kafka_server_BrokerTopicMetrics_BytesIn\"{folderId=\"{{folderId}}\", service=\"managed-kafka\", resource_type=\"cluster\", resource_id=\"{{resource_id}}\", topic=\"-\"})"
                        }, 
                        {
                            "textMode": true, 
                            "query": "derivative(\"kafka_server_BrokerTopicMetrics_BytesOut\"{folderId=\"{{folderId}}\", service=\"managed-kafka\", resource_type=\"cluster\", resource_id=\"{{resource_id}}\", topic=\"-\"})"
                        }
                    ], 
                    "downsampling": {}
                }, 
                "seriesOverrides": [
                    {
                        "name": "kafka_server_BrokerTopicMetrics_BytesIn", 
                        "settings": {
                            "name": "Bytes in / sec"
                        }
                    }, 
                    {
                        "name": "kafka_server_BrokerTopicMetrics_BytesOut", 
                        "settings": {
                            "name": "Bytes out / sec"
                        }
                    }, 
                    {
                        "targetIndex": "0", 
                        "settings": {
                            "yaxisPosition": "YAXIS_POSITION_LEFT"
                        }
                    }, 
                    {
                        "targetIndex": "1", 
                        "settings": {
                            "yaxisPosition": "YAXIS_POSITION_LEFT"
                        }
                    }
                ], 
                "id": "2z347q51d"
            }
        }, 
        {
            "position": {
                "y": "24", 
                "h": "8", 
                "w": "12"
            }, 
            "chart": {
                "title": "Replication lag [messages]", 
                "nameHidingSettings": {}, 
                "visualizationSettings": {
                    "colorSchemeSettings": {
                        "auto": {}
                    }, 
                    "yaxisSettings": {
                        "right": {
                            "type": "YAXIS_TYPE_LINEAR", 
                            "unitFormat": "UNIT_NONE"
                        }, 
                        "left": {
                            "type": "YAXIS_TYPE_LINEAR", 
                            "unitFormat": "UNIT_COUNT"
                        }
                    }, 
                    "interpolate": "INTERPOLATE_LINEAR"
                }, 
                "queries": {
                    "targets": [
                        {
                            "query": "\"kafka_server_ReplicaFetcherManager_MaxLag\"{folderId=\"{{folderId}}\", service=\"managed-kafka\", resource_type=\"cluster\", resource_id=\"{{resource_id}}\", clientId=\"Replica\"}"
                        }
                    ], 
                    "downsampling": {}
                }, 
                "seriesOverrides": [
                    {
                        "name": "kafka_server_ReplicaFetcherManager_MaxLag", 
                        "settings": {
                            "name": "Replication lag"
                        }
                    }, 
                    {
                        "targetIndex": "0", 
                        "settings": {
                            "yaxisPosition": "YAXIS_POSITION_LEFT"
                        }
                    }
                ], 
                "id": "lylgml8bu"
            }
        }, 
        {
            "position": {
                "y": "16", 
                "x": "12", 
                "w": "12", 
                "h": "8"
            }, 
            "chart": {
                "title": "Replicated bytes", 
                "nameHidingSettings": {}, 
                "visualizationSettings": {
                    "colorSchemeSettings": {
                        "auto": {}
                    }, 
                    "yaxisSettings": {
                        "right": {
                            "type": "YAXIS_TYPE_LINEAR", 
                            "unitFormat": "UNIT_NONE"
                        }, 
                        "left": {
                            "type": "YAXIS_TYPE_LINEAR", 
                            "unitFormat": "UNIT_BYTES_SI_PER_SECOND"
                        }
                    }, 
                    "interpolate": "INTERPOLATE_LINEAR"
                }, 
                "queries": {
                    "targets": [
                        {
                            "query": "non_negative_derivative(\"kafka_server_BrokerTopicMetrics_ReplicationBytesIn\"{folderId=\"{{folderId}}\", service=\"managed-kafka\", resource_type=\"cluster\", resource_id=\"{{resource_id}}\"})"
                        }
                    ], 
                    "downsampling": {}
                }, 
                "seriesOverrides": [
                    {
                        "name": "kafka_server_BrokerTopicMetrics_ReplicationBytesIn", 
                        "settings": {
                            "name": "Replication bytes / sec"
                        }
                    }, 
                    {
                        "targetIndex": "0", 
                        "settings": {
                            "yaxisPosition": "YAXIS_POSITION_LEFT"
                        }
                    }
                ], 
                "id": "418w9i7wy"
            }
        }, 
        {
            "position": {
                "y": "16", 
                "x": "24", 
                "w": "12", 
                "h": "8"
            }, 
            "chart": {
                "title": "Replicas", 
                "nameHidingSettings": {}, 
                "visualizationSettings": {
                    "colorSchemeSettings": {
                        "auto": {}
                    }, 
                    "yaxisSettings": {
                        "right": {
                            "type": "YAXIS_TYPE_LINEAR", 
                            "unitFormat": "UNIT_NONE"
                        }, 
                        "left": {
                            "type": "YAXIS_TYPE_LINEAR", 
                            "unitFormat": "UNIT_COUNT"
                        }
                    }, 
                    "interpolate": "INTERPOLATE_LINEAR"
                }, 
                "queries": {
                    "targets": [
                        {
                            "query": "series_sum(\"kafka_cluster_Partition_ReplicasCount\"{folderId=\"{{folderId}}\", service=\"managed-kafka\", resource_type=\"cluster\", resource_id=\"{{resource_id}}\"})"
                        }
                    ], 
                    "downsampling": {}
                }, 
                "seriesOverrides": [
                    {
                        "name": "line", 
                        "settings": {
                            "name": "Replicas count"
                        }
                    }, 
                    {
                        "targetIndex": "0", 
                        "settings": {
                            "yaxisPosition": "YAXIS_POSITION_LEFT"
                        }
                    }
                ], 
                "id": "8qbzf3k63"
            }
        }, 
        {
            "position": {
                "y": "24", 
                "x": "24", 
                "w": "12", 
                "h": "8"
            }, 
            "chart": {
                "title": "Requests", 
                "nameHidingSettings": {}, 
                "visualizationSettings": {
                    "colorSchemeSettings": {
                        "auto": {}
                    }, 
                    "yaxisSettings": {
                        "right": {
                            "type": "YAXIS_TYPE_LINEAR", 
                            "unitFormat": "UNIT_NONE"
                        }, 
                        "left": {
                            "type": "YAXIS_TYPE_LINEAR", 
                            "unitFormat": "UNIT_REQUESTS_PER_SECOND"
                        }
                    }, 
                    "interpolate": "INTERPOLATE_LINEAR"
                }, 
                "queries": {
                    "targets": [
                        {
                            "query": "non_negative_derivative(alias(series_sum(\"request\", \"kafka_network_RequestMetrics_Requests\"{folderId=\"{{folderId}}\", service=\"managed-kafka\", resource_type=\"cluster\", resource_id=\"{{resource_id}}\"}), \"{{request}}\"))"
                        }
                    ], 
                    "downsampling": {}
                }, 
                "seriesOverrides": [
                    {
                        "targetIndex": "0", 
                        "settings": {
                            "yaxisPosition": "YAXIS_POSITION_LEFT"
                        }
                    }
                ], 
                "id": "ylsnvoa7o"
            }
        }, 
        {
            "position": {
                "y": "24", 
                "x": "12", 
                "w": "12", 
                "h": "8"
            }, 
            "chart": {
                "title": "Request time (0.95 quantile)", 
                "nameHidingSettings": {}, 
                "visualizationSettings": {
                    "colorSchemeSettings": {
                        "auto": {}
                    }, 
                    "yaxisSettings": {
                        "right": {
                            "type": "YAXIS_TYPE_LINEAR", 
                            "unitFormat": "UNIT_NONE"
                        }, 
                        "left": {
                            "type": "YAXIS_TYPE_LINEAR", 
                            "unitFormat": "UNIT_MILLISECONDS"
                        }
                    }, 
                    "interpolate": "INTERPOLATE_LINEAR"
                }, 
                "queries": {
                    "targets": [
                        {
                            "query": "series_avg(\"request\", alias(drop_below(\"kafka_network_RequestMetrics_TotalTimeMs\"{folderId=\"{{folderId}}\", service=\"managed-kafka\", quantile=\"0.95\", resource_type=\"cluster\", resource_id=\"{{resource_id}}\"}, 1), \"{{request}}\"))"
                        }
                    ], 
                    "downsampling": {}
                }, 
                "seriesOverrides": [
                    {
                        "targetIndex": "0", 
                        "settings": {
                            "yaxisPosition": "YAXIS_POSITION_LEFT"
                        }
                    }
                ], 
                "id": "gdl6rxvny"
            }
        }, 
        {
            "position": {
                "y": "16", 
                "h": "8", 
                "w": "12"
            }, 
            "chart": {
                "description": "Top 5 topics by size", 
                "title": "Top 5 topics by size", 
                "nameHidingSettings": {}, 
                "visualizationSettings": {
                    "colorSchemeSettings": {
                        "auto": {}
                    }, 
                    "yaxisSettings": {
                        "right": {
                            "type": "YAXIS_TYPE_LINEAR", 
                            "unitFormat": "UNIT_NONE"
                        }, 
                        "left": {
                            "type": "YAXIS_TYPE_LINEAR", 
                            "unitFormat": "UNIT_BYTES_SI"
                        }
                    }, 
                    "interpolate": "INTERPOLATE_LINEAR"
                }, 
                "queries": {
                    "targets": [
                        {
                            "query": "top_max(5, series_sum(\"topic\", \"kafka_log_Log_Size\"{folderId=\"{{folderId}}\", service=\"managed-kafka\", resource_type=\"cluster\", resource_id=\"{{resource_id}}\"}))"
                        }
                    ], 
                    "downsampling": {}
                }, 
                "seriesOverrides": [
                    {
                        "targetIndex": "0", 
                        "settings": {
                            "yaxisPosition": "YAXIS_POSITION_LEFT"
                        }
                    }
                ], 
                "id": "y88e1e8e2"
            }
        }
    ], 
    "id": "biidsijh4gd3du63prlc", 
    "createdAt": "2021-01-18T11:59:29.104Z"
}
