{
    "createdAt": "2020-12-03T10:11:39.429Z",
    "createdBy": "bfbg0m5sh75obrg7qmlm",
    "id": "biive9ugnlr9b4066mrm",
    "name": "Managed Redis",
    "parametrization": {
        "parameters": [
            {
                "labelValues": {
                    "folderId": "$FOLDER_ID",
                    "labelKey": "resource_id"
                },
                "name": "resource_id",
                "title": "Cluster ID"
            }
        ],
        "selectors": "{service='managed-redis', resource_id='*'}"
    },
    "service": "managed-redis",
    "updatedAt": "2021-03-31T08:59:26.146Z",
    "updatedBy": "bfbouoi6u4mem3f58fgb",
    "version": "36",
    "widgets": [
        {
            "chart": {
                "id": "1",
                "queries": {
                    "targets": [
                        {
                            "query": "alias(\"redis_connected_clients\"{folderId='*', service='managed-redis', resource_type='cluster', resource_id='{{resource_id}}'}, \"{{host}}\")"
                        }
                    ]
                },
                "title": "Connected Clients",
                "visualizationSettings": {
                    "colorSchemeSettings": {
                        "auto": {}
                    },
                    "interpolate": "INTERPOLATE_LINEAR",
                    "type": "VISUALIZATION_TYPE_LINE",
                    "yaxisSettings": {
                        "left": {
                            "type": "YAXIS_TYPE_LINEAR",
                            "unitFormat": "UNIT_COUNT"
                        }
                    }
                }
            },
            "position": {
                "h": "8",
                "w": "12"
            }
        },
        {
            "chart": {
                "id": "2",
                "queries": {
                    "targets": [
                        {
                            "query": "alias(\"redis_instantaneous_ops_per_sec\"{folderId='*', service='managed-redis', resource_type='cluster', resource_id='{{resource_id}}'}, \"{{host}}\")"
                        }
                    ]
                },
                "title": "Commands Processed",
                "visualizationSettings": {
                    "colorSchemeSettings": {
                        "auto": {}
                    },
                    "interpolate": "INTERPOLATE_LINEAR",
                    "type": "VISUALIZATION_TYPE_LINE",
                    "yaxisSettings": {
                        "left": {
                            "type": "YAXIS_TYPE_LINEAR",
                            "unitFormat": "UNIT_COUNTS_PER_SECOND"
                        }
                    }
                }
            },
            "position": {
                "h": "8",
                "w": "12",
                "x": "12"
            }
        },
        {
            "chart": {
                "id": "3",
                "queries": {
                    "targets": [
                        {
                            "query": "alias(\"redis_is_alive\"{folderId='*', service='managed-redis', resource_type='cluster', resource_id='{{resource_id}}'}, \"{{host}}\")"
                        }
                    ]
                },
                "title": "Is Alive",
                "visualizationSettings": {
                    "colorSchemeSettings": {
                        "auto": {}
                    },
                    "stack": true,
                    "type": "VISUALIZATION_TYPE_AREA",
                    "yaxisSettings": {
                        "left": {
                            "type": "YAXIS_TYPE_LINEAR"
                        }
                    }
                }
            },
            "position": {
                "h": "8",
                "w": "12",
                "x": "24"
            }
        },
        {
            "chart": {
                "id": "4",
                "queries": {
                    "targets": [
                        {
                            "query": "alias(\"redis_used_memory_rss\"{folderId='*', service='managed-redis', resource_type='cluster', resource_id='{{resource_id}}'}, \"used_memory_rss:{{host}}\")"
                        },
                        {
                            "query": "alias(\"redis_memory_limit\"{folderId='*', service='managed-redis', resource_type='cluster', resource_id='{{resource_id}}'}, \"memory_limit:{{host}}\")"
                        }
                    ]
                },
                "title": "Outer memory limit",
                "visualizationSettings": {
                    "colorSchemeSettings": {
                        "auto": {}
                    },
                    "interpolate": "INTERPOLATE_LINEAR",
                    "type": "VISUALIZATION_TYPE_LINE",
                    "yaxisSettings": {
                        "left": {
                            "type": "YAXIS_TYPE_LINEAR",
                            "unitFormat": "UNIT_BYTES_SI"
                        }
                    }
                }
            },
            "position": {
                "h": "8",
                "w": "12",
                "y": "8"
            }
        },
        {
            "chart": {
                "id": "5",
                "queries": {
                    "targets": [
                        {
                            "query": "alias(\"redis_used_memory\"{folderId='*', service='managed-redis', resource_type='cluster', resource_id='{{resource_id}}'}, \"used_memory:{{host}}\")"
                        },
                        {
                            "query": "alias(\"redis_maxmemory\"{folderId='*', service='managed-redis', resource_type='cluster', resource_id='{{resource_id}}'}, \"maxmemory:{{host}}\")"
                        }
                    ]
                },
                "title": "Inner Memory limit",
                "visualizationSettings": {
                    "colorSchemeSettings": {
                        "auto": {}
                    },
                    "interpolate": "INTERPOLATE_LINEAR",
                    "type": "VISUALIZATION_TYPE_LINE",
                    "yaxisSettings": {
                        "left": {
                            "type": "YAXIS_TYPE_LINEAR",
                            "unitFormat": "UNIT_BYTES_SI"
                        }
                    }
                }
            },
            "position": {
                "h": "8",
                "w": "12",
                "x": "12",
                "y": "8"
            }
        },
        {
            "chart": {
                "id": "6",
                "queries": {
                    "targets": [
                        {
                            "query": "alias(\"redis_is_master\"{folderId='*', service='managed-redis', resource_type='cluster', resource_id='{{resource_id}}'}, \"{{host}}\")"
                        }
                    ]
                },
                "title": "Is Master",
                "visualizationSettings": {
                    "colorSchemeSettings": {
                        "auto": {}
                    },
                    "stack": true,
                    "type": "VISUALIZATION_TYPE_AREA",
                    "yaxisSettings": {
                        "left": {
                            "type": "YAXIS_TYPE_LINEAR"
                        }
                    }
                }
            },
            "position": {
                "h": "8",
                "w": "12",
                "x": "24",
                "y": "8"
            }
        },
        {
            "chart": {
                "id": "7",
                "queries": {
                    "targets": [
                        {
                            "query": "alias(\"redis_oom_count\"{folderId='*', service='managed-redis', resource_type='cluster', resource_id='{{resource_id}}'}, \"{{host}}\")"
                        }
                    ]
                },
                "title": "Redis-server OOM kills",
                "visualizationSettings": {
                    "colorSchemeSettings": {
                        "auto": {}
                    },
                    "type": "VISUALIZATION_TYPE_LINE",
                    "yaxisSettings": {
                        "left": {
                            "type": "YAXIS_TYPE_LINEAR",
                            "unitFormat": "UNIT_COUNT"
                        }
                    }
                }
            },
            "position": {
                "h": "8",
                "w": "12",
                "y": "16"
            }
        },
        {
            "chart": {
                "id": "8",
                "queries": {
                    "targets": [
                        {
                            "query": "alias(series_sum(\"redis_used_memory_dataset\"{folderId='*', service='managed-redis', resource_type='cluster', resource_id='{{resource_id}}', node='master'}), \"used_memory_dataset\")"
                        },
                        {
                            "query": "alias(series_sum(\"redis_used_memory_startup\"{folderId='*', service='managed-redis', resource_type='cluster', resource_id='{{resource_id}}', node='master'}), \"used_memory_startup\")"
                        },
                        {
                            "query": "alias(series_sum(\"redis_mem_replication_backlog\"{folderId='*', service='managed-redis', resource_type='cluster', resource_id='{{resource_id}}', node='master'}), \"mem_replication_backlog\")"
                        },
                        {
                            "query": "alias(series_sum(\"redis_mem_clients_slaves\"{folderId='*', service='managed-redis', resource_type='cluster', resource_id='{{resource_id}}', node='master'}), \"mem_clients_slaves\")"
                        },
                        {
                            "query": "alias(series_sum(\"redis_mem_clients_normal\"{folderId='*', service='managed-redis', resource_type='cluster', resource_id='{{resource_id}}', node='master'}), \"mem_clients_normal\")"
                        },
                        {
                            "query": "alias(series_sum(\"redis_mem_aof_buffer\"{folderId='*', service='managed-redis', resource_type='cluster', resource_id='{{resource_id}}', node='master'}), \"mem_aof_buffer\")"
                        },
                        {
                            "query": "alias(series_sum(\"redis_used_memory_scripts\"{folderId='*', service='managed-redis', resource_type='cluster', resource_id='{{resource_id}}', node='master'}), \"used_memory_scripts\")"
                        },
                        {
                            "query": "alias(series_sum(\"redis_db_hashtable_overhead\"{folderId='*', service='managed-redis', resource_type='cluster', resource_id='{{resource_id}}', node='master'}), \"db_hashtable_overhead\")"
                        }
                    ]
                },
                "title": "Redis Used Memory on Masters",
                "visualizationSettings": {
                    "colorSchemeSettings": {
                        "auto": {}
                    },
                    "interpolate": "INTERPOLATE_LINEAR",
                    "stack": true,
                    "type": "VISUALIZATION_TYPE_AREA",
                    "yaxisSettings": {
                        "left": {
                            "type": "YAXIS_TYPE_LINEAR",
                            "unitFormat": "UNIT_BYTES_SI"
                        }
                    }
                }
            },
            "position": {
                "h": "8",
                "w": "12",
                "x": "12",
                "y": "16"
            }
        },
        {
            "chart": {
                "id": "9",
                "queries": {
                    "targets": [
                        {
                            "query": "alias(\"redis_master_last_io_seconds_ago\"{folderId='*', service='managed-redis', resource_type='cluster', resource_id='{{resource_id}}'}, \"{{host}}\")"
                        }
                    ]
                },
                "title": "Replication Lag",
                "visualizationSettings": {
                    "colorSchemeSettings": {
                        "auto": {}
                    },
                    "interpolate": "INTERPOLATE_LINEAR",
                    "type": "VISUALIZATION_TYPE_LINE",
                    "yaxisSettings": {
                        "left": {
                            "type": "YAXIS_TYPE_LINEAR",
                            "unitFormat": "UNIT_SECONDS"
                        }
                    }
                }
            },
            "position": {
                "h": "8",
                "w": "12",
                "x": "24",
                "y": "16"
            }
        },
        {
            "chart": {
                "id": "10",
                "queries": {
                    "targets": [
                        {
                            "query": "alias(\"redis_dbsize\"{folderId='*', service='managed-redis', resource_type='cluster', resource_id='{{resource_id}}'}, \"{{host}}\")"
                        }
                    ]
                },
                "title": "DB keys",
                "visualizationSettings": {
                    "colorSchemeSettings": {
                        "auto": {}
                    },
                    "interpolate": "INTERPOLATE_LINEAR",
                    "type": "VISUALIZATION_TYPE_LINE",
                    "yaxisSettings": {
                        "left": {
                            "type": "YAXIS_TYPE_LINEAR",
                            "unitFormat": "UNIT_COUNT"
                        }
                    }
                }
            },
            "position": {
                "h": "8",
                "w": "12",
                "y": "24"
            }
        },
        {
            "chart": {
                "id": "11",
                "queries": {
                    "targets": [
                        {
                            "query": "alias(series_sum(\"redis_used_memory_dataset\"{folderId='*', service='managed-redis', resource_type='cluster', resource_id='{{resource_id}}', node='replica'}), \"used_memory_dataset\")"
                        },
                        {
                            "query": "alias(series_sum(\"redis_used_memory_startup\"{folderId='*', service='managed-redis', resource_type='cluster', resource_id='{{resource_id}}', node='replica'}), \"used_memory_startup\")"
                        },
                        {
                            "query": "alias(series_sum(\"redis_mem_replication_backlog\"{folderId='*', service='managed-redis', resource_type='cluster', resource_id='{{resource_id}}', node='replica'}), \"mem_replication_backlog\")"
                        },
                        {
                            "query": "alias(series_sum(\"redis_mem_clients_slaves\"{folderId='*', service='managed-redis', resource_type='cluster', resource_id='{{resource_id}}', node='replica'}), \"mem_clients_slaves\")"
                        },
                        {
                            "query": "alias(series_sum(\"redis_mem_clients_normal\"{folderId='*', service='managed-redis', resource_type='cluster', resource_id='{{resource_id}}', node='replica'}), \"mem_clients_normal\")"
                        },
                        {
                            "query": "alias(series_sum(\"redis_mem_aof_buffer\"{folderId='*', service='managed-redis', resource_type='cluster', resource_id='{{resource_id}}', node='replica'}), \"mem_aof_buffer\")"
                        },
                        {
                            "query": "alias(series_sum(\"redis_used_memory_scripts\"{folderId='*', service='managed-redis', resource_type='cluster', resource_id='{{resource_id}}', node='replica'}), \"used_memory_scripts\")"
                        },
                        {
                            "query": "alias(series_sum(\"redis_db_hashtable_overhead\"{folderId='*', service='managed-redis', resource_type='cluster', resource_id='{{resource_id}}', node='replica'}), \"db_hashtable_overhead\")"
                        }
                    ]
                },
                "title": "Redis Used Memory on Replicas",
                "visualizationSettings": {
                    "colorSchemeSettings": {
                        "auto": {}
                    },
                    "interpolate": "INTERPOLATE_LINEAR",
                    "stack": true,
                    "type": "VISUALIZATION_TYPE_AREA",
                    "yaxisSettings": {
                        "left": {
                            "type": "YAXIS_TYPE_LINEAR",
                            "unitFormat": "UNIT_BYTES_SI"
                        }
                    }
                }
            },
            "position": {
                "h": "8",
                "w": "12",
                "x": "12",
                "y": "24"
            }
        },
        {
            "chart": {
                "id": "12",
                "queries": {
                    "targets": [
                        {
                            "query": "alias(\"redis_repl_backlog_size\"{folderId='*', service='managed-redis', resource_type='cluster', resource_id='{{resource_id}}'}, \"repl_backlog_size:{{host}}\")"
                        },
                        {
                            "query": "alias(\"redis_repl_backlog_histlen\"{folderId='*', service='managed-redis', resource_type='cluster', resource_id='{{resource_id}}'}, \"repl_backlog_histlen:{{host}}\")"
                        }
                    ]
                },
                "title": "Replication buffer size",
                "visualizationSettings": {
                    "colorSchemeSettings": {
                        "auto": {}
                    },
                    "interpolate": "INTERPOLATE_LINEAR",
                    "type": "VISUALIZATION_TYPE_LINE",
                    "yaxisSettings": {
                        "left": {
                            "type": "YAXIS_TYPE_LINEAR",
                            "unitFormat": "UNIT_BYTES_SI"
                        }
                    }
                }
            },
            "position": {
                "h": "8",
                "w": "12",
                "x": "24",
                "y": "24"
            }
        },
        {
            "chart": {
                "id": "13",
                "queries": {
                    "targets": [
                        {
                            "query": "alias(\"redis_evicted_keys\"{folderId='*', service='managed-redis', resource_type='cluster', resource_id='{{resource_id}}'}, \"{{host}}\")"
                        }
                    ]
                },
                "title": "Evicted keys",
                "visualizationSettings": {
                    "colorSchemeSettings": {
                        "auto": {}
                    },
                    "interpolate": "INTERPOLATE_LINEAR",
                    "type": "VISUALIZATION_TYPE_LINE",
                    "yaxisSettings": {
                        "left": {
                            "type": "YAXIS_TYPE_LINEAR",
                            "unitFormat": "UNIT_COUNT"
                        }
                    }
                }
            },
            "position": {
                "h": "8",
                "w": "12",
                "y": "32"
            }
        },
        {
            "chart": {
                "id": "14",
                "queries": {
                    "targets": [
                        {
                            "query": "alias(\"redis_client_recent_max_output_buffer\"{folderId='*', service='managed-redis', resource_type='cluster', resource_id='{{resource_id}}'}, \"buffer:{{host}}\")"
                        },
                        {
                            "query": "alias(\"redis_client_output_normal_hard\"{folderId='*', service='managed-redis', resource_type='cluster', resource_id='{{resource_id}}'}, \"hard_limit:{{host}}\")"
                        },
                        {
                            "query": "alias(\"redis_client_output_normal_soft\"{folderId='*', service='managed-redis', resource_type='cluster', resource_id='{{resource_id}}'}, \"soft_limit:{{host}}\")"
                        }
                    ]
                },
                "title": "Client recent max output buffer size",
                "visualizationSettings": {
                    "colorSchemeSettings": {
                        "auto": {}
                    },
                    "interpolate": "INTERPOLATE_LINEAR",
                    "type": "VISUALIZATION_TYPE_LINE",
                    "yaxisSettings": {
                        "left": {
                            "type": "YAXIS_TYPE_LINEAR",
                            "unitFormat": "UNIT_BYTES_SI"
                        }
                    }
                }
            },
            "position": {
                "h": "8",
                "w": "12",
                "x": "12",
                "y": "32"
            }
        },
        {
            "chart": {
                "id": "15",
                "queries": {
                    "targets": [
                        {
                            "query": "alias(\"redis_rdb_last_cow_size\"{folderId='*', service='managed-redis', resource_type='cluster', resource_id='{{resource_id}}'}, \"rdb_last_cow_size:{{host}}\")"
                        },
                        {
                            "query": "alias(\"redis_aof_last_cow_size\"{folderId='*', service='managed-redis', resource_type='cluster', resource_id='{{resource_id}}'}, \"aof_last_cow_size:{{host}}\")"
                        },
                        {
                            "query": "alias(\"redis_module_fork_last_cow_size\"{folderId='*', service='managed-redis', resource_type='cluster', resource_id='{{resource_id}}'}, \"module_fork_last_cow_size:{{host}}\")"
                        }
                    ]
                },
                "title": "Copy-on-write allocations",
                "visualizationSettings": {
                    "colorSchemeSettings": {
                        "auto": {}
                    },
                    "interpolate": "INTERPOLATE_LINEAR",
                    "type": "VISUALIZATION_TYPE_LINE",
                    "yaxisSettings": {
                        "left": {
                            "type": "YAXIS_TYPE_LINEAR",
                            "unitFormat": "UNIT_BYTES_SI"
                        }
                    }
                }
            },
            "position": {
                "h": "8",
                "w": "12",
                "x": "24",
                "y": "32"
            }
        },
        {
            "chart": {
                "id": "16",
                "queries": {
                    "targets": [
                        {
                            "query": "alias(\"redis_hit_rate\"{folderId='*', service='managed-redis', resource_type='cluster', resource_id='{{resource_id}}'}, \"{{host}}\")"
                        }
                    ]
                },
                "title": "Cache Hit Rate",
                "visualizationSettings": {
                    "colorSchemeSettings": {
                        "auto": {}
                    },
                    "interpolate": "INTERPOLATE_LINEAR",
                    "type": "VISUALIZATION_TYPE_LINE",
                    "yaxisSettings": {
                        "left": {
                            "max": "1",
                            "min": "0",
                            "type": "YAXIS_TYPE_LINEAR",
                            "unitFormat": "UNIT_PERCENT_UNIT"
                        }
                    }
                }
            },
            "position": {
                "h": "8",
                "w": "12",
                "y": "40"
            }
        },
        {
            "chart": {
                "id": "17",
                "queries": {
                    "targets": [
                        {
                            "query": "alias(\"redis_client_recent_max_input_buffer\"{folderId='*', service='managed-redis', resource_type='cluster', resource_id='{{resource_id}}'}, \"{{host}}\")"
                        }
                    ]
                },
                "title": "Client recent max input buffer size",
                "visualizationSettings": {
                    "colorSchemeSettings": {
                        "auto": {}
                    },
                    "interpolate": "INTERPOLATE_LINEAR",
                    "type": "VISUALIZATION_TYPE_LINE",
                    "yaxisSettings": {
                        "left": {
                            "type": "YAXIS_TYPE_LINEAR",
                            "unitFormat": "UNIT_BYTES_SI"
                        }
                    }
                }
            },
            "position": {
                "h": "8",
                "w": "12",
                "x": "12",
                "y": "40"
            }
        }
    ]
}
