{
    "meta": {
        "name": "mdb-config-salt",
        "maintainer": "MDB <mdb@yandex-team.ru>",
        "description": "Configuration and helpers for SaltStack minions",
        "version": "1.{revision}-{branch}",
        "pre-depends": ["salt-minion (>= 2016.11.6)", "python-yaml"],
        "homepage": "https://wiki.yandex-team.ru/MDB/"
    },
    "data": [
        {
            "source": {
                "type": "ARCADIA",
                "path": "cloud/mdb/mdb-config-salt/src/allCAs.pem"
            },
            "destination": {
                "path": "/opt/yandex/allCAs.pem"
            }
        },
        {
            "source": {
                "type": "ARCADIA",
                "path": "cloud/mdb/mdb-config-salt/src/get_master.py"
            },
            "destination": {
                "path": "/var/lib/salt/modules/get_master.py"
            }
        },
        {
            "source": {
                "type": "ARCADIA",
                "path": "cloud/mdb/mdb-config-salt/src/mdb_salt_returner.py"
            },
            "destination": {
                "path": "/usr/local/yandex/salt/returners/mdb-salt-returner.py"
            }
        },
        {
            "source": {
                "type": "ARCADIA",
                "path": "cloud/mdb/mdb-config-salt/src/mdb-salt-returner.cron"
            },
            "destination": {
                "path": "/etc/cron.d/mdb-salt-returner"
            }
        },
        {
            "source": {
                "type": "ARCADIA",
                "path": "cloud/mdb/mdb-config-salt/src/mdb-salt-returner.logrotate"
            },
            "destination": {
                "path": "/etc/logrotate.d/mdb-salt-returner"
            }
        },
        {
            "source": {
                "type": "ARCADIA",
                "path": "cloud/mdb/mdb-config-salt/src/mdb_ping_salt_master.py"
            },
            "destination": {
                "path": "/opt/yandex/mdb-ping-salt-master/mdb-ping-salt-master.py",
                "attributes": {"mode": { "value": "0744"} }
            }
        },
        {
            "source": {
                "type": "ARCADIA",
                "path": "cloud/mdb/mdb-config-salt/src/mdb-ping-salt-master.upstart"
            },
            "destination": {
                "path": "/etc/init/mdb-ping-salt-master.conf"
            }
        },
        {
            "source": {
                "type": "ARCADIA",
                "path": "cloud/mdb/mdb-config-salt/src/mdb-ping-salt-master.service"
            },
            "destination": {
                "path": "/etc/systemd/system/mdb-ping-salt-master.service"
            }
        },
        {
            "source": {
                "type": "ARCADIA",
                "path": "cloud/mdb/mdb-config-salt/src/salt-minion.upstart"
            },
            "destination": {
                "path": "/etc/init/salt-minion.conf.yandex"
            }
        },
        {
            "source": {
                "type": "ARCADIA",
                "path": "cloud/mdb/mdb-config-salt/src/salt-minion.service"
            },
            "destination": {
                "path": "/etc/systemd/system/salt-minion.service"
            }
        },
        {
            "source": {
                "type": "ARCADIA",
                "path": "cloud/mdb/mdb-config-salt/src/minion"
            },
            "destination": {
                "path": "/etc/salt/minion.d/yandex.conf"
            }
        }
    ]
}
