diff --git a/.travis.yml b/.travis.yml
index e46346132..999357232 100644
--- a/.travis.yml
+++ b/.travis.yml
@@ -16,9 +16,9 @@
 #
 
 sudo: required
-dist: xenial
+dist: bonic
 language: scala
-  - 2.11.12
+  - 2.12.15
 
 matrix:
   include:
@@ -26,10 +26,10 @@ matrix:
     env: MVN_FLAG='-Pthriftserver -DskipITs'
   - name: "Spark 2.4 ITs"
     env: MVN_FLAG='-Pthriftserver -DskipTests'
-  - name: "Spark 3.0 Unit Tests"
-    env: MVN_FLAG='-Pthriftserver -Pspark-3.0 -DskipITs'
-  - name: "Spark 3.0 ITs"
-    env: MVN_FLAG='-Pthriftserver -Pspark-3.0 -DskipTests'
+  - name: "Spark 3.2 Unit Tests"
+    env: MVN_FLAG='-Pthriftserver -Pspark-3.2 -DskipITs'
+  - name: "Spark 3.2 ITs"
+    env: MVN_FLAG='-Pthriftserver -Pspark-3.2 -DskipTests'
 
 jdk:
   - openjdk8
@@ -40,7 +40,7 @@ cache:
     - $HOME/.m2
 
 install:
-  - sudo add-apt-repository 'deb https://cloud.r-project.org/bin/linux/ubuntu xenial-cran35/'
+  - sudo add-apt-repository 'deb https://cloud.r-project.org/bin/linux/ubuntu bonic-cran35/'
   - sudo apt-get update
   - sudo apt-get -qq --allow-unauthenticated install r-base
   - sudo apt-get -qq install python3-pip python-dev
diff --git a/client-http/pom.xml b/client-http/pom.xml
index a8270766e..01d7abc5a 100644
--- a/client-http/pom.xml
+++ b/client-http/pom.xml
@@ -142,7 +142,7 @@
               <relocations>
                 <relocation>
                   <pattern>com.esotericsoftware</pattern>
-                  <shadedPattern>org.apache.livy.shaded.kryo</shadedPattern>
+                  <shadedPattern>org.apache.livy.shaded.esotericsoftware</shadedPattern>
                 </relocation>
                 <relocation>
                   <pattern>com.fasterxml.jackson</pattern>
diff --git a/integration-test/pom.xml b/integration-test/pom.xml
index 81463850e..c2f8196dc 100644
--- a/integration-test/pom.xml
+++ b/integration-test/pom.xml
@@ -182,11 +182,6 @@
       <scope>compile</scope>
     </dependency>
 
-    <dependency>
-      <groupId>org.scalatra</groupId>
-      <artifactId>scalatra-test_${scala.binary.version}</artifactId>
-    </dependency>
-
     <!-- hadoop-common in test scope needs curator-client, but we want to use the proper version -->
     <dependency>
       <groupId>org.apache.curator</groupId>
diff --git a/pom.xml b/pom.xml
index d2e535a70..50c0a52a2 100644
--- a/pom.xml
+++ b/pom.xml
@@ -79,12 +79,12 @@
 
   <properties>
     <asynchttpclient.version>2.10.1</asynchttpclient.version>
-    <hadoop.version>2.7.3</hadoop.version>
+    <hadoop.version>3.2.2</hadoop.version>
     <hadoop.scope>compile</hadoop.scope>
-    <spark.scala-2.11.version>2.4.5</spark.scala-2.11.version>
-    <spark.scala-2.12.version>2.4.5</spark.scala-2.12.version>
-    <spark.version>${spark.scala-2.11.version}</spark.version>
-    <hive.version>3.0.0</hive.version>
+    <spark.scala-2.11.version>2.4.8</spark.scala-2.11.version>
+    <spark.scala-2.12.version>3.2.1</spark.scala-2.12.version>
+    <spark.version>${spark.scala-2.12.version}</spark.version>
+    <hive.version>3.1.2</hive.version>
     <commons-codec.version>1.9</commons-codec.version>
     <httpclient.version>4.5.3</httpclient.version>
     <httpcore.version>4.4.4</httpcore.version>
@@ -93,21 +93,20 @@
     <jetty.version>9.3.24.v20180605</jetty.version>
     <json4s.spark-2.11.version>3.5.3</json4s.spark-2.11.version>
     <json4s.spark-2.12.version>3.5.3</json4s.spark-2.12.version>
-    <json4s.version>${json4s.spark-2.11.version}</json4s.version>
+    <json4s.version>${json4s.spark-2.12.version}</json4s.version>
     <junit.version>4.11</junit.version>
     <libthrift.version>0.9.3</libthrift.version>
     <kryo.version>4.0.2</kryo.version>
+    <reflectasm.version>1.11.9</reflectasm.version>
     <metrics.version>3.1.0</metrics.version>
     <mockito.version>1.10.19</mockito.version>
-    <netty.spark-2.11.version>4.1.17.Final</netty.spark-2.11.version>
-    <netty.spark-2.12.version>4.1.17.Final</netty.spark-2.12.version>
-    <netty.version>${netty.spark-2.11.version}</netty.version>
+    <netty.version>4.1.68.Final</netty.version>
     <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
     <py4j.version>0.10.7</py4j.version>
     <scala-2.11.version>2.11.12</scala-2.11.version>
-    <scala-2.12.version>2.12.10</scala-2.12.version>
-    <scala.binary.version>2.11</scala.binary.version>
-    <scala.version>${scala-2.11.version}</scala.version>
+    <scala-2.12.version>2.12.15</scala-2.12.version>
+    <scala.binary.version>2.12</scala.binary.version>
+    <scala.version>${scala-2.12.version}</scala.version>
     <scalatest.version>3.0.8</scalatest.version>
     <scalatra.version>2.6.5</scalatra.version>
     <java.version>1.8</java.version>
@@ -115,9 +114,9 @@
     <execution.root>${user.dir}</execution.root>
     <spark.home>${execution.root}/dev/spark</spark.home>
     <spark.bin.download.url>
-      https://archive.apache.org/dist/spark/spark-2.4.5/spark-2.4.5-bin-hadoop2.7.tgz
+      https://archive.apache.org/dist/spark/spark-2.4.8/spark-2.4.8-bin-hadoop2.7.tgz
     </spark.bin.download.url>
-    <spark.bin.name>spark-2.4.5-bin-hadoop2.7</spark.bin.name>
+    <spark.bin.name>spark-2.4.8-bin-hadoop2.7</spark.bin.name>
     <!--  used for testing, NCSARequestLog use it for access log  -->
     <livy.log.dir>${basedir}/target</livy.log.dir>
 
@@ -274,6 +273,12 @@
         <version>${kryo.version}</version>
       </dependency>
 
+      <dependency>
+        <groupId>com.esotericsoftware</groupId>
+        <artifactId>reflectasm</artifactId>
+        <version>${reflectasm.version}</version>
+      </dependency>
+
       <dependency>
         <groupId>com.fasterxml.jackson.core</groupId>
         <artifactId>jackson-annotations</artifactId>
@@ -338,12 +343,6 @@
         <groupId>org.apache.hadoop</groupId>
         <artifactId>hadoop-common</artifactId>
         <version>${hadoop.version}</version>
-        <exclusions>
-          <exclusion>
-            <groupId>javax.servlet</groupId>
-            <artifactId>servlet-api</artifactId>
-          </exclusion>
-        </exclusions>
       </dependency>
 
       <dependency>
@@ -407,12 +406,6 @@
         <groupId>org.apache.spark</groupId>
         <artifactId>spark-core_${scala.binary.version}</artifactId>
         <version>${spark.version}</version>
-        <exclusions>
-          <exclusion>
-            <groupId>org.eclipse.jetty.orbit</groupId>
-            <artifactId>javax.servlet</artifactId>
-          </exclusion>
-        </exclusions>
       </dependency>
 
       <dependency>
@@ -427,8 +420,8 @@
         <version>${spark.version}</version>
         <exclusions>
           <exclusion>
-            <groupId>org.spark-project.spark</groupId>
-            <artifactId>unused</artifactId>
+            <groupId>*</groupId>
+            <artifactId>*</artifactId>
           </exclusion>
         </exclusions>
       </dependency>
@@ -566,12 +559,6 @@
         <version>${scalatra.version}</version>
       </dependency>
 
-      <dependency>
-        <groupId>org.scalatra</groupId>
-        <artifactId>scalatra-test_${scala.binary.version}</artifactId>
-        <version>${scalatra.version}</version>
-      </dependency>
-
       <dependency>
         <groupId>net.sf.py4j</groupId>
         <artifactId>py4j</artifactId>
@@ -638,7 +625,7 @@
         <plugin>
           <groupId>net.alchim31.maven</groupId>
           <artifactId>scala-maven-plugin</artifactId>
-          <version>4.2.0</version>
+          <version>4.5.6</version>
           <executions>
             <execution>
               <goals>
@@ -960,7 +947,7 @@
       <plugin>
         <groupId>org.apache.maven.plugins</groupId>
         <artifactId>maven-dependency-plugin</artifactId>
-        <version>2.10</version>
+        <version>3.3.0</version>
         <configuration>
           <outputDirectory>${project.build.directory}/jars</outputDirectory>
           <useSubDirectoryPerType>false</useSubDirectoryPerType>
@@ -1053,28 +1040,24 @@
     </profile>
 
     <profile>
-      <id>spark-3.0</id>
+      <id>spark-3.2</id>
       <activation>
         <property>
-          <name>spark-3.0</name>
+          <name>spark-3.2</name>
         </property>
       </activation>
       <properties>
-        <spark.scala-2.12.version>3.0.0</spark.scala-2.12.version>
-        <spark.scala-2.11.version>2.4.5</spark.scala-2.11.version>
-        <spark.version>${spark.scala-2.11.version}</spark.version>
-        <netty.spark-2.12.version>4.1.47.Final</netty.spark-2.12.version>
-        <netty.spark-2.11.version>4.1.47.Final</netty.spark-2.11.version>
-        <netty.version>${netty.spark-2.11.version}</netty.version>
+        <spark.scala-2.11.version>2.4.8</spark.scala-2.11.version>
+        <spark.scala-2.12.version>3.2.1</spark.scala-2.12.version>
+        <spark.version>${spark.scala-2.12.version}</spark.version>
+        <netty.version>4.1.75.Final</netty.version>
         <java.version>1.8</java.version>
         <py4j.version>0.10.9</py4j.version>
-        <json4s.spark-2.11.version>3.5.3</json4s.spark-2.11.version>
-        <json4s.spark-2.12.version>3.6.6</json4s.spark-2.12.version>
-        <json4s.version>${json4s.spark-2.11.version}</json4s.version>
+        <json4s.version>3.5.5</json4s.version>
         <spark.bin.download.url>
-          https://archive.apache.org/dist/spark/spark-3.0.0/spark-3.0.0-bin-hadoop2.7.tgz
+          https://archive.apache.org/dist/spark/spark-3.2.1/spark-3.2.1-bin-hadoop3.2.tgz
         </spark.bin.download.url>
-        <spark.bin.name>spark-3.0.0-bin-hadoop2.7</spark.bin.name>
+        <spark.bin.name>spark-3.2.1-bin-hadoop3.2</spark.bin.name>
       </properties>
     </profile>
 
diff --git a/repl/scala-2.11/pom.xml b/repl/scala-2.11/pom.xml
index fb0d15f35..de6d1871c 100644
--- a/repl/scala-2.11/pom.xml
+++ b/repl/scala-2.11/pom.xml
@@ -35,7 +35,6 @@
     <scala.version>${scala-2.11.version}</scala.version>
     <scala.binary.version>2.11</scala.binary.version>
     <spark.version>${spark.scala-2.11.version}</spark.version>
-    <netty.version>${netty.spark-2.11.version}</netty.version>
     <json4s.version>${json4s.spark-2.11.version}</json4s.version>
   </properties>
 
diff --git a/repl/scala-2.12/pom.xml b/repl/scala-2.12/pom.xml
index b1904e89e..09213a023 100644
--- a/repl/scala-2.12/pom.xml
+++ b/repl/scala-2.12/pom.xml
@@ -35,7 +35,6 @@
     <scala.version>${scala-2.12.version}</scala.version>
     <scala.binary.version>2.12</scala.binary.version>
     <spark.version>${spark.scala-2.12.version}</spark.version>
-    <netty.version>${netty.spark-2.12.version}</netty.version>
     <json4s.version>${json4s.spark-2.12.version}</json4s.version>
   </properties>
 
diff --git a/rsc/pom.xml b/rsc/pom.xml
index 833ad8366..d093f93c6 100644
--- a/rsc/pom.xml
+++ b/rsc/pom.xml
@@ -68,16 +68,6 @@
     <dependency>
       <groupId>org.apache.spark</groupId>
       <artifactId>spark-launcher_${scala.binary.version}</artifactId>
-      <exclusions>
-        <exclusion>
-          <groupId>org.scalatest</groupId>
-          <artifactId>scalatest_${scala.binary.version}</artifactId>
-        </exclusion>
-        <exclusion>
-          <groupId>org.apache.spark</groupId>
-          <artifactId>spark-tags_${scala.binary.version}</artifactId>
-        </exclusion>
-      </exclusions>
     </dependency>
 
     <!-- Needed by Spark but excluded in the Livy root pom. -->
@@ -141,8 +131,9 @@
                 <includes>
                   <include>org.apache.livy:livy-client-common</include>
                   <include>com.esotericsoftware:kryo</include>
-                  <include>com.esotericsoftware:minlog</include>
                   <include>com.esotericsoftware:reflectasm</include>
+                  <include>com.esotericsoftware:minlog</include>
+                  <include>org.objenesis:objenesis</include>
                 </includes>
               </artifactSet>
               <filters>
@@ -158,7 +149,7 @@
               <relocations>
                 <relocation>
                   <pattern>com.esotericsoftware</pattern>
-                  <shadedPattern>org.apache.livy.shaded.kryo</shadedPattern>
+                  <shadedPattern>org.apache.livy.shaded.esotericsoftware</shadedPattern>
                 </relocation>
               </relocations>
             </configuration>
@@ -178,6 +169,10 @@
               <excludeArtifactIds>
                 livy-client-common,
                 kryo,
+                reflectasm,
+                minlog,
+                objenesis,
+                netty-all,
                 spark-launcher_${scala.binary.version},
               </excludeArtifactIds>
               <outputDirectory>${project.build.directory}/jars</outputDirectory>
diff --git a/scala-api/pom.xml b/scala-api/pom.xml
index 4963dc70c..be89ccbe4 100644
--- a/scala-api/pom.xml
+++ b/scala-api/pom.xml
@@ -42,17 +42,6 @@
       <groupId>org.apache.livy</groupId>
       <artifactId>livy-rsc</artifactId>
       <version>${project.version}</version>
-      <exclusions>
-        <exclusion>
-          <groupId>io.netty</groupId>
-          <artifactId>netty-all</artifactId>
-        </exclusion>
-      </exclusions>
-      <scope>test</scope>
-    </dependency>
-    <dependency>
-      <groupId>io.netty</groupId>
-      <artifactId>netty-all</artifactId>
       <scope>test</scope>
     </dependency>
     <dependency>
diff --git a/scala-api/scala-2.11/pom.xml b/scala-api/scala-2.11/pom.xml
index e06b7f2f2..e63f78250 100644
--- a/scala-api/scala-2.11/pom.xml
+++ b/scala-api/scala-2.11/pom.xml
@@ -33,6 +33,5 @@
     <scala.version>${scala-2.11.version}</scala.version>
     <scala.binary.version>2.11</scala.binary.version>
     <spark.version>${spark.scala-2.11.version}</spark.version>
-    <netty.version>${netty.spark-2.11.version}</netty.version>
   </properties>
 </project>
diff --git a/scala-api/scala-2.12/pom.xml b/scala-api/scala-2.12/pom.xml
index a4f362d18..48596c1e8 100644
--- a/scala-api/scala-2.12/pom.xml
+++ b/scala-api/scala-2.12/pom.xml
@@ -33,6 +33,5 @@
     <scala.version>${scala-2.12.version}</scala.version>
     <scala.binary.version>2.12</scala.binary.version>
     <spark.version>${spark.scala-2.12.version}</spark.version>
-    <netty.version>${netty.spark-2.12.version}</netty.version>
   </properties>
 </project>
diff --git a/server/pom.xml b/server/pom.xml
index 188158b03..64bab5b7a 100644
--- a/server/pom.xml
+++ b/server/pom.xml
@@ -94,10 +94,6 @@
       <artifactId>hadoop-auth</artifactId>
       <scope>${hadoop.scope}</scope>
       <exclusions>
-        <exclusion>
-          <groupId>jline</groupId>
-          <artifactId>jline</artifactId>
-        </exclusion>
         <exclusion>
           <groupId>org.apache.curator</groupId>
           <artifactId>curator-framework</artifactId>
@@ -112,16 +108,6 @@
     <dependency>
       <groupId>org.apache.hadoop</groupId>
       <artifactId>hadoop-client</artifactId>
-      <exclusions>
-        <exclusion>
-          <groupId>javax.servlet</groupId>
-          <artifactId>servlet-api</artifactId>
-        </exclusion>
-        <exclusion>
-          <groupId>com.sun.jersey</groupId>
-          <artifactId>jersey-core</artifactId>
-        </exclusion>
-      </exclusions>
       <scope>${hadoop.scope}</scope>
     </dependency>
 
@@ -251,18 +237,6 @@
       <scope>test</scope>
     </dependency>
 
-    <dependency>
-      <groupId>org.scalatra</groupId>
-      <artifactId>scalatra-test_${scala.binary.version}</artifactId>
-      <scope>test</scope>
-      <exclusions>
-        <exclusion>
-          <groupId>org.mockito</groupId>
-          <artifactId>*</artifactId>
-        </exclusion>
-      </exclusions>
-    </dependency>
-
     <dependency>
       <groupId>org.apache.directory.server</groupId>
       <artifactId>apacheds-core</artifactId>
diff --git a/server/src/main/scala/org/apache/livy/utils/LivySparkUtils.scala b/server/src/main/scala/org/apache/livy/utils/LivySparkUtils.scala
index c94b199b3..dd32c352e 100644
--- a/server/src/main/scala/org/apache/livy/utils/LivySparkUtils.scala
+++ b/server/src/main/scala/org/apache/livy/utils/LivySparkUtils.scala
@@ -45,7 +45,7 @@ object LivySparkUtils extends Logging {
   private val MAX_VERSION = (3, 1)
 
   private val sparkVersionRegex = """version (.*)""".r.unanchored
-  private val scalaVersionRegex = """Scala version (.*), Java""".r.unanchored
+  private val scalaVersionRegex = """Scala version (.*),""".r.unanchored
 
   /**
    * Test that Spark home is configured and configured Spark home is a directory.
diff --git a/thriftserver/server/pom.xml b/thriftserver/server/pom.xml
index dccb59ff3..927dda3f0 100644
--- a/thriftserver/server/pom.xml
+++ b/thriftserver/server/pom.xml
@@ -93,12 +93,6 @@
       <artifactId>livy-server</artifactId>
       <version>${project.version}</version>
       <scope>provided</scope>
-      <exclusions>
-        <exclusion>
-          <groupId>org.eclipse.jetty</groupId>
-          <artifactId>jetty-server</artifactId>
-        </exclusion>
-      </exclusions>
     </dependency>
 
     <dependency>
diff --git a/thriftserver/session/pom.xml b/thriftserver/session/pom.xml
index 70710de58..2c89d4c69 100644
--- a/thriftserver/session/pom.xml
+++ b/thriftserver/session/pom.xml
@@ -50,12 +50,6 @@
       <groupId>org.apache.spark</groupId>
       <artifactId>spark-hive_${scala.binary.version}</artifactId>
       <scope>provided</scope>
-      <exclusions>
-        <exclusion>
-          <groupId>*</groupId>
-          <artifactId>*</artifactId>
-        </exclusion>
-      </exclusions>
     </dependency>
     <dependency>
       <groupId>${project.groupId}</groupId>
