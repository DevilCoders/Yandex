CREATE TABLE %(table_name)s
(
    ad_block Nullable(Int32),
    age Nullable(String),
    amount Nullable(String),
    area Nullable(String),
    ba_currency Nullable(String),
    ba_name Nullable(String),
    ba_payment_cycle_type Nullable(String),
    ba_person_type Nullable(String),
    ba_state Nullable(String),
    ba_type Nullable(String),
    ba_usage_status Nullable(String),
    balance_name Nullable(String),
    billing_account_id Nullable(String),
    channel Nullable(String),
    channel_detailed Nullable(String),
    city Nullable(String),
    client_ip Nullable(String),
    cloud_id Nullable(String),
    cloud_name Nullable(String),
    cloud_status Nullable(String),
    counter_id Nullable(String),
    country Nullable(String),
    device_model Nullable(String),
    device_type Nullable(String),
    duration Nullable(Int32),
    email Nullable(String),
    event Nullable(String),
    event_time DateTime,
    first_ba_became_paid_datetime Nullable(DateTime),
    first_ba_created_datetime Nullable(DateTime),
    first_cloud_created_datetime Nullable(DateTime),
    first_day_use_datetime Nullable(DateTime),
    first_first_paid_consumption_datetime Nullable(DateTime),
    first_first_payment_datetime Nullable(DateTime),
    first_first_trial_consumption_datetime Nullable(DateTime),
    first_name Nullable(String),
    first_visit_datetime Nullable(DateTime),
    first_visit_dt Nullable(DateTime),
    general_interests Nullable(String),
    hits Nullable(Int32),
    income Nullable(Int32),
    interests Nullable(String),
    is_bounce Nullable(Int32),
    is_robot Nullable(String),
    last_name Nullable(String),
    login Nullable(String),
    mobile_phone_vendor Nullable(Int32),
    name Nullable(String),
    os Nullable(String),
    page_views Nullable(Int32),
    payment_type Nullable(String),
    phone Nullable(String),
    promocode_client_name Nullable(String),
    promocode_client_type Nullable(String),
    promocode_source Nullable(String),
    promocode_type Nullable(String),
    puid Nullable(String),
    real_consumption Nullable(Float64),
    real_consumption_cum Nullable(Float64),
    real_payment Nullable(Float64),
    real_payment_cum Nullable(Float64),
    referer Nullable(String),
    remote_ip Nullable(String),
    resolution_depth Nullable(Int32),
    resolution_height Nullable(Int32),
    resolution_width Nullable(Int32),
    search_phrase Nullable(String),
    segment Nullable(String),
    service_description Nullable(String),
    service_id Nullable(String),
    service_name Nullable(String),
    session_start_time Nullable(DateTime),
    sex Nullable(String),
    sku_id Nullable(String),
    start_time Nullable(String),
    start_url Nullable(String),
    total_visits Nullable(Int32),
    trial_consumption Nullable(Float64),
    trial_consumption_cum Nullable(Float64),
    user_id Nullable(String),
    user_settings_email Nullable(String),
    utm_campaign Nullable(String),
    utm_content Nullable(String),
    utm_medium Nullable(String),
    utm_source Nullable(String),
    utm_term Nullable(String),
    visit_id Nullable(String),
    visit_version Nullable(String),
    window_client_height Nullable(Int32),
    window_client_width Nullable(Int32),
    mail_tech Nullable(Int32),
    mail_testing Nullable(Int32),
    mail_info Nullable(Int32),
    mail_feature Nullable(Int32),
    mail_event Nullable(Int32),
    mail_promo Nullable(Int32),
    mail_billing Nullable(Int32),
    crm_client_name Nullable(String),
    block_reason  Nullable(String),
    trial_consumption_vat Nullable(Float64),
    trial_consumption_vat_cum Nullable(Float64),
    real_consumption_vat Nullable(Float64),
    real_consumption_vat_cum Nullable(Float64),
    real_payment_vat Nullable(Float64),
    real_payment_vat_cum Nullable(Float64),
    sales_name Nullable(String),
    architect Nullable(String),
    potential Nullable(String),
    total Nullable(String),
    core_fraction Nullable(String),
    database Nullable(String),
    platform Nullable(String),
    preemptible Nullable(String),
    service_long_name Nullable(String),
    sku_name Nullable(String),
    subservice_name Nullable(String),
    account_name Nullable(String),
    master_account_id Nullable(String),
    balance_long_name Nullable(String),
    balance Nullable(Float64),
    is_fraud Nullable(Int32),
    board_segment Nullable(String),
    sku_lazy Nullable(Int32),
    unblock_reason Nullable(String),
    is_verified Nullable(String),
    grant_sources Nullable(String),
    grant_amounts Nullable(String),
    grant_amount Nullable(Float64),
    grant_source_ids Nullable(String),
    grant_start_times Nullable(String),
    grant_end_times Nullable(String),
    active_grant_ids Nullable(String),
    active_grants Nullable(Int32),
    usd_rur_quote Nullable(Float64),
    is_var  Nullable(String),
    pricing_unit Nullable(String),
    usage_unit Nullable(String),
    usage_type Nullable(String),
    pricing_quantity Nullable(Float64),
    is_iot Nullable(Int32),
    service_group Nullable(String),
    is_corporate_card Nullable(Int32),
    is_isv Nullable(Int32)
)
ENGINE = ReplicatedMergeTree('/clickhouse/tables/{shard}/%(table_name)s', '{replica}')
ORDER BY(event_time) PARTITION BY toYYYYMM(event_time)