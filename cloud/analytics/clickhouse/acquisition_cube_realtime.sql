CREATE TABLE %(table_name)s
(
     active_grant_ids String,
     active_grants Int64,
     architect_actual String,
     architect String,
     balance_actual Float64,
     balance Float64,
     balance_long_name String,
     balance_name String,
     block_reason String,
     board_segment_actual String,
     board_segment String,
     account_name String,
     ba_currency String,
     grant_amount Float64,
     grant_amounts String,
     grant_end_times String,
     grant_source_ids String,
     grant_sources String,
     grant_start_times String,
     billing_account_id String,
     is_corporate_card Int64,
     is_fraud Int64,
     is_iot_actual Int64,
     is_iot Int64,
     is_isv_actual Int64,
     is_isv Int64,
     is_var_actual String,
     is_var String,
     is_verified_actual String,
     is_verified String,
     master_account_id String,
     ba_name String,
     ba_payment_cycle_type_actual String,
     ba_payment_cycle_type String,
     ba_person_type_actual String,
     ba_person_type String,
     potential_actual String,
     potential String,
     puid String,
     sales_name_actual String,
     sales_name String,
     segment_actual String,
     segment String,
     ba_state_actual String,
     ba_state String,
     ba_type_actual String,
     ba_type String,
     unblock_reason String,
     ba_usage_status_actual String,
     ba_usage_status String,
     cloud_id String,
     billing_record_pricing_unit String,
     usd_rur_quote Float64,
     event String,
     event_time DateTime,
     ad_block Int64,
     age String,
     area String,
     channel String,
     city String,
     client_ip String,
     country String,
     device_model String,
     device_type String,
     duration Int64,
     general_interests String,
     hits Int64,
     income Int64,
     interests String,
     is_bounce Int64,
     is_robot String,
     mobile_phone_vendor Int64,
     os String,
     page_views Int64,
     referer String,
     remote_ip String,
     resolution_depth Int64,
     resolution_height Int64,
     resolution_width Int64,
     search_phrase String,
     session_start_time String,
     sex String,
     start_url String,
     total_visits Int64,
     utm_campaign String,
     utm_content String,
     utm_medium String,
     utm_source String,
     utm_term String,
     window_client_height Int64,
     cloud_name String,
     cloud_status String,
     email String,
     first_name String,
     last_name String,
     login String,
     mail_billing Int64,
     mail_event Int64,
     mail_feature Int64,
     mail_info Int64,
     mail_promo Int64,
     mail_tech Int64,
     mail_testing Int64,
     phone String,
     user_settings_email String,
     service_id String,
     sku_id String,
     sku_name String,
     core_fraction String,
     core_fraction_number Float64,
     cores String,
     cores_number Float64,
     database String,
     sku_lazy Int64,
     platform String,
     preemptible String,
     ram String,
     ram_number Float64,
     service_group String,
     service_long_name String,
     service_name String,
     subservice_name String,
     total String,
     all String,
     core_type String,
     is_reserve String,
     billing_record_usage_unit String,
     br_credit_cud Float64,
     br_credit_cud_rub Float64,
     br_credit_cud_rub_vat Float64,
     br_cost Float64,
     br_cost_rub Float64,
     br_cost_rub_vat Float64,
     br_credit Float64,
     br_credit_rub Float64,
     br_credit_rub_vat Float64,
     trial_consumption Float64,
     trial_consumption_vat Float64 ,
     br_credit_disabled Float64,
     br_credit_disabled_rub Float64,
     br_credit_disabled_rub_vat Float64,
     br_credit_grant Float64,
     br_credit_grant_rub Float64,
     br_credit_grant_rub_vat Float64,
     br_pricing_quantity Float64,
     br_credit_service Float64,
     br_credit_service_rub Float64,
     br_credit_service_rub_vat Float64,
     br_total Float64,
     real_consumption Float64,
     real_consumption_vat Float64,
     br_credit_trial Float64,
     br_credit_trial_rub Float64,
     br_credit_trial_rub_vat Float64,
     br_credit_volume_incentive Float64,
     br_credit_volume_incentive_rub Float64,
     br_credit_volume_incentive_rub_vat Float64,
     br_var_reward Float64,
     br_var_reward_rub Float64,
     br_var_reward_rub_vat Float64,
     first_ba_created_datetime String,
     first_first_trial_consumption_datetime String,
     first_first_paid_consumption_datetime String,
     vm_origin String,
     is_committed Float64,
     mk8s_relevant Float64,
    crm_account_name String,
    crm_account_segment String,
    crm_account_owner String,
    crm_account_architect String,
    crm_account_bus_dev String,
    crm_account_partner_manager String,
    crm_account_sales String,
    crm_account_segment_current String,
    crm_account_owner_current String,
    crm_account_architect_current String,
    crm_account_bus_dev_current String,
    crm_account_partner_manager_current String,
    crm_account_sales_current String,
    crm_account_tags String,

    marketing_attribution_event_id UInt64,
    marketing_attribution_event_type String,
    marketing_attribution_event_time UInt64,
    marketing_attribution_channel String,
    marketing_attribution_channel_marketing_influenced String,
    marketing_attribution_utm_campaign String,
    marketing_attribution_utm_source String,
    marketing_attribution_utm_medium String,
    marketing_attribution_utm_term String,
    marketing_attribution_counter_id_serial UInt64,
    marketing_attribution_event_first_weight Float64,
    marketing_attribution_event_last_weight Float64,
    marketing_attribution_event_uniform_weight Float64,
    marketing_attribution_event_u_shape_weight Float64,
    marketing_attribution_event_exp_7d_half_life_time_decay_weight Float64,


    marketing_touched_events_list String,
    marketing_touched_events_count UInt64

)
ENGINE = ReplicatedMergeTree('/clickhouse/tables/{shard}/%(table_name)s', '{replica}')
ORDER BY(event, event_time, billing_account_id) PARTITION BY toYYYYMM(event_time)
