Configuration:
  monitorInterval: 30
  status: INFO
  appenders:
    Async:
      name: async
      blocking: false
      AppenderRef:
        ref: stdout
    Console:
      name: stdout
      PatternLayout:
        pattern: "%d [%t] %-5level %c{1.}: %X{formatted-rid} %msg%n%throwable"
    RollingFile:
      -
        name: accessLogAppender
        filename: "/var/log/yc/access-service/access.log"
        filePattern: "/var/log/yc/access-service/access-%d{yyyy-MM-dd}-%i.log.gz"
        PatternLayout:
          pattern: "%msg%n"
        Policies:
          TimeBasedTriggeringPolicy:
            interval: 1
            modulate: true
          SizeBasedTriggeringPolicy:
            size: 1024 MB
        DefaultRolloverStrategy:
          max: 10
          Delete:
            basePath: "/var/log/yc/access-service/"
            IfFileName:
              glob: access-*.log.gz
            IfLastModified:
              age: P10D
      -
        name: serverLogAppender
        filename: "/var/log/yc/access-service/server.log"
        filePattern: "/var/log/yc/access-service/server-%d{yyyy-MM-dd}-%i.log.gz"
        PatternLayout:
          pattern: "%d [%t] %-5level %c{1.}: %X{formatted-rid} %msg%n%throwable"
        Policies:
          TimeBasedTriggeringPolicy:
            interval: 1
            modulate: true
          SizeBasedTriggeringPolicy:
            size: 1024 MB
        DefaultRolloverStrategy:
          max: 10
          Delete:
            basePath: "/var/log/yc/access-service/"
            IfFileName:
              glob: server-*.log.gz
            IfLastModified:
              age: P10D

  Loggers:
    Root:
      level: info
      AppenderRef:
        ref: serverLogAppender
    AsyncLogger:
      -
        name: yandex.cloud
        level: info
        additivity: false
        AppenderRef:
          ref: serverLogAppender
      -
        name: yandex.cloud.grpc
        level: info
        additivity: false
        AppenderRef:
          ref: serverLogAppender
      -
        name: yandex.cloud.iam
        level: info
        additivity: false
        AppenderRef:
          ref: serverLogAppender
      -
        name: yandex.cloud.iam.AbstractShardedCache
        level: info
        additivity: false
        AppenderRef:
          ref: serverLogAppender
      -
        name: yandex.cloud.repository
        level: info
        additivity: false
        AppenderRef:
          ref: serverLogAppender
      -
        name: yandex.cloud.grpc.LoggingInterceptor
        level: info
      -
        name: accessLog
        level: debug
        additivity: false
        AppenderRef:
          ref: accessLogAppender
