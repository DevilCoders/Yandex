{%- from "billing/map.jinja" import kikimr_endpoint, billing with context %}

logging:
  level: DEBUG

endpoints:
  kikimr:
    billing:
      host: {{ kikimr_endpoint.host }}
      root: {{ kikimr_endpoint.root }}

solomon:
  base_url: {{ billing.solomon.base_url }}
  project: {{ billing.solomon.project }}
  cluster: {{ billing.solomon.cluster }}
  period: {{ billing.solomon.period }}


{% if billing.get('solomon_queue', {}) %}
queue:
  name: {{ billing.solomon_queue.name }}
  backend: {{ billing.solomon_queue.backend }}
  default_partitions: {{ billing.solomon_queue.get('default_partitions', 15) }}
  queue_partitions: {{ billing.solomon_queue.get('queue_partitions', {}) }}
  worker: {{ billing.solomon_queue.worker }}
{% endif %}
