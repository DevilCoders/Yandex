Configuration:
  packages: "io.prometheus.client.log4j2"
  appenders:
    Console:
      name: stdout
      PatternLayout:
        Pattern: "%d %-5level %-6X{tx} [%t] %c{1.}: %X{formatted-rid}%msg%n%throwable"
    RollingFile:
    - name: serverLogAppender
      filename: "/var/log/yc/resource-manager/server.log"
      filePattern: "/var/log/yc/resource-manager/server-%d{yyyy-MM-dd}-%i.log.gz"
      PatternLayout:
        pattern: "%d %-5level %-6X{tx} [%t] %c{1.}: %X{formatted-rid}%msg%n%throwable"
      Policies:
        TimeBasedTriggeringPolicy:
          interval: 1
          modulate: true
        SizeBasedTriggeringPolicy:
          size: 1 GB
    - name: accessLogAppender
      filename: "/var/log/yc/resource-manager/access.log"
      filePattern: "/var/log/yc/resource-manager/access-%d{yyyy-MM-dd}-%i.log.gz"
      PatternLayout:
        pattern: "%msg%n"
      Policies:
        TimeBasedTriggeringPolicy:
          interval: 1
          modulate: true
        SizeBasedTriggeringPolicy:
          size: 1 GB
    Prometheus:
      name: prometheus

  Loggers:
    Root:
      level: info
      AppenderRef:
      - ref: serverLogAppender
      - ref: prometheus
    Logger:
    - name: yandex.cloud.grpc.LoggingInterceptor
      level: debug
    - name: accessLog
      level: debug
      additivity: false
      AppenderRef:
        ref: accessLogAppender
