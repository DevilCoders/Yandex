#!/usr/bin/env python3

import yc_monitoring as mon


SYSTEMD_SERVICES = [
    'contrail-api',
    'contrail-dns',
    'contrail-named',
    'ifmap',
    'rabbitmq-server',
]
THRESHOLD_SEC = 60 * 20


def main():
    cr = mon.ComplexResult()
    for service in SYSTEMD_SERVICES:
        mon.check_service_running(service=service, min_uptime=THRESHOLD_SEC, result=cr)
    cr.report_and_exit()


if __name__ == "__main__":
    main()
