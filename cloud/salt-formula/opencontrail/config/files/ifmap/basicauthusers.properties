# This is a read-only MAPC
reader:reader
{%- for hostname in grains['cluster_map']['hosts'] | sort %}
{%- set host_roles = grains['cluster_map']['hosts'][hostname]['roles'] %}
{%- if 'oct_ctrl' in host_roles or 'oct_head' in host_roles %}
{{ hostname.split('.')[0][-22:] }}-ctl:{{ hostname.split('.')[0][-22:] }}-ctl
{{ hostname.split('.')[0][-22:] }}-dns:{{ hostname.split('.')[0][-22:] }}-dns
{%- endif %}
{%- if 'oct_conf' in host_roles or 'oct_head' in host_roles %}
{{ hostname.split('.')[0][-22:] }}-monitor:{{ hostname.split('.')[0][-22:] }}-monitor
{{ hostname.split('.')[0][-22:] }}-api:{{ hostname.split('.')[0][-22:] }}-api
{{ hostname.split('.')[0][-22:] }}-schema:{{ hostname.split('.')[0][-22:] }}-schema
{%- endif %}
{%- endfor %}
