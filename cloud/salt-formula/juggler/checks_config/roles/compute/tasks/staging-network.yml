# for testing new checks before including in duty process
# you can create staging check using silent_check instead default_check
# silent_check has not resposibles and has not alert method

# When creating new staging.yml from this one, don't forget to include it in main.yaml

- name: 'juggler_check: netmon-agent-health'
  juggler_check: ''
  vars:
    host: "yc_network_compute_{{ env }}"
    check_tags: ['{{ common_tag }}-network']
  args: "{{ silent_check | hash_merge(item, default_timed_limits_unreach_skip) }}"
  with_items:
    - service: netmon-agent-health

- name: 'juggler_check: dns-unanswered-requests'
  juggler_check: ''
  vars:
    host: "yc_network_compute_{{ env }}"
    check_tags: ['{{ common_tag }}-network']
  args: "{{ silent_check | hash_merge(item, default_timed_limits_unreach_skip) }}"
  with_items:
    - service: dns-unanswered-requests

- name: 'juggler_check: dns-response-latency'
  juggler_check: ''
  vars:
    host: "yc_network_compute_{{ env }}"
    check_tags: ['{{ common_tag }}-network']
  args: "{{ silent_check | hash_merge(item, default_timed_limits_unreach_skip) }}"
  with_items:
    - service: dns-response-latency

- name: 'juggler_check : contrail-invalid-nh'
  juggler_check: ''
  vars:
    host: "yc_network_compute_{{ env }}"
    check_tags: ['{{ common_tag }}-network']
  args: "{{ silent_check | hash_merge(item, default_timed_limits_unreach_skip) }}"
  with_items:
    - service: contrail-invalid-nh
      ttl: 660

- name: 'juggler_check : vrouter-uptime'
  juggler_check: ''
  vars:
    host: "yc_network_compute_{{ env }}"
    check_tags: ['{{ common_tag }}-network']
  args: "{{ silent_check | hash_merge(item, default_timed_limits_unreach_skip) }}"
  with_items:
    - service: vrouter-uptime
      ttl: 40
      refresh_time: 30

- name: 'juggler_check : ping-cgws'
  juggler_check: ''
  vars:
    host: "yc_network_compute_{{ env }}"
    check_tags: ['{{ common_tag }}-network']
  args: "{{ silent_check | hash_merge(item, default_timed_limits_unreach_skip) }}"
  with_items:
    - service: ping-cgws

- name: 'juggler_check: eth0vf0-rx-drops'
  juggler_check: ''
  vars:
    host: "yc_network_compute_{{ env }}"
    check_tags: ['{{ common_tag }}-network']
  args: "{{ silent_check | hash_merge(item, default_timed_limits_unreach_skip) }}"
  with_items:
    - service: eth0vf0-rx-drops

- name: 'juggler_check: network-cpus-overload'
  juggler_check: ''
  vars:
    host: "yc_network_compute_{{ env }}"
    check_tags: ['{{ common_tag }}-network']
  args: "{{ silent_check | hash_merge(item, default_timed_limits_unreach_skip) }}"
  with_items:
    - service: network-cpus-overload

- name: 'juggler_check : vrouter-autorecovery'
  juggler_check: ''
  vars:
    host: "yc_network_compute_{{ env }}"
    check_tags: ['{{ common_tag }}-network']
  args: "{{ silent_check | hash_merge(item, default_network_limits_unreach_skip) }}"
  with_items:
    - service: vrouter-autorecovery
      ttl: 1800
      refresh_time: 30

- name: 'juggler_check: need-service-restart'
  juggler_check: ''
  args: "{{ silent_check | hash_merge(item, default_timed_limits_unreach_skip) }}"
  with_items:
    - service: need-service-restart

- name: 'juggler_check: vrouter-flows-created-per-second'
  juggler_check: ''
  vars:
    host: "yc_network_compute_{{ env }}"
    check_tags: ['{{ common_tag }}-network']
  args: "{{ silent_check | hash_merge(item, default_timed_limits_unreach_skip) }}"
  with_items:
    - service: vrouter-flows-created-per-second