- name: 'juggler_check : UNREACHABLE'
  juggler_check: ''
  args: "{{ common_check | hash_merge(item, default_timed_limits) }}"
  with_items:
    - service: UNREACHABLE
      active: icmpping

- name: 'juggler_check : META'
  juggler_check: ''
  args: "{{ common_check | hash_merge(item, default_timed_limits) }}"
  with_items:
    - service: META

- name: 'juggler_check : dns'
  juggler_check: ''
  args: "{{ common_check | hash_merge(item, default_timed_limits_unreach_skip) }}"
  with_items:
    - service: dns
      active: icmpping

- name: 'juggler_check : ntp_stratum'
  juggler_check: ''
  args: "{{ common_check | hash_merge(item, default_timed_limits_unreach_skip) }}"
  with_items:
    - service: ntp_stratum

- name: 'juggler_check : oom-killer'
  juggler_check: ''
  vars:
    notification_methods: "{{ custom_notifications if custom_notifications is defined else default_notification_methods }}"
    service: oom-killer
  args: "{{ common_silent_check | hash_merge(item, default_timed_limits_unreach_skip) }}"
  with_items:
    - refresh_time: 900
      service: "{{ service }}"

- name: 'juggler_check : ssh'
  juggler_check: ''
  args: "{{ common_check | hash_merge(item, default_timed_limits_unreach_skip) }}"
  with_items:
    - service: ssh
      ssh: {timeout: 10}
      flap: true

- name: 'juggler_check : freespace'
  juggler_check: ''
  args: "{{ common_check | hash_merge(item, default_timed_limits_unreach_skip) }}"
  with_items:
    - service: freespace

- name: 'juggler_check : reboot-count'
  juggler_check: ''
  vars:
    notification_methods: "{{ custom_notifications if custom_notifications is defined else default_notification_methods }}"
    service: reboot-count
  args: "{{ common_silent_check | hash_merge(item, default_timed_limits_unreach_skip) }}"
  with_items:
    - service: "{{ service }}"

- name: 'juggler_check : salt-minion_version'
  juggler_check: ''
  vars:
    notification_methods: "{{ custom_notifications if custom_notifications is defined else default_notification_methods }}"
    service: salt-minion_version
  args: "{{ common_silent_check | hash_merge(item, default_timed_limits_unreach_skip) }}"
  with_items:
    - service: "{{ service }}"

- name: 'juggler_check : coredump_common'
  juggler_check: ''
  vars:
    service: coredump_common
  args: "{{ common_silent_check | hash_merge(item, default_timed_limits_unreach_skip) }}"
  with_items:
    - service: "{{ service }}"

- name: 'juggler_check : solomon-agent'
  juggler_check: ''
  vars:
    service: solomon-agent
    notification_methods: "{{ custom_notifications if custom_notifications is defined else [] }}"
  args: "{{ common_silent_check | hash_merge(item, default_timed_limits_unreach_skip) }}"
  with_items:
    - service: "{{ service }}"

- name: 'juggler_check : walle_fs_check'
  juggler_check: ''
  args: "{{ common_check | hash_merge(item, default_timed_limits_unreach_skip) }}"
  with_items:
    - service: walle_fs_check
