{
    "appConfig": {},
    "application": "compute-api",
    "id": "721c01f3-a74d-4b22-a8dd-0a3794a9dcb3",
    "index": 3,
    "keepWaitingPipelines": false,
    "limitConcurrent": true,
    "name": "common-resolve-slack-user-id",
    "parameterConfig": [
        {
            "default": "",
            "description": "Staff login",
            "hasOptions": false,
            "label": "",
            "name": "login",
            "options": [
                {
                    "value": ""
                }
            ],
            "pinned": true,
            "required": true
        }
    ],
    "spelEvaluator": "v4",
    "stages": [
        {
            "expectedArtifacts": [],
            "failOnFailedExpressions": true,
            "method": "GET",
            "name": "Request to internal Slack API",
            "refId": "1",
            "requisiteStageRefIds": [],
            "statusUrlResolution": "getMethod",
            "type": "webhook",
            "url": "https://slack-apps.in.yandex-team.ru/ya-admin/get-slack-user-id/?username=${parameters.login}",
            "waitForCompletion": false
        },
        {
            "failOnFailedExpressions": true,
            "name": "Evaluate Variables",
            "refId": "2",
            "requisiteStageRefIds": [
                "1"
            ],
            "type": "evaluateVariables",
            "variables": [
                {
                    "key": "slack_user_id",
                    "value": "${#stage('Request to internal Slack API').context.webhook.body.slackUserId}"
                }
            ]
        }
    ],
    "triggers": []
}
