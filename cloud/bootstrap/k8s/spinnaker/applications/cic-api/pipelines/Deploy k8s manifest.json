{
    "application": "cic-api",
    "id": "ddf83ca6-7d2b-4a18-be60-ea918022ee96",
    "index": 1,
    "keepWaitingPipelines": false,
    "limitConcurrent": true,
    "name": "Deploy k8s manifest",
    "parameterConfig": [
        {
            "default": "vpc-api",
            "description": "",
            "hasOptions": false,
            "label": "Kubernetes namespace",
            "name": "k8sNamespace",
            "options": [
                {
                    "value": ""
                }
            ],
            "pinned": true,
            "required": true
        },
        {
            "default": "",
            "description": "",
            "hasOptions": true,
            "label": "vpc-api, cic-api",
            "name": "k8sServiceName",
            "options": [
                {
                    "value": "vpc-api"
                },
                {
                    "value": "cic-api"
                }
            ],
            "pinned": false,
            "required": false
        },
        {
            "default": "",
            "description": "",
            "hasOptions": true,
            "label": "Deployment cluster name",
            "name": "clusterName",
            "options": [
                {
                    "value": "TESTING"
                },
                {
                    "value": "PREPROD"
                },
                {
                    "value": "PROD"
                }
            ],
            "pinned": true,
            "required": true
        },
        {
            "default": "",
            "description": "",
            "hasOptions": true,
            "label": "Datacenter name",
            "name": "datacenterName",
            "options": [
                {
                    "value": "VLA"
                },
                {
                    "value": "SAS"
                },
                {
                    "value": "MYT"
                }
            ],
            "pinned": false,
            "required": false
        },
        {
            "default": "",
            "description": "",
            "hasOptions": true,
            "label": "Availability zone letter (a, b, c)",
            "name": "azLetter",
            "options": [
                {
                    "value": "a"
                },
                {
                    "value": "b"
                },
                {
                    "value": "c"
                }
            ],
            "pinned": false,
            "required": false
        }
    ],
    "spelEvaluator": "v4",
    "stages": [
        {
            "account": "${k8sNamespace}-rc1${azLetter}-${clusterName.toLowerCase()}-k8s",
            "cloudProvider": "kubernetes",
            "manifestArtifact": {
                "artifactAccount": "bb.yandex-team.ru",
                "id": "121a759b-7739-4c70-acfb-1af06a17c9d7",
                "reference": "https://bb.yandex-team.ru/projects/CLOUD/repos/k8s-deploy/raw/${clusterName.toLowerCase()}/ru-central1-${azLetter}-svm/manifests/${k8sNamespace}/${k8sServiceName}/templates/${k8sServiceName}.yaml",
                "type": "bitbucket/file"
            },
            "moniker": {
                "app": "wronglink-test"
            },
            "name": "Deploy k8s manifest",
            "namespaceOverride": "",
            "refId": "1",
            "requisiteStageRefIds": [],
            "skipExpressionEvaluation": false,
            "source": "artifact",
            "trafficManagement": {
                "enabled": false,
                "options": {
                    "enableTraffic": false
                }
            },
            "type": "deployManifest"
        }
    ],
    "triggers": []
}
