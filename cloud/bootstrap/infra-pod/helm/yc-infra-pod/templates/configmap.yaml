apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "yc-infra-pod.fullname" . }}-configmap
  labels:
{{ include "yc-infra-pod.labels" . | indent 4 }}
data:
  {{- if .Values.pushClient.enabled }}
  push-client.yaml: |
    {{- tpl (.Files.Get "configs/push-client/push-client.yaml.tpl") . | indent 6 }}
  {{- end }}
  {{- if .Values.unifiedAgent.enabled }}
  config.yml: |
    {{- tpl (.Files.Get "configs/unified-agent/config.yml.tpl") . | indent 6 }}
  {{- end }}
  {{- if .Values.solomonAgent.enabled }}
  agent.conf: |
    {{- tpl (.Files.Get "configs/solomon-agent/agent.conf.tpl") . | indent 6 }}
  {{- end }}
  {{- if .Values.jugglerClient.enabled }}
  client.conf: |
    {{- tpl (.Files.Get "configs/juggler-client/client.conf.tpl") . | indent 6 }}
  {{- end }}
