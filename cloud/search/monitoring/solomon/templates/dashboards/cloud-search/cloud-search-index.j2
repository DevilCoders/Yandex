{
  "id": "<< id_prefix >>-health-duty-index-board",
  "projectId": "<< project_id >>",
  "name": "<< human_prefix >> duty index board",
  "rows": [
    {
        "panels": [
            {
              "title": "Total docs [count]",
              "url": "?cluster=<< indexer.get("cluster") >>&project=<< project_id >>&service=<< indexer.get("service") >>&graph=<< id_prefix >>-indexer-docs-total",
              "colspan": 1,
              "rowspan": 1
            },
            {
              "title": "Active docs [count]",
              "url": "?cluster=<< indexer.get("cluster") >>&project=<< project_id >>&service=<< indexer.get("service") >>&graph=<< id_prefix >>-indexer-docs-active",
              "colspan": 1,
              "rowspan": 1
            },
            {
              "title": "Deleted docs [count]",
              "url": "?cluster=<< indexer.get("cluster") >>&project=<< project_id >>&service=<< indexer.get("service") >>&graph=<< id_prefix >>-indexer-docs-deleted",
              "colspan": 1,
              "rowspan": 1
            },
            {
              "title": "Suspicous stale, (25h-48h] w/o reindex [count]",
              "url": "?cluster=<< indexer.get("cluster") >>&project=<< project_id >>&service=<< indexer.get("service") >>&graph=<< id_prefix >>-indexer-docs-susp-stale",
              "colspan": 1,
              "rowspan": 1
            },
            {
              "title": "Stale docs [count]",
              "url": "?cluster=<< indexer.get("cluster") >>&project=<< project_id >>&service=<< indexer.get("service") >>&graph=<< id_prefix >>-indexer-docs-stale",
              "colspan": 1,
              "rowspan": 1
            },
            {
              "title": "Stale docs not marked [count]",
              "url": "?cluster=<< indexer.get("cluster") >>&project=<< project_id >>&service=<< indexer.get("service") >>&graph=<< id_prefix >>-indexer-docs-stale-nm",
              "colspan": 1,
              "rowspan": 1
            }
       ]
   },
   {	
       "panels": [
            {
              "title": "Total docs marketplace [count]",
              "url": "?cluster=<< indexer.get("cluster") >>&project=<< project_id >>&service=<< indexer.get("service") >>&graph=<< id_prefix >>-indexer-docs-marketplace-total",
              "colspan": 1,
              "rowspan": 1
            },
            {
              "title": "Docs marketplace default [count]",
              "url": "?cluster=<< indexer.get("cluster") >>&project=<< project_id >>&service=<< indexer.get("service") >>&graph=<< id_prefix >>-indexer-docs-marketplace-default",
              "colspan": 1,
              "rowspan": 1
            },
            {
              "title": "Docs marketplace products [count]",
              "url": "?cluster=<< indexer.get("cluster") >>&project=<< project_id >>&service=<< indexer.get("service") >>&graph=<< id_prefix >>-indexer-docs-marketplace-products",
              "colspan": 1,
              "rowspan": 1
            },
            {
              "title": "Docs marketplace partner_products [count]",
              "url": "?cluster=<< indexer.get("cluster") >>&project=<< project_id >>&service=<< indexer.get("service") >>&graph=<< id_prefix >>-indexer-docs-marketplace-partner-products",
              "colspan": 1,
              "rowspan": 1
            },
	    {
              "title": "Docs marketplace partners [count]",
              "url": "?cluster=<< indexer.get("cluster") >>&project=<< project_id >>&service=<< indexer.get("service") >>&graph=<< id_prefix >>-indexer-docs-marketplace-partners",
              "colspan": 1,
              "rowspan": 1
            }

        ]
    },
    {%- for svc in g.env_ctx.cloud_service -%}
    {
        "panels": [
            {
              "title": "Total << svc >> [count]",
              "url": "?cluster=<< indexer.get("cluster") >>&project=<< project_id >>&service=<< indexer.get("service") >>&graph=<< id_prefix >>-indexer-<< svc >>-total",
              "colspan": 1,
              "rowspan": 1
            },
            {
              "title": "Active << svc >> [count]",
              "url": "?cluster=<< indexer.get("cluster") >>&project=<< project_id >>&service=<< indexer.get("service") >>&graph=<< id_prefix >>-indexer-<< svc >>-active",
              "colspan": 1,
              "rowspan": 1
            },
            {
              "title": "Deleted << svc >> [count]",
              "url": "?cluster=<< indexer.get("cluster") >>&project=<< project_id >>&service=<< indexer.get("service") >>&graph=<< id_prefix >>-indexer-<< svc >>-deleted",
              "colspan": 1,
              "rowspan": 1
            },
            {
              "title": "Suspicous stale, (25h-48h] w/o reindex << svc >> [count]",
              "url": "?cluster=<< indexer.get("cluster") >>&project=<< project_id >>&service=<< indexer.get("service") >>&graph=<< id_prefix >>-idx-<< svc >>-susp-stale",
              "colspan": 1,
              "rowspan": 1
            },
            {
              "title": "Stale << svc >> [count]",
              "url": "?cluster=<< indexer.get("cluster") >>&project=<< project_id >>&service=<< indexer.get("service") >>&graph=<< id_prefix >>-indexer-<< svc >>-stale",
              "colspan": 1,
              "rowspan": 1
            },
            {
              "title": "Stale & not marked << svc >> [count]",
              "url": "?cluster=<< indexer.get("cluster") >>&project=<< project_id >>&service=<< indexer.get("service") >>&graph=<< id_prefix >>-idx-<< svc >>-stale-nm",
              "colspan": 1,
              "rowspan": 1
            }
        ]
    }

      {%- if not loop.last -%}
      ,
      {%- endif -%}
    {%- endfor -%}
  ,
      {
        "panels": [
              {
                "type": "MARKDOWN",
                "title": "",
                "markdown": "{% include "dashboards/cloud-search/footer" %}",
                "rowspan": 1,
                "colspan": 1
              }
        ]
    },
    {
     "panels":[{
              "title": "WARNs & CRITs",
              "url": "https://juggler.yandex-team.ru/aggregate_checks/?query=namespace%3Dycsearch%20%26%20tag%3D<< juggler.get('tag')>>&statuses=CRIT%2CWARN&iframe=true",
              "colspan": 4,
              "rowspan": 2
            }
     ]
  }
  ],
  "parameters": [
    {
      "name": "project",
      "value": "<< project_id >>"
    }
  ],
  "heightMultiplier": "1"
}
