{
    "definitions": {},
    "$id": "a.yandex-team.ru/arc/trunk/arcadia/cloud/search/schemas/v1/event.json",
    "$schema": "http://json-schema.org/draft-07/schema#",
    "type": "object",
    "title": "Search Event",
    "required": [
      "resource_type",
      "timestamp",
      "resource_id",
      "name",
      "service",
      "deleted",
      "permission",
      "cloud_id",
      "folder_id",
      "attributes"
    ],
    "additionalProperties": false,
    "properties": {
      "resource_type": {
        "$id": "#/properties/resource_type",
        "type": "string",
        "title": "Type of Yandex.Cloud resource",
        "examples": [
          "cluster"
        ],
        "pattern": "^[-a-z]{1,32}$"
      },
      "timestamp": {
        "$id": "#/properties/timestamp",
        "type": "string",
        "title": "Timestamp of the mutation, ISO8601",
        "examples": [
          "2019-12-02T19:40:49.224173+03:00"
        ],
        "pattern": "(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2}):(\\d{2})(.(\\d{1,6}))?[+-](\\d{2}):(\\d{2})",
        "format": "regex"
      },
      "resource_id": {
        "$id": "#/properties/resource_id",
        "type": "string",
        "title": "ID of the resource",
        "examples": [
          "cid1"
        ],
        "pattern": "^[a-z0-9]{1,18}$"
      },
      "name": {
        "$id": "#/properties/name",
        "type": "string",
        "title": "name of the resource",
        "examples": [
          "my-cool-production-cluster"
        ],
        "pattern": "^.{0,256}$"
      },
      "service": {
        "$id": "#/properties/service",
        "type": "string",
        "title": "ID of Yandex.Cloud service",
        "examples": [
          "managed-mysql"
        ],
        "pattern": "^[-a-z0-9]{3,32}$"
      },
      "deleted": {
        "$id": "#/properties/deleted",
        "type": "string",
        "title": "Timestamp of deletition, can be empty, ISO8601",
        "examples": [
          "",
          "2019-12-02T19:40:49.224173+03:00"
        ],
        "pattern": "((\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2}):(\\d{2})(.(\\d{1,6}))?[+-](\\d{2}):(\\d{2}))?"
      },
      "permission": {
        "$id": "#/properties/permission",
        "type": "string",
        "title": "Which permission should be checked for access (at least read-only) to object",
        "examples": [
          "mdb.all.read"
        ],
        "pattern": "^([.a-z_-]){3,64}$"
      },
      "cloud_id": {
        "$id": "#/properties/cloud_id",
        "type": "string",
        "title": "ID of cloud",
        "examples": [
          "cloud1"
        ],
        "pattern": "^([a-z0-9]{1,18})$"
      },
      "folder_id": {
        "$id": "#/properties/folder_id",
        "type": "string",
        "title": "ID of folder",
        "examples": [
          "folder1"
        ],
        "pattern": "^([a-z0-9]{1,20})$"
      },
      "attributes": {
        "$id": "#/properties/attributes",
        "type": "object",
        "title": "The Attributes Schema"
      }
    }
  }
