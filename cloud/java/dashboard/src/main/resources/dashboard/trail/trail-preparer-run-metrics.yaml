uid: trail-preparer-run-metrics
refresh: 1m
title: Audit Trails Preparer Dashboard â€” Run Metrics

tags:
  - yc-trails
  - yc-audit-trails
links:
  - { title: 'Preparer', url: 'https://grafana.yandex-team.ru/d/trail-preparer' }
  - { title: 'System', url: 'https://grafana.yandex-team.ru/d/trail-preparer-system' }
  - { title: 'Workers', url: 'https://grafana.yandex-team.ru/d/trail-preparer-workers' }
  - { title: 'Dashboards', tags: [ yc-trails ] }

variables:
  ui:
    !include include/_datasources.yaml
    !include include/_projects.yaml
    !include include/_clusters.yaml
    host:
      values:
        - cluster-prp
        - prp-vla-1
        - prp-sas-1
        - prp-myt-1
  replacement:
    !include ../include/errors.yaml
  repeat:
    run_metric:
      values:
        - preparerJob
        - logbrokerTopicReaderInit
        - eventConverter
        - localCacheRefresh
        - localCacheExpire
        - cacheCleanupJob
        - namesResolverIam
        - namesResolverRm
        - eventParser
        - eventFilter
        - statisticsCollector
        - validation
        - concealService
        - trailsCacheRefresh
        - removeProductMetricsServiceMetrics
      titles:
        - Consume Message
        - Logbroker Reader Init
        - Event Converter
        - Local Cache Refresh
        - Local Cache Expire
        - Cache Cleanup Job
        - Name Resolver IAM
        - Name Resolver Resource Manager
        - Event Parser
        - Event Filter
        - Statistics Collector
        - Validation
        - Conceal Address
        - Trails Cache Refresh
        - Remove Product Metrics Job


graphDefaults:
  datasource: ${datasource}
  width: 8
  height: 6

queryDefaults:
  dropNan: false
  labels: 'project=${project}, cluster=trail, service=core, host=${host}'
  defaultTimeWindow: $__interval

rows:
  !include include/_run_metrics.yaml

