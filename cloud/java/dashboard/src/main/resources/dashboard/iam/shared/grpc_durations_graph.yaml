- type: graph
  title: 'GRPC/HTTP Durations'
  params: { width: 8 }
  queries:
    - params: { labels: 'sensor=grpc_durations' }
      select: { moving_avg: [ 1m ], non_negative_derivative: [], group_by_labels: [ sum, le ], histogram_percentile: [99, le], alias: p99 }
    - params: { labels: 'sensor=grpc_durations' }
      select: { moving_avg: [ 1m ], non_negative_derivative: [], group_by_labels: [ sum, le ], histogram_percentile: [99.9, le], alias: p99.9 }
    - params: { labels: 'sensor=grpc_durations' }
      select: { moving_avg: [ 1m ], non_negative_derivative: [], group_by_labels: [ sum, le ], histogram_percentile: [99.99, le], alias: p99.99 }
    - params: { labels: 'sensor=grpc_durations' }
      select: { moving_avg: [ 1m ], non_negative_derivative: [], group_by_labels: [ sum, le ], histogram_percentile: [100, le], alias: p100 }

    - params: { labels: 'sensor=servlet_durations' }
      select: { moving_avg: [ 1m ], non_negative_derivative: [], group_by_labels: [ sum, le ], histogram_percentile: [99, le], alias: http.p99 }
    - params: { labels: 'sensor=servlet_durations' }
      select: { moving_avg: [ 1m ], non_negative_derivative: [], group_by_labels: [ sum, le ], histogram_percentile: [99.9, le], alias: http.p99.9 }
    - params: { labels: 'sensor=servlet_durations' }
      select: { moving_avg: [ 1m ], non_negative_derivative: [], group_by_labels: [ sum, le ], histogram_percentile: [99.99, le], alias: http.p99.99 }
    - params: { labels: 'sensor=servlet_durations' }
      select: { moving_avg: [ 1m ], non_negative_derivative: [], group_by_labels: [ sum, le ], histogram_percentile: [100, le], alias: http.p100 }
  yAxes: [ { format: s, min: 0 } ]
  display: { empty: false, sort: decreasing }
