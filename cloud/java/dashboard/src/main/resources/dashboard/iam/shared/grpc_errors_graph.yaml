- type: graph
  title: 'Errors'
  queries:
    - params: { labels: 'sensor=grpc_statuses, status=@499' }
      select: { moving_avg: [ 1m ], non_negative_derivative: [], drop_below: '0', group_lines: [ sum ], alias: '499' }
    - params: { labels: 'sensor=grpc_statuses, status=@4xx' }
      select: { moving_avg: [ 1m ], non_negative_derivative: [], drop_below: '0', group_lines: [ sum ], alias: '4xx' }
    - params: { labels: 'sensor=grpc_statuses, status=@503' }
      select: { moving_avg: [ 1m ], non_negative_derivative: [], drop_below: '0', group_lines: [ sum ], alias: '503' }
    - params: { labels: 'sensor=grpc_statuses, status=@5xx' }
      select: { moving_avg: [ 1m ], non_negative_derivative: [], drop_below: '0', group_lines: [ sum ], alias: '5xx' }
    - params: { labels: 'sensor=servlet_statuses|http_statuses, status=499' }
      select: { moving_avg: [ 1m ], non_negative_derivative: [], drop_below: '0', group_lines: [ sum ], alias: 'h499' }
    - params: { labels: 'sensor=servlet_statuses|http_statuses, status=4*|3*' }
      select: { moving_avg: [ 1m ], non_negative_derivative: [], drop_below: '0', group_lines: [ sum ], alias: 'h4xx3xx' }
    - params: { labels: 'sensor=servlet_statuses|http_statuses, status=503' }
      select: { moving_avg: [ 1m ], non_negative_derivative: [], drop_below: '0', group_lines: [ sum ], alias: 'h503' }
    - params: { labels: 'sensor=servlet_statuses|http_statuses, status=5*' }
      select: { moving_avg: [ 1m ], non_negative_derivative: [], drop_below: '0', group_lines: [ sum ], alias: 'h5xx' }
  draw:
    - { alias: '499', color: '#92D', at: right }
    - { alias: '4xx', color: '#147', at: right }
    - { alias: '503', color: '#da7', at: left }
    - { alias: '5xx', color: '#b20', at: left }
    - { alias: 'h499', color: '#92D', at: right }
    - { alias: 'h4xx3xx', color: '#147', at: right }
    - { alias: 'h503', color: '#da7', at: left }
    - { alias: 'h5xx', color: '#b20', at: left }
  yAxes: [ { min: 0 }, { min: 0 } ]
  display: { empty: false, sort: decreasing }
