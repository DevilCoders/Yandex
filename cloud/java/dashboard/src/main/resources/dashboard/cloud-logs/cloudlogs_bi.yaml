uid: kMhv8FAWz
refresh: 1m
title: Cloud Logs business metrics

variables:
  ui:
    cluster:
      values: ['prod', 'preprod']

graphDefaults:
  datasource: 'Solomon Cloud'
  width: 12
  height: 8
queryDefaults: { labels: 'project=serverless, service=logs_service, cluster=logs-${cluster}, host=*' }

rows:
  - title: Log Groups business metrics
    panels:
      - type: graph
        title: 'Log Groups count'
        queries:
          - params: { labels: 'sensor=bi_log_group_count' }
        yAxes: [{min: 0}]
      - type: graph
        title: 'Metrics collection time'
        queries:
          - params: { labels: 'sensor=bi_collection_time' }
            select: { drop_below: [0], alias: "time" }
        yAxes: [{label: time, format: s}]
